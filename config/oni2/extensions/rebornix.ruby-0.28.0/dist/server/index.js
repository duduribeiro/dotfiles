module.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=99)}([function(t,e,n){"use strict";n.d(e,"a",function(){return i});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),i=n(26),o=n(58),s=n(4),u=n(45),c=n(13),a=n(40),l=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,n,r,i)}return s}return r.a(e,t),e.prototype[u.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),f=function(t){function e(e,n,r,s){var u,c=t.call(this)||this;c._parentSubscriber=e;var a=c;return Object(i.a)(n)?u=n:n&&(u=n.next,r=n.error,s=n.complete,n!==o.a&&(a=Object.create(n),Object(i.a)(a.unsubscribe)&&c.add(a.unsubscribe.bind(a)),a.unsubscribe=c.unsubscribe.bind(c))),c._context=a,c._next=u,c._error=r,c._complete=s,c}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw t;Object(a.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(a.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return a});var r=n(0),i=n(1),o=n(3),s=n(39),u=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(i.a),c=(i.a,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(i.a));i.a;function a(t,e){if(!e.closed)return t instanceof o.a?t.subscribe(e):Object(s.a)(t)(e)}},function(t,e,n){"use strict";var r=n(56),i=n(1),o=n(45),s=n(58);var u=n(22),c=n(43),a=n(13);n.d(e,"a",function(){return l});var l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,u=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(r?u.add(r.call(u,this.source)):u.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=f(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[u.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(c.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=f(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function f(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(7),i=n(55),o=n(26),s=n(46),u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,u=this._ctorUnsubscribe,a=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var f=0;f<n.length;++f){n[f].remove(this)}if(Object(o.a)(a)){u&&(this._unsubscribe=void 0);try{a.call(this)}catch(t){e=t instanceof s.a?c(t.errors):[t]}}if(Object(r.a)(l)){f=-1;for(var h=l.length;++f<h;){var d=l[f];if(Object(i.a)(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof s.a?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new s.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce(function(t,e){return t.concat(e instanceof s.a?e.errors:e)},[])}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(0),i=n(3),o=n(1),s=n(4),u=n(23),c=n(79),a=n(45),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(o.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[a.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new u.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new u.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new u.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new u.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new u.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new c.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(f)},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n(32),i=new(n(30).a)(r.a),o=i},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(1);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(3),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(39),o=n(78);function s(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(1).a),o=n(39),s=n(3);function u(t,e,n,r,u){if(void 0===u&&(u=new i(t,n,r)),!u.closed)return e instanceof s.a?e.subscribe(u):Object(o.a)(e)(u)}n.d(e,"a",function(){return u})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},function(t,e){t.exports=require("path")},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(1);function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return u});var r,i=n(10),o=n(41),s=n(50);r||(r={});var u=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},function(t,e,n){var r,i;!function(o,s){"use strict";void 0===(i="function"==typeof(r=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(e,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<e?t:this.methodFactory(o,e,n)}this.log=this.debug}function u(r,u,c){return function(r){return"debug"===r&&(r="log"),typeof console!==e&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):t)}(r)||function(t,n,r){return function(){typeof console!==e&&(s.call(this,n,r),this[t].apply(this,arguments))}}.apply(this,arguments)}function c(t,n,i){var o,c=this,a="loglevel";function l(){var t;if(typeof window!==e){try{t=window.localStorage[a]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(a)+"=");-1!==r&&(t=/^([^;]+)/.exec(n.slice(r))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}}t&&(a+=":"+t),c.name=t,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=i||u,c.getLevel=function(){return o},c.setLevel=function(n,i){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==i&&function(t){var n=(r[t]||"silent").toUpperCase();if(typeof window!==e){try{return void(window.localStorage[a]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(a)+"="+n+";"}catch(t){}}}(n),s.call(c,n,t),typeof console===e&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){l()||c.setLevel(t,!1)},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var f=l();null==f&&(f=null==n?"WARN":n),c.setLevel(f,!1)}var a=new c,l={};a.getLogger=function(t){if("string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=l[t];return e||(e=l[t]=new c(t,a.getLevel(),a.methodFactory)),e};var f=typeof window!==e?window.log:void 0;return a.noConflict=function(){return typeof window!==e&&window.log===a&&(window.log=f),a},a.getLoggers=function(){return l},a})?r.call(e,n,e,t):r)||(t.exports=i)}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(63);e.Event=r.Event;const i=n(117),o=n(118),s=n(88),u=n(119);!function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(63));const c=n(120);!function(t){t.uriToFilePath=c.uriToFilePath,t.resolveGlobalNodePath=c.resolveGlobalNodePath,t.resolveGlobalYarnPath=c.resolveGlobalYarnPath,t.resolve=c.resolve,t.resolveModule=c.resolveModule,t.resolveModule2=c.resolveModule2,t.resolveModulePath=c.resolveModulePath}(e.Files||(e.Files={}));let a=!1,l=void 0;function f(t){if(null!==t)return t}!function(){function t(t){try{let e=parseInt(t);isNaN(e)||(l=setInterval(()=>{try{process.kill(e,0)}catch(t){process.exit(a?0:1)}},3e3))}catch(t){}}for(let e=2;e<process.argv.length;e++){let n=process.argv[e];if("--clientProcessId"===n&&e+1<process.argv.length)return void t(process.argv[e+1]);{let e=n.split("=");"--clientProcessId"===e[0]&&t(e[1])}}}();e.TextDocuments=class{constructor(){this._documents=Object.create(null),this._onDidChangeContent=new r.Emitter,this._onDidOpen=new r.Emitter,this._onDidClose=new r.Emitter,this._onDidSave=new r.Emitter,this._onWillSave=new r.Emitter}get syncKind(){return r.TextDocumentSyncKind.Full}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._documents[t]}all(){return Object.keys(this._documents).map(t=>this._documents[t])}keys(){return Object.keys(this._documents)}listen(t){t.__textDocumentSync=r.TextDocumentSyncKind.Full,t.onDidOpenTextDocument(t=>{let e=t.textDocument,n=r.TextDocument.create(e.uri,e.languageId,e.version,e.text);this._documents[e.uri]=n;let i=Object.freeze({document:n});this._onDidOpen.fire(i),this._onDidChangeContent.fire(i)}),t.onDidChangeTextDocument(t=>{let e=t.textDocument,n=t.contentChanges,r=n.length>0?n[n.length-1]:void 0;if(r){let t=this._documents[e.uri];if(t&&function(t){return s.func(t.update)}(t)){if(null===e.version||void 0===e.version)throw new Error(`Received document change event for ${e.uri} without valid version identifier`);t.update(r,e.version),this._onDidChangeContent.fire(Object.freeze({document:t}))}}}),t.onDidCloseTextDocument(t=>{let e=this._documents[t.textDocument.uri];e&&(delete this._documents[t.textDocument.uri],this._onDidClose.fire(Object.freeze({document:e})))}),t.onWillSaveTextDocument(t=>{let e=this._documents[t.textDocument.uri];e&&this._onWillSave.fire(Object.freeze({document:e,reason:t.reason}))}),t.onWillSaveTextDocumentWaitUntil((t,e)=>{let n=this._documents[t.textDocument.uri];return n&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:n,reason:t.reason}),e):[]}),t.onDidSaveTextDocument(t=>{let e=this._documents[t.textDocument.uri];e&&this._onDidSave.fire(Object.freeze({document:e}))})}};e.ErrorMessageTracker=class{constructor(){this._messages=Object.create(null)}add(t){let e=this._messages[t];e||(e=0),e++,this._messages[t]=e}sendErrors(t){Object.keys(this._messages).forEach(e=>{t.window.showErrorMessage(e)})}},function(t){t.create=function(){return new h}}(e.BulkRegistration||(e.BulkRegistration={}));class h{constructor(){this._registrations=[],this._registered=new Set}add(t,e){const n=s.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);const r=u.generateUuid();this._registrations.push({id:r,method:n,registerOptions:e||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}}!function(t){t.create=function(){return new d(void 0,[])}}(e.BulkUnregistration||(e.BulkUnregistration={}));class d{constructor(t,e){this._connection=t,this._unregistrations=new Map,e.forEach(t=>{this._unregistrations.set(t.method,t)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let e of this._unregistrations.values())t.push(e);let e={unregisterations:t};this._connection.sendRequest(r.UnregistrationRequest.type,e).then(void 0,t=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){const e=s.string(t)?t:t.method,n=this._unregistrations.get(e);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(r.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(e)},t=>{this._connection.console.info(`Unregistering request handler for ${n.id} failed.`)}),!0}}class p{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(r.MessageType.Error,t)}warn(t){this.send(r.MessageType.Warning,t)}info(t){this.send(r.MessageType.Info,t)}log(t){this.send(r.MessageType.Log,t)}send(t,e){this._rawConnection&&this._rawConnection.sendNotification(r.LogMessageNotification.type,{type:t,message:e})}}class _{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...e){let n={type:r.MessageType.Error,message:t,actions:e};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(f)}showWarningMessage(t,...e){let n={type:r.MessageType.Warning,message:t,actions:e};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(f)}showInformationMessage(t,...e){let n={type:r.MessageType.Info,message:t,actions:e};return this._connection.sendRequest(r.ShowMessageRequest.type,n).then(f)}}class m{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,e,n){return t instanceof h?this.registerMany(t):t instanceof d?this.registerSingle1(t,e,n):this.registerSingle2(t,e)}registerSingle1(t,e,n){const i=s.string(e)?e:e.method,o=u.generateUuid();let c={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this._connection),this._connection.sendRequest(r.RegistrationRequest.type,c).then(e=>(t.add({id:o,method:i}),t),t=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(t)))}registerSingle2(t,e){const n=s.string(t)?t:t.method,i=u.generateUuid();let o={registrations:[{id:i,method:n,registerOptions:e||{}}]};return this._connection.sendRequest(r.RegistrationRequest.type,o).then(t=>r.Disposable.create(()=>{this.unregisterSingle(i,n)}),t=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(t)))}unregisterSingle(t,e){let n={unregisterations:[{id:t,method:e}]};return this._connection.sendRequest(r.UnregistrationRequest.type,n).then(void 0,e=>{this.connection.console.info(`Unregistering request handler for ${t} failed.`)})}registerMany(t){let e=t.asRegistrationParams();return this._connection.sendRequest(r.RegistrationRequest.type,e).then(()=>new d(this._connection,e.registrations.map(t=>({id:t.id,method:t.method}))),t=>(this.connection.console.info("Bulk registration failed."),Promise.reject(t)))}}const g=o.WorkspaceFoldersFeature(i.ConfigurationFeature(class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){let e=(n=t)&&n.edit?t:{edit:t};var n;return this._connection.sendRequest(r.ApplyWorkspaceEditRequest.type,e)}}));class y{constructor(){this._trace=r.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,e){this._trace!==r.Trace.Off&&this._connection.sendNotification(r.LogTraceNotification.type,{message:t,verbose:this._trace===r.Trace.Verbose?e:void 0})}}class v{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this._connection.sendNotification(r.TelemetryEventNotification.type,t)}}function b(t,e){return function(n){return e(t(n))}}function w(t,e){return function(n){return e(t(n))}}function x(t,e){return function(n){return e(t(n))}}function E(t,e){return function(n){return e(t(n))}}function S(t,e){return function(n){return e(t(n))}}function C(t,e){return function(n){return e(t(n))}}e.combineConsoleFeatures=b,e.combineTelemetryFeatures=w,e.combineTracerFeatures=x,e.combineClientFeatures=E,e.combineWindowFeatures=S,e.combineWorkspaceFeatures=C,e.combineFeatures=function(t,e){function n(t,e,n){return t&&e?n(t,e):t||e}return{__brand:"features",console:n(t.console,e.console,b),tracer:n(t.tracer,e.tracer,x),telemetry:n(t.telemetry,e.telemetry,w),client:n(t.client,e.client,E),window:n(t.window,e.window,S),workspace:n(t.workspace,e.workspace,C)}},e.createConnection=function(t,e,n,i){let o,u,c,f;return void 0!==t&&"features"===t.__brand&&(o=t,t=e,e=n,n=i),r.ConnectionStrategy.is(t)?f=t:(u=t,c=e,f=n),function(t,e,n,i){if(!t&&!e&&process.argv.length>2){let n=void 0,i=void 0,s=process.argv.slice(2);for(let u=0;u<s.length;u++){let c=s[u];if("--node-ipc"===c){t=new r.IPCMessageReader(process),e=new r.IPCMessageWriter(process);break}if("--stdio"===c){t=process.stdin,e=process.stdout;break}if("--socket"===c){n=parseInt(s[u+1]);break}if("--pipe"===c){i=s[u+1];break}var o=c.split("=");if("--socket"===o[0]){n=parseInt(o[1]);break}if("--pipe"===o[0]){i=o[1];break}}if(n){let i=r.createServerSocketTransport(n);t=i[0],e=i[1]}else if(i){let n=r.createServerPipeTransport(i);t=n[0],e=n[1]}}var u="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+u);if(!e)throw new Error("Connection output stream is not set. "+u);if(s.func(t.read)&&s.func(t.on)){let e=t;e.on("end",()=>{process.exit(a?0:1)}),e.on("close",()=>{process.exit(a?0:1)})}const c=i&&i.console?new(i.console(p)):new p,f=r.createProtocolConnection(t,e,c,n);c.rawAttach(f);const h=i&&i.tracer?new(i.tracer(y)):new y,d=i&&i.telemetry?new(i.telemetry(v)):new v,b=i&&i.client?new(i.client(m)):new m,w=i&&i.window?new(i.window(_)):new _,x=i&&i.workspace?new(i.workspace(g)):new g,E=[c,h,d,b,w,x];let S=void 0,C=void 0,T=void 0,R={listen:()=>f.listen(),sendRequest:(t,...e)=>f.sendRequest(s.string(t)?t:t.method,...e),onRequest:(t,e)=>f.onRequest(t,e),sendNotification:(t,e)=>{const n=s.string(t)?t:t.method;1===arguments.length?f.sendNotification(n):f.sendNotification(n,e)},onNotification:(t,e)=>f.onNotification(t,e),onInitialize:t=>C=t,onInitialized:t=>f.onNotification(r.InitializedNotification.type,t),onShutdown:t=>S=t,onExit:t=>T=t,get console(){return c},get telemetry(){return d},get tracer(){return h},get client(){return b},get window(){return w},get workspace(){return x},onDidChangeConfiguration:t=>f.onNotification(r.DidChangeConfigurationNotification.type,t),onDidChangeWatchedFiles:t=>f.onNotification(r.DidChangeWatchedFilesNotification.type,t),__textDocumentSync:void 0,onDidOpenTextDocument:t=>f.onNotification(r.DidOpenTextDocumentNotification.type,t),onDidChangeTextDocument:t=>f.onNotification(r.DidChangeTextDocumentNotification.type,t),onDidCloseTextDocument:t=>f.onNotification(r.DidCloseTextDocumentNotification.type,t),onWillSaveTextDocument:t=>f.onNotification(r.WillSaveTextDocumentNotification.type,t),onWillSaveTextDocumentWaitUntil:t=>f.onRequest(r.WillSaveTextDocumentWaitUntilRequest.type,t),onDidSaveTextDocument:t=>f.onNotification(r.DidSaveTextDocumentNotification.type,t),sendDiagnostics:t=>f.sendNotification(r.PublishDiagnosticsNotification.type,t),onHover:t=>f.onRequest(r.HoverRequest.type,t),onCompletion:t=>f.onRequest(r.CompletionRequest.type,t),onCompletionResolve:t=>f.onRequest(r.CompletionResolveRequest.type,t),onSignatureHelp:t=>f.onRequest(r.SignatureHelpRequest.type,t),onDeclaration:t=>f.onRequest(r.DeclarationRequest.type,t),onDefinition:t=>f.onRequest(r.DefinitionRequest.type,t),onTypeDefinition:t=>f.onRequest(r.TypeDefinitionRequest.type,t),onImplementation:t=>f.onRequest(r.ImplementationRequest.type,t),onReferences:t=>f.onRequest(r.ReferencesRequest.type,t),onDocumentHighlight:t=>f.onRequest(r.DocumentHighlightRequest.type,t),onDocumentSymbol:t=>f.onRequest(r.DocumentSymbolRequest.type,t),onWorkspaceSymbol:t=>f.onRequest(r.WorkspaceSymbolRequest.type,t),onCodeAction:t=>f.onRequest(r.CodeActionRequest.type,t),onCodeLens:t=>f.onRequest(r.CodeLensRequest.type,t),onCodeLensResolve:t=>f.onRequest(r.CodeLensResolveRequest.type,t),onDocumentFormatting:t=>f.onRequest(r.DocumentFormattingRequest.type,t),onDocumentRangeFormatting:t=>f.onRequest(r.DocumentRangeFormattingRequest.type,t),onDocumentOnTypeFormatting:t=>f.onRequest(r.DocumentOnTypeFormattingRequest.type,t),onRenameRequest:t=>f.onRequest(r.RenameRequest.type,t),onPrepareRename:t=>f.onRequest(r.PrepareRenameRequest.type,t),onDocumentLinks:t=>f.onRequest(r.DocumentLinkRequest.type,t),onDocumentLinkResolve:t=>f.onRequest(r.DocumentLinkResolveRequest.type,t),onDocumentColor:t=>f.onRequest(r.DocumentColorRequest.type,t),onColorPresentation:t=>f.onRequest(r.ColorPresentationRequest.type,t),onFoldingRanges:t=>f.onRequest(r.FoldingRangeRequest.type,t),onExecuteCommand:t=>f.onRequest(r.ExecuteCommandRequest.type,t),dispose:()=>f.dispose()};for(let t of E)t.attach(R);return f.onRequest(r.InitializeRequest.type,t=>{const e=t.processId;s.number(e)&&void 0===l&&setInterval(()=>{try{process.kill(e,0)}catch(t){process.exit(a?0:1)}},3e3),s.string(t.trace)&&(h.trace=r.Trace.fromString(t.trace));for(let e of E)e.initialize(t.capabilities);if(C){return function(t){return s.thenable(t)?t:Promise.resolve(t)}(C(t,(new r.CancellationTokenSource).token)).then(t=>{if(t instanceof r.ResponseError)return t;let e=t;e||(e={capabilities:{}});let n=e.capabilities;n||(n={},e.capabilities=n),void 0===n.textDocumentSync||null===n.textDocumentSync?n.textDocumentSync=s.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None:s.number(n.textDocumentSync)||s.number(n.textDocumentSync.change)||(n.textDocumentSync.change=s.number(R.__textDocumentSync)?R.__textDocumentSync:r.TextDocumentSyncKind.None);for(let t of E)t.fillServerCapabilities(n);return e})}{let t={capabilities:{textDocumentSync:r.TextDocumentSyncKind.None}};for(let e of E)e.fillServerCapabilities(t.capabilities);return t}}),f.onRequest(r.ShutdownRequest.type,()=>(a=!0,S?S((new r.CancellationTokenSource).token):void 0)),f.onNotification(r.ExitNotification.type,()=>{try{T&&T()}finally{a?process.exit(0):process.exit(1)}}),f.onNotification(r.SetTraceNotification.type,t=>{h.trace=r.Trace.fromString(t.value)}),R}(u,c,f,o)},function(t){t.all={__brand:"features"}}(e.ProposedFeatures||(e.ProposedFeatures={}))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n(0),i=n(8),o=n(11),s=n(2);function u(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(u(function(n,r){return Object(o.a)(t(n,r)).pipe(Object(i.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.concurrent))},t}(),a=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new s.a(this),n=this.destination;n.add(e);var r=Object(s.c)(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.b),l=u},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(80),o=n(57);function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(62),o=function(t){function e(n,r){void 0===r&&(r=i.a.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),i=n(5),o=n(4),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.a)},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(4).a);n.d(e,"a",function(){return o});var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(i)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(7);function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});const i=n(59),o=n(100);e.RequestType=o.RequestType,e.RequestType0=o.RequestType0,e.RequestType1=o.RequestType1,e.RequestType2=o.RequestType2,e.RequestType3=o.RequestType3,e.RequestType4=o.RequestType4,e.RequestType5=o.RequestType5,e.RequestType6=o.RequestType6,e.RequestType7=o.RequestType7,e.RequestType8=o.RequestType8,e.RequestType9=o.RequestType9,e.ResponseError=o.ResponseError,e.ErrorCodes=o.ErrorCodes,e.NotificationType=o.NotificationType,e.NotificationType0=o.NotificationType0,e.NotificationType1=o.NotificationType1,e.NotificationType2=o.NotificationType2,e.NotificationType3=o.NotificationType3,e.NotificationType4=o.NotificationType4,e.NotificationType5=o.NotificationType5,e.NotificationType6=o.NotificationType6,e.NotificationType7=o.NotificationType7,e.NotificationType8=o.NotificationType8,e.NotificationType9=o.NotificationType9;const s=n(84);e.MessageReader=s.MessageReader,e.StreamMessageReader=s.StreamMessageReader,e.IPCMessageReader=s.IPCMessageReader,e.SocketMessageReader=s.SocketMessageReader;const u=n(85);e.MessageWriter=u.MessageWriter,e.StreamMessageWriter=u.StreamMessageWriter,e.IPCMessageWriter=u.IPCMessageWriter,e.SocketMessageWriter=u.SocketMessageWriter;const c=n(64);e.Disposable=c.Disposable,e.Event=c.Event,e.Emitter=c.Emitter;const a=n(101);e.CancellationTokenSource=a.CancellationTokenSource,e.CancellationToken=a.CancellationToken;const l=n(102);var f,h,d,p,_,m,g;r(n(103)),r(n(106)),function(t){t.type=new o.NotificationType("$/cancelRequest")}(f||(f={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"}(h=e.Trace||(e.Trace={})),function(t){t.fromString=function(e){switch(e=e.toLowerCase()){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}},t.toString=function(e){switch(e){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}}(h=e.Trace||(e.Trace={})),function(t){t.Text="text",t.JSON="json"}(d=e.TraceFormat||(e.TraceFormat={})),function(t){t.fromString=function(e){return"json"===(e=e.toLowerCase())?t.JSON:t.Text}}(d=e.TraceFormat||(e.TraceFormat={})),function(t){t.type=new o.NotificationType("$/setTraceNotification")}(p=e.SetTraceNotification||(e.SetTraceNotification={})),function(t){t.type=new o.NotificationType("$/logTraceNotification")}(_=e.LogTraceNotification||(e.LogTraceNotification={})),function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"}(m=e.ConnectionErrors||(e.ConnectionErrors={}));class y extends Error{constructor(t,e){super(e),this.code=t,Object.setPrototypeOf(this,y.prototype)}}function v(t,e,n,r){let s=0,u=0,v=0;const b="2.0";let w,x,E=void 0,S=Object.create(null),C=void 0,T=Object.create(null),R=new l.LinkedMap,O=Object.create(null),N=Object.create(null),P=h.Off,k=d.Text,j=g.New,I=new c.Emitter,D=new c.Emitter,M=new c.Emitter,A=new c.Emitter;function q(t){return"req-"+t.toString()}function F(t,e){var n;o.isRequestMessage(e)?t.set(q(e.id),e):o.isResponseMessage(e)?t.set(null===(n=e.id)?"res-unknown-"+(++v).toString():"res-"+n.toString(),e):t.set("not-"+(++u).toString(),e)}function L(t){}function $(){return j===g.Listening}function W(){return j===g.Closed}function V(){return j===g.Disposed}function U(){j!==g.New&&j!==g.Listening||(j=g.Closed,D.fire(void 0))}function H(){w||0===R.size||(w=setImmediate(()=>{w=void 0,function(){if(0===R.size)return;let t=R.shift();try{o.isRequestMessage(t)?function(t){if(V())return;function n(n,r,i){let s={jsonrpc:b,id:t.id};n instanceof o.ResponseError?s.error=n.toJson():s.result=void 0===n?null:n,B(s,r,i),e.write(s)}function r(n,r,i){let o={jsonrpc:b,id:t.id,error:n.toJson()};B(o,r,i),e.write(o)}!function(t){if(P===h.Off||!x)return;if(k===d.Text){let e=void 0;P===h.Verbose&&t.params&&(e=`Params: ${JSON.stringify(t.params,null,4)}\n\n`),x.log(`Received request '${t.method} - (${t.id})'.`,e)}else K("receive-request",t)}(t);let s,u,c=S[t.method];c&&(s=c.type,u=c.handler);let l=Date.now();if(u||E){let c=new a.CancellationTokenSource,f=String(t.id);N[f]=c;try{let a,h=a=void 0===t.params||void 0!==s&&0===s.numberOfParams?u?u(c.token):E(t.method,c.token):i.array(t.params)&&(void 0===s||s.numberOfParams>1)?u?u(...t.params,c.token):E(t.method,...t.params,c.token):u?u(t.params,c.token):E(t.method,t.params,c.token);a?h.then?h.then(e=>{delete N[f],n(e,t.method,l)},e=>{delete N[f],e instanceof o.ResponseError?r(e,t.method,l):e&&i.string(e.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${t.method} failed with message: ${e.message}`),t.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${t.method} failed unexpectedly without providing any details.`),t.method,l)}):(delete N[f],n(a,t.method,l)):(delete N[f],function(n,r,i){void 0===n&&(n=null);let o={jsonrpc:b,id:t.id,result:n};B(o,r,i),e.write(o)}(a,t.method,l))}catch(e){delete N[f],e instanceof o.ResponseError?n(e,t.method,l):e&&i.string(e.message)?r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${t.method} failed with message: ${e.message}`),t.method,l):r(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${t.method} failed unexpectedly without providing any details.`),t.method,l)}}else r(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${t.method}`),t.method,l)}(t):o.isNotificationMessage(t)?function(t){if(V())return;let e,r=void 0;if(t.method===f.type.method)e=t=>{let e=t.id,n=N[String(e)];n&&n.cancel()};else{let n=T[t.method];n&&(e=n.handler,r=n.type)}if(e||C)try{!function(t){if(P===h.Off||!x||t.method===_.type.method)return;if(k===d.Text){let e=void 0;P===h.Verbose&&(e=t.params?`Params: ${JSON.stringify(t.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Received notification '${t.method}'.`,e)}else K("receive-notification",t)}(t),void 0===t.params||void 0!==r&&0===r.numberOfParams?e?e():C(t.method):i.array(t.params)&&(void 0===r||r.numberOfParams>1)?e?e(...t.params):C(t.method,...t.params):e?e(t.params):C(t.method,t.params)}catch(e){e.message?n.error(`Notification handler '${t.method}' failed with message: ${e.message}`):n.error(`Notification handler '${t.method}' failed unexpectedly.`)}else M.fire(t)}(t):o.isResponseMessage(t)?function(t){if(V())return;if(null===t.id)t.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(t.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let e=String(t.id),r=O[e];if(function(t,e){if(P===h.Off||!x)return;if(k===d.Text){let n=void 0;if(P===h.Verbose&&(t.error&&t.error.data?n=`Error data: ${JSON.stringify(t.error.data,null,4)}\n\n`:t.result?n=`Result: ${JSON.stringify(t.result,null,4)}\n\n`:void 0===t.error&&(n="No result returned.\n\n")),e){let r=t.error?` Request failed: ${t.error.message} (${t.error.code}).`:"";x.log(`Received response '${e.method} - (${t.id})' in ${Date.now()-e.timerStart}ms.${r}`,n)}else x.log(`Received response ${t.id} without active response promise.`,n)}else K("receive-response",t)}(t,r),r){delete O[e];try{if(t.error){let e=t.error;r.reject(new o.ResponseError(e.code,e.message,e.data))}else{if(void 0===t.result)throw new Error("Should never happen.");r.resolve(t.result)}}catch(t){t.message?n.error(`Response handler '${r.method}' failed with message: ${t.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(t):function(t){if(!t)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(t,null,4)}`);let e=t;if(i.string(e.id)||i.number(e.id)){let t=String(e.id),n=O[t];n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(t)}finally{H()}}()}))}t.onClose(U),t.onError(function(t){I.fire([t,void 0,void 0])}),e.onClose(U),e.onError(function(t){I.fire(t)});let z=t=>{try{if(o.isNotificationMessage(t)&&t.method===f.type.method){let n=q(t.params.id),i=R.get(n);if(o.isRequestMessage(i)){let o=r&&r.cancelUndispatched?r.cancelUndispatched(i,L):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return R.delete(n),o.id=i.id,B(o,t.method,Date.now()),void e.write(o)}}F(R,t)}finally{H()}};function B(t,e,n){if(P!==h.Off&&x)if(k===d.Text){let r=void 0;P===h.Verbose&&(t.error&&t.error.data?r=`Error data: ${JSON.stringify(t.error.data,null,4)}\n\n`:t.result?r=`Result: ${JSON.stringify(t.result,null,4)}\n\n`:void 0===t.error&&(r="No result returned.\n\n")),x.log(`Sending response '${e} - (${t.id})'. Processing request took ${Date.now()-n}ms`,r)}else K("send-response",t)}function K(t,e){if(!x||P===h.Off)return;const n={isLSPMessage:!0,type:t,message:e,timestamp:Date.now()};x.log(n)}function G(){if(W())throw new y(m.Closed,"Connection is closed.");if(V())throw new y(m.Disposed,"Connection is disposed.")}function Y(t){return void 0===t?null:t}function Z(t,e){let n,r=t.numberOfParams;switch(r){case 0:n=null;break;case 1:n=Y(e[0]);break;default:n=[];for(let t=0;t<e.length&&t<r;t++)n.push(Y(e[t]));if(e.length<r)for(let t=e.length;t<r;t++)n.push(null)}return n}let J={sendNotification:(t,...n)=>{let r,o;if(G(),i.string(t))switch(r=t,n.length){case 0:o=null;break;case 1:o=n[0];break;default:o=n}else r=t.method,o=Z(t,n);let s={jsonrpc:b,method:r,params:o};!function(t){if(P!==h.Off&&x)if(k===d.Text){let e=void 0;P===h.Verbose&&(e=t.params?`Params: ${JSON.stringify(t.params,null,4)}\n\n`:"No parameters provided.\n\n"),x.log(`Sending notification '${t.method}'.`,e)}else K("send-notification",t)}(s),e.write(s)},onNotification:(t,e)=>{G(),i.func(t)?C=t:e&&(i.string(t)?T[t]={type:void 0,handler:e}:T[t.method]={type:t,handler:e})},sendRequest:(t,...n)=>{let r,u;G(),function(){if(!$())throw new Error("Call listen() first.")}();let c=void 0;if(i.string(t))switch(r=t,n.length){case 0:u=null;break;case 1:a.CancellationToken.is(n[0])?(u=null,c=n[0]):u=Y(n[0]);break;default:const e=n.length-1;a.CancellationToken.is(n[e])?(c=n[e],u=2===n.length?Y(n[0]):n.slice(0,e).map(t=>Y(t))):u=n.map(t=>Y(t))}else{r=t.method,u=Z(t,n);let e=t.numberOfParams;c=a.CancellationToken.is(n[e])?n[e]:void 0}let l=s++,p=new Promise((t,n)=>{let i={jsonrpc:b,id:l,method:r,params:u},s={method:r,timerStart:Date.now(),resolve:t,reject:n};!function(t){if(P!==h.Off&&x)if(k===d.Text){let e=void 0;P===h.Verbose&&t.params&&(e=`Params: ${JSON.stringify(t.params,null,4)}\n\n`),x.log(`Sending request '${t.method} - (${t.id})'.`,e)}else K("send-request",t)}(i);try{e.write(i)}catch(t){s.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,t.message?t.message:"Unknown reason")),s=null}s&&(O[String(l)]=s)});return c&&c.onCancellationRequested(()=>{J.sendNotification(f.type,{id:l})}),p},onRequest:(t,e)=>{G(),i.func(t)?E=t:e&&(i.string(t)?S[t]={type:void 0,handler:e}:S[t.method]={type:t,handler:e})},trace:(t,e,n)=>{let r=!1,o=d.Text;void 0!==n&&(i.boolean(n)?r=n:(r=n.sendNotification||!1,o=n.traceFormat||d.Text)),k=o,x=(P=t)===h.Off?void 0:e,!r||W()||V()||J.sendNotification(p.type,{value:h.toString(t)})},onError:I.event,onClose:D.event,onUnhandledNotification:M.event,onDispose:A.event,dispose:()=>{if(V())return;j=g.Disposed,A.fire(void 0);let n=new Error("Connection got disposed.");Object.keys(O).forEach(t=>{O[t].reject(n)}),O=Object.create(null),N=Object.create(null),R=new l.LinkedMap,i.func(e.dispose)&&e.dispose(),i.func(t.dispose)&&t.dispose()},listen:()=>{G(),function(){if($())throw new y(m.AlreadyListening,"Connection is already listening")}(),j=g.Listening,t.listen(z)},inspect:()=>{console.log("inspect")}};return J.onNotification(_.type,t=>{P!==h.Off&&x&&x.log(t.message,P===h.Verbose?t.verbose:void 0)}),J}e.ConnectionError=y,function(t){t.is=function(t){let e=t;return e&&i.func(e.cancelUndispatched)}}(e.ConnectionStrategy||(e.ConnectionStrategy={})),function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"}(g||(g={})),e.createMessageConnection=function(t,n,r,i){var o;return r||(r=e.NullLogger),v(void 0!==(o=t).listen&&void 0===o.read?t:new s.StreamMessageReader(t),function(t){return void 0!==t.write&&void 0===t.end}(n)?n:new u.StreamMessageWriter(n),r,i)}},function(t,e){t.exports=require("fs")},function(t,e,n){"use strict";n.r(e),n.d(e,"URI",function(){return p});var r,i,o,s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});if("object"==typeof process)o="win32"===process.platform;else if("object"==typeof navigator){var u=navigator.userAgent;o=u.indexOf("Windows")>=0}var c=/^\w[\w\d+.-]*$/,a=/^\//,l=/^\/\//;var f="",h="/",d=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,p=function(){function t(t,e,n,r,i,o){void 0===o&&(o=!1),"object"==typeof t?(this.scheme=t.scheme||f,this.authority=t.authority||f,this.path=t.path||f,this.query=t.query||f,this.fragment=t.fragment||f):(this.scheme=function(t,e){return t||e?t:"file"}(t,o),this.authority=e||f,this.path=function(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==h&&(e=h+e):e=h}return e}(this.scheme,n||f),this.query=r||f,this.fragment=i||f,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+t.authority+'", path: "'+t.path+'", query: "'+t.query+'", fragment: "'+t.fragment+'"}');if(t.scheme&&!c.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path)if(t.authority){if(!a.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(l.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,o))}return t.isUri=function(e){return e instanceof t||!!e&&("string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"function"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString)},Object.defineProperty(t.prototype,"fsPath",{get:function(){return b(this)},enumerable:!0,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var e=t.scheme,n=t.authority,r=t.path,i=t.query,o=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=f),void 0===n?n=this.authority:null===n&&(n=f),void 0===r?r=this.path:null===r&&(r=f),void 0===i?i=this.query:null===i&&(i=f),void 0===o?o=this.fragment:null===o&&(o=f),e===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new m(e,n,r,i,o)},t.parse=function(t,e){void 0===e&&(e=!1);var n=d.exec(t);return n?new m(n[2]||f,decodeURIComponent(n[4]||f),decodeURIComponent(n[5]||f),decodeURIComponent(n[7]||f),decodeURIComponent(n[9]||f),e):new m(f,f,f,f,f)},t.file=function(t){var e=f;if(o&&(t=t.replace(/\\/g,h)),t[0]===h&&t[1]===h){var n=t.indexOf(h,2);-1===n?(e=t.substring(2),t=h):(e=t.substring(2,n),t=t.substring(n)||h)}return new m("file",e,t,f,f)},t.from=function(t){return new m(t.scheme,t.authority,t.path,t.query,t.fragment)},t.prototype.toString=function(t){return void 0===t&&(t=!1),w(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var n=new m(e);return n._formatted=e.external,n._fsPath=e._sep===_?e.fsPath:null,n}return e},t}(),_=o?1:void 0,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return s(e,t),Object.defineProperty(e.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this)),this._fsPath},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=_),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(p),g=((i={})[58]="%3A",i[47]="%2F",i[63]="%3F",i[35]="%23",i[91]="%5B",i[93]="%5D",i[64]="%40",i[33]="%21",i[36]="%24",i[38]="%26",i[39]="%27",i[40]="%28",i[41]="%29",i[42]="%2A",i[43]="%2B",i[44]="%2C",i[59]="%3B",i[61]="%3D",i[32]="%20",i);function y(t,e){for(var n=void 0,r=-1,i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||e&&47===o)-1!==r&&(n+=encodeURIComponent(t.substring(r,i)),r=-1),void 0!==n&&(n+=t.charAt(i));else{void 0===n&&(n=t.substr(0,i));var s=g[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(t.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(t.substring(r))),void 0!==n?n:t}function v(t){for(var e=void 0,n=0;n<t.length;n++){var r=t.charCodeAt(n);35===r||63===r?(void 0===e&&(e=t.substr(0,n)),e+=g[r]):void 0!==e&&(e+=t[n])}return void 0!==e?e:t}function b(t){var e;return e=t.authority&&t.path.length>1&&"file"===t.scheme?"//"+t.authority+t.path:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?t.path[1].toLowerCase()+t.path.substr(2):t.path,o&&(e=e.replace(/\//g,"\\")),e}function w(t,e){var n=e?v:y,r="",i=t.scheme,o=t.authority,s=t.path,u=t.query,c=t.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=h,r+=h),o){var a=o.indexOf("@");if(-1!==a){var l=o.substr(0,a);o=o.substr(a+1),-1===(a=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,a),!1),r+=":",r+=n(l.substr(a+1),!1)),r+="@"}-1===(a=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,a),!1),r+=o.substr(a))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(f=s.charCodeAt(1))>=65&&f<=90&&(s="/"+String.fromCharCode(f+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var f;(f=s.charCodeAt(0))>=65&&f<=90&&(s=String.fromCharCode(f+32)+":"+s.substr(2))}r+=n(s,!0)}return u&&(r+="?",r+=n(u,!1)),c&&(r+="#",r+=e?c:y(c,!1)),r}},function(t,e,n){"use strict";n.r(e);var r=n(3),i=n(70),o=n(67),s=n(22),u=n(5),c=n(71),a=n(49),l=n(31),f=n(44),h=n(6),d=n(61),p=n(0),_=n(32),m=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return p.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(_.a),g=n(30),y=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(g.a))(m),v=y,b=function(t){function e(e,n){void 0===e&&(e=w),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.a(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(g.a),w=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return p.a(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(_.a),x=n(62),E=n(4),S=n(1),C=n(18),T=n(43),R=n(20),O=n(14);function N(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var P=n(25),k=n(27),j=n(23),I=n(46),D=n(73),M=n(8),A=n(56),q=n(7),F=n(9);function L(t,e,n){if(e){if(!Object(F.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return L(t,n).apply(void 0,r).pipe(Object(M.a)(function(t){return Object(q.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o,s=this,u={context:s,subject:o,callbackFunc:t,scheduler:n};return new r.a(function(r){if(n){var i={args:e,subscriber:r,params:u};return n.schedule($,0,i)}if(!o){o=new l.a;try{t.apply(s,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){Object(A.a)(o)?o.error(t):console.warn(t)}}return o.subscribe(r)})}}function $(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,u=i.scheduler,c=i.subject;if(!c){c=i.subject=new l.a;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(u.schedule(W,0,{value:r,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(r))}function W(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function V(t,e,n){if(e){if(!Object(F.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(t,n).apply(void 0,r).pipe(Object(M.a)(function(t){return Object(q.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(function(r){var i=o.context,s=o.subject;if(n)return n.schedule(U,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new l.a;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){Object(A.a)(s)?s.error(t):console.warn(t)}}return s.subscribe(r)})}}function U(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,u=n.scheduler,c=n.subject;if(!c){c=n.subject=new l.a;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(u.schedule(z,0,{err:r,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(H,0,{value:i,subject:c}))}}]))}catch(t){this.add(u.schedule(z,0,{err:t,subject:c}))}}this.add(c.subscribe(r))}function H(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function z(t){var e=t.err;t.subject.error(e)}var B=n(51),K=n(38),G=n(53),Y=n(10),Z=n(55),J=n(11);function X(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(Object(q.a)(n))return Q(n,null);if(Object(Z.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Q(r.map(function(t){return n[t]}),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return Q(t=1===t.length&&Object(q.a)(t[0])?t[0]:t,null).pipe(Object(M.a)(function(t){return i.apply(void 0,t)}))}return Q(t,null)}function Q(t,e){return new r.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var c=Object(J.a)(t[u]),a=!1;n.add(c.subscribe({next:function(t){a||(a=!0,s++),i[u]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&a||(s===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},c=0;c<r;c++)u(c);else n.complete()})}var tt=n(26);function et(t,e,n,i){return Object(tt.a)(n)&&(i=n,n=void 0),i?et(t,e,n).pipe(Object(M.a)(function(t){return Object(q.a)(t)?i.apply(void 0,t):i(t)})):new r.a(function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,o),s=function(){return u.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),s=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}function nt(t,e,n){return n?nt(t,e).pipe(Object(M.a)(function(t){return Object(q.a)(t)?n.apply(void 0,t):n(t)})):new r.a(function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(Object(tt.a)(e))return function(){return e(i,r)}})}function rt(t,e,n,i,o){var s,u;if(1==arguments.length){var c=t;u=c.initialState,e=c.condition,n=c.iterate,s=c.resultSelector||O.a,o=c.scheduler}else void 0===i||Object(F.a)(i)?(u=t,s=O.a,o=i):(u=t,s=i);return new r.a(function(t){var r=u;if(o)return o.schedule(it,0,{subscriber:t,iterate:n,condition:e,resultSelector:s,state:r});for(;;){if(e){var i=void 0;try{i=e(r)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var c=void 0;try{c=s(r)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function it(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function ot(t,e,n){return void 0===e&&(e=Y.a),void 0===n&&(n=Y.a),Object(G.a)(function(){return t()?e:n})}var st=n(33);function ut(t,e){return void 0===t&&(t=0),void 0===e&&(e=h.a),(!Object(st.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=h.a),new r.a(function(n){return n.add(e.schedule(ct,t,{subscriber:n,counter:0,period:t})),n})}function ct(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var at=n(75),lt=new r.a(R.a);function ft(){return lt}var ht=n(41);function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return Y.a;var n=t[0],i=t.slice(1);return 1===t.length&&Object(q.a)(n)?dt.apply(void 0,n):new r.a(function(t){var e=function(){return t.add(dt.apply(void 0,i).subscribe(t))};return Object(J.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function pt(t,e){return e?new r.a(function(n){var r=Object.keys(t),i=new E.a;return i.add(e.schedule(_t,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new r.a(function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function _t(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var mt=n(83),gt=n(39),yt=n(17);function vt(t,e,n){return[Object(yt.a)(e,n)(new r.a(Object(gt.a)(t))),Object(yt.a)(Object(mt.a)(e,n))(new r.a(Object(gt.a)(t)))]}var bt=n(76);function wt(t,e,n){return void 0===t&&(t=0),new r.a(function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(xt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}})}function xt(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var Et=n(50),St=n(77);function Ct(t,e){return new r.a(function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Object(J.a)(i):Y.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}var Tt=n(54),Rt=n(78),Ot=n(13);n.d(e,"Observable",function(){return r.a}),n.d(e,"ConnectableObservable",function(){return i.a}),n.d(e,"GroupedObservable",function(){return o.a}),n.d(e,"observable",function(){return s.a}),n.d(e,"Subject",function(){return u.a}),n.d(e,"BehaviorSubject",function(){return c.a}),n.d(e,"ReplaySubject",function(){return a.a}),n.d(e,"AsyncSubject",function(){return l.a}),n.d(e,"asap",function(){return f.a}),n.d(e,"asapScheduler",function(){return f.b}),n.d(e,"async",function(){return h.a}),n.d(e,"asyncScheduler",function(){return h.b}),n.d(e,"queue",function(){return d.a}),n.d(e,"queueScheduler",function(){return d.b}),n.d(e,"animationFrame",function(){return v}),n.d(e,"animationFrameScheduler",function(){return y}),n.d(e,"VirtualTimeScheduler",function(){return b}),n.d(e,"VirtualAction",function(){return w}),n.d(e,"Scheduler",function(){return x.a}),n.d(e,"Subscription",function(){return E.a}),n.d(e,"Subscriber",function(){return S.a}),n.d(e,"Notification",function(){return C.a}),n.d(e,"NotificationKind",function(){return C.b}),n.d(e,"pipe",function(){return T.a}),n.d(e,"noop",function(){return R.a}),n.d(e,"identity",function(){return O.a}),n.d(e,"isObservable",function(){return N}),n.d(e,"ArgumentOutOfRangeError",function(){return P.a}),n.d(e,"EmptyError",function(){return k.a}),n.d(e,"ObjectUnsubscribedError",function(){return j.a}),n.d(e,"UnsubscriptionError",function(){return I.a}),n.d(e,"TimeoutError",function(){return D.a}),n.d(e,"bindCallback",function(){return L}),n.d(e,"bindNodeCallback",function(){return V}),n.d(e,"combineLatest",function(){return B.b}),n.d(e,"concat",function(){return K.a}),n.d(e,"defer",function(){return G.a}),n.d(e,"empty",function(){return Y.b}),n.d(e,"forkJoin",function(){return X}),n.d(e,"from",function(){return J.a}),n.d(e,"fromEvent",function(){return et}),n.d(e,"fromEventPattern",function(){return nt}),n.d(e,"generate",function(){return rt}),n.d(e,"iif",function(){return ot}),n.d(e,"interval",function(){return ut}),n.d(e,"merge",function(){return at.a}),n.d(e,"never",function(){return ft}),n.d(e,"of",function(){return ht.a}),n.d(e,"onErrorResumeNext",function(){return dt}),n.d(e,"pairs",function(){return pt}),n.d(e,"partition",function(){return vt}),n.d(e,"race",function(){return bt.a}),n.d(e,"range",function(){return wt}),n.d(e,"throwError",function(){return Et.a}),n.d(e,"timer",function(){return St.a}),n.d(e,"using",function(){return Ct}),n.d(e,"zip",function(){return Tt.b}),n.d(e,"scheduled",function(){return Rt.a}),n.d(e,"EMPTY",function(){return Y.a}),n.d(e,"NEVER",function(){return lt}),n.d(e,"config",function(){return Ot.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(41),i=n(74);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))}},function(t,e,n){"use strict";var r=n(80),i=n(40),o=n(19),s=n(22),u=n(81),c=n(82),a=n(55);n.d(e,"a",function(){return l});var l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(e){return t.error(e),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,f=Object(a.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(9),i=n(29),o=n(57);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)}},function(t,e,n){"use strict";n.r(e);var r=n(0),i=n(2);function o(t){return function(e){return e.lift(new s(t))}}var s=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(i.c)(e,new i.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.b),c=n(6),a=n(77);function l(t,e){return void 0===e&&(e=c.a),o(function(){return Object(a.a)(t,e)})}function f(t){return function(e){return e.lift(new h(t))}}var h=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.closingNotifier))},t}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(Object(i.c)(n,new i.a(r))),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(i.b),p=n(1);function _(t,e){return void 0===e&&(e=null),function(n){return n.lift(new m(t,e))}}var m=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?y:g}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),g=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(p.a),y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(t),s.length===e&&(r.splice(o,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(p.a),v=n(9);function b(t){var e=arguments.length,n=c.a;Object(v.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new w(t,r,i,n))}}var w=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),x=function(){return function(){this.buffer=[]}}(),E=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var c={subscriber:s,context:u,bufferTimeSpan:n};s.add(u.closeAction=o.schedule(S,n,c))}else{var a={subscriber:s,context:u},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(T,n,a)),s.add(o.schedule(C,r,l))}return s}return r.a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(S,n,r))}},e.prototype.openContext=function(){var t=new x;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(p.a);function S(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function C(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(T,n,{subscriber:r,context:o})),this.schedule(t,e))}function T(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var R=n(4),O=n(12),N=n(16);function P(t,e){return function(n){return n.lift(new k(t,e))}}var k=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new j(t,this.openings,this.closingSelector))},t}(),j=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.closingSelector=r,i.contexts=[],i.add(Object(O.a)(i,n)),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new R.a,r={buffer:[],subscription:n};e.push(r);var i=Object(O.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},e}(N.a);function I(t){return function(e){return e.lift(new D(t))}}var D=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.closingSelector))},t}(),M=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new R.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(i.c)(e,new i.a(this))),this.subscribing=!1},e}(i.b);function A(t){return function(e){var n=new q(t),r=e.lift(n);return n.caught=r}}var q=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new F(t,this.selector,this.caught))},t}(),F=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new i.a(this);this.add(r);var o=Object(i.c)(n,r);o!==r&&this.add(o)}},e}(i.b),L=n(51);function $(t){return function(e){return e.lift(new L.a(t))}}var W=n(7),V=n(11);function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(W.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(V.a)([e].concat(t)),new L.a(n))}}var H=n(38);function z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(H.a.apply(void 0,[e].concat(t)))}}var B=n(74),K=n(28);function G(t,e){return Object(K.b)(t,e,1)}function Y(t,e){return G(function(){return t},e)}function Z(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new X(t,this.predicate,this.source))},t}(),X=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(p.a);function Q(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(i.c)(e,new i.a(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.b);function nt(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(p.a);function ot(t){t.debouncedNext()}function st(t){return void 0===t&&(t=null),function(e){return e.lift(new ut(t))}}var ut=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ct(t,this.defaultValue))},t}(),ct=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(p.a);function at(t){return t instanceof Date&&!isNaN(+t)}var lt=n(18);function ft(t,e){void 0===e&&(e=c.a);var n=at(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ht(n,e))}}var ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new dt(t,this.delay,this.scheduler))},t}(),dt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new pt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lt.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(lt.a.createComplete()),this.unsubscribe()},e}(p.a),pt=function(){return function(t,e){this.time=t,this.notification=e}}(),_t=n(3);function mt(t,e){return e?function(n){return new vt(n,e).lift(new gt(t))}:function(e){return e.lift(new gt(t))}}var gt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new yt(t,this.delayDurationSelector))},t}(),yt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=Object(O.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(N.a),vt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return r.a(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new bt(t,this.source))},e}(_t.a),bt=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(p.a);function wt(){return function(t){return t.lift(new xt)}}var xt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Et(t))},t}(),Et=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(p.a);function St(t,e){return function(n){return n.lift(new Ct(t,e))}}var Ct=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Tt(t,this.keySelector,this.flushes))},t}(),Tt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=n,o.values=new Set,r&&o.add(Object(i.c)(r,new i.a(o))),o}return r.a(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.b);function Rt(t,e){return function(n){return n.lift(new Ot(t,e))}}var Ot=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Nt(t,this.compare,this.keySelector))},t}(),Nt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(p.a);function Pt(t,e){return Rt(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var kt=n(25),jt=n(17),It=n(27);function Dt(t){return void 0===t&&(t=qt),function(e){return e.lift(new Mt(t))}}var Mt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new At(t,this.errorFactory))},t}(),At=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(p.a);function qt(){return new It.a}var Ft=n(10);function Lt(t){return function(e){return 0===t?Object(Ft.b)():e.lift(new $t(t))}}var $t=function(){function t(t){if(this.total=t,this.total<0)throw new kt.a}return t.prototype.call=function(t,e){return e.subscribe(new Wt(t,this.total))},t}(),Wt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(p.a);function Vt(t,e){if(t<0)throw new kt.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(jt.a)(function(e,n){return n===t}),Lt(1),n?st(e):Dt(function(){return new kt.a}))}}var Ut=n(41);function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Object(H.a)(e,Ut.a.apply(void 0,t))}}function zt(t,e){return function(n){return n.lift(new Bt(t,e,n))}}var Bt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg,this.source))},t}(),Kt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.a);function Gt(){return function(t){return t.lift(new Yt)}}var Yt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t))},t}(),Zt=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(i.c)(t,new i.a(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.b),Jt=n(8);function Xt(t,e){return e?function(n){return n.pipe(Xt(function(n,r){return Object(V.a)(t(n,r)).pipe(Object(Jt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new Qt(t))}}var Qt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new i.a(this),n=this.destination;n.add(e);var r=Object(i.c)(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.b);function ee(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new ne(t,e,n))}}var ne=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new re(t,this.project,this.concurrent,this.scheduler))},t}(),re=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(i.c)(t,new i.a(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.b);function ie(t){return function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new se(t,this.callback))},t}(),se=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new R.a(n)),r}return r.a(e,t),e}(p.a);function ue(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new ce(t,n,!1,e))}}var ce=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new ae(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ae=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(p.a);function le(t,e){return function(n){return n.lift(new ce(t,n,!0,e))}}var fe=n(14);function he(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(jt.a)(function(e,n){return t(e,n,r)}):fe.a,Lt(1),n?st(e):Dt(function(){return new It.a}))}}var de=n(67);function pe(){return function(t){return t.lift(new _e)}}var _e=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new me(t))},t}(),me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype._next=function(t){},e}(p.a);function ge(){return function(t){return t.lift(new ye)}}var ye=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ve(t))},t}(),ve=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(p.a);function be(t){return function(e){return 0===t?Object(Ft.b)():e.lift(new we(t))}}var we=function(){function t(t){if(this.total=t,this.total<0)throw new kt.a}return t.prototype.call=function(t,e){return e.subscribe(new xe(t,this.total))},t}(),xe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(p.a);function Ee(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(jt.a)(function(e,n){return t(e,n,r)}):fe.a,be(1),n?st(e):Dt(function(){return new It.a}))}}function Se(t){return function(e){return e.lift(new Ce(t))}}var Ce=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Te(t,this.value))},t}(),Te=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return r.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(p.a);function Re(){return function(t){return t.lift(new Oe)}}var Oe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ne(t))},t}(),Ne=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){this.destination.next(lt.a.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(lt.a.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(lt.a.createComplete()),t.complete()},e}(p.a);function Pe(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ke(t,e,n))}}var ke=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new je(t,this.accumulator,this.seed,this.hasSeed))},t}(),je=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(p.a),Ie=n(43);function De(t,e){return arguments.length>=2?function(n){return Object(Ie.a)(Pe(t,e),be(1),st(e))(n)}:function(e){return Object(Ie.a)(Pe(function(e,n,r){return t(e,n,r+1)}),be(1))(e)}}function Me(t){return De("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var Ae=n(75);function qe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Ae.a.apply(void 0,[e].concat(t)))}}var Fe=n(52);function Le(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?Object(K.b)(function(){return t},e,n):("number"==typeof e&&(n=e),Object(K.b)(function(){return t},n))}function $e(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new We(t,e,n))}}var We=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new Ve(t,this.accumulator,this.seed,this.concurrent))},t}(),Ve=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new i.a(this),n=this.destination;n.add(e);var r=Object(i.c)(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.b);function Ue(t){return De("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}var He=n(70);function ze(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new Be(r,e));var i=Object.create(n,He.b);return i.source=n,i.subjectFactory=r,i}}var Be=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}(),Ke=n(72);function Ge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(W.a)(t[0])&&(t=t[0]),function(e){return e.lift(new Ye(t))}}var Ye=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Ze(t,this.nextSources))},t}(),Ze=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return r.a(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new i.a(this),n=this.destination;n.add(e);var r=Object(i.c)(t,e);r!==e&&n.add(r)}else this.destination.complete()},e}(i.b);function Je(){return function(t){return t.lift(new Xe)}}var Xe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Qe(t))},t}(),Qe=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.a(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(p.a),tn=n(83);function en(t,e){return function(n){return[Object(jt.a)(t,e)(n),Object(jt.a)(Object(tn.a)(t,e))(n)]}}function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(Jt.a)(function(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=null!=r?r[t[i]]:void 0;if(void 0===o)return;r=o}return r}}(t,n))(e)}}var rn=n(5);function on(t){return t?ze(function(){return new rn.a},t):ze(new rn.a)}var sn=n(71);function un(t){return function(e){return ze(new sn.a(t))(e)}}var cn=n(31);function an(){return function(t){return ze(new cn.a)(t)}}var ln=n(49);function fn(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new ln.a(t,e,r);return function(t){return ze(function(){return o},i)(t)}}var hn=n(76);function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(W.a)(t[0])&&(t=t[0]),e.lift.call(hn.a.apply(void 0,[e].concat(t)))}}function pn(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(Ft.b)():t<0?e.lift(new _n(-1,e)):e.lift(new _n(t-1,e))}}var _n=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new mn(t,this.count,this.source))},t}(),mn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(p.a);function gn(t){return function(e){return e.lift(new yn(t))}}var yn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new vn(t,this.notifier,e))},t}(),vn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new rn.a;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Object(i.c)(e,new i.a(this))},e}(i.b);function bn(t){return void 0===t&&(t=-1),function(e){return e.lift(new wn(t,e))}}var wn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new xn(t,this.count,this.source))},t}(),xn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(p.a);function En(t){return function(e){return e.lift(new Sn(t,e))}}var Sn=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Cn(t,this.notifier,this.source))},t}(),Cn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new rn.a;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}o=Object(i.c)(r,new i.a(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(i.b),Tn=n(48);function Rn(t){return function(e){return e.lift(new On(t))}}var On=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Nn(t),r=e.subscribe(n);return r.add(Object(i.c)(this.notifier,new i.a(n))),r},t}(),Nn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return r.a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.b);function Pn(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new kn(t,e))}}var kn=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new jn(t,this.period,this.scheduler))},t}(),jn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(In,n,{subscriber:i,period:n})),i}return r.a(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(p.a);function In(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function Dn(t,e){return function(n){return n.lift(new Mn(t,e))}}var Mn=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new An(t,this.compareTo,this.comparator))},t}(),An=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new qn(e,i))),i}return r.a(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),i=e.shift(),o=!1;try{o=n?n(r,i):r===i}catch(t){this.destination.error(t)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(p.a),qn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(p.a);function Fn(){return new rn.a}function Ln(){return function(t){return Object(Tn.a)()(ze(Fn)(t))}}function $n(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,u=t.refCount,c=t.scheduler,a=0,l=!1,f=!1;return function(t){var r;a++,!e||l?(l=!1,e=new ln.a(i,s,c),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){f=!0,n=void 0,e.complete()}})):r=e.subscribe(this),this.add(function(){a--,r.unsubscribe(),n&&!f&&u&&0===a&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function Wn(t){return function(e){return e.lift(new Vn(t,e))}}var Vn=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Un(t,this.predicate,this.source))},t}(),Un=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new It.a)},e}(p.a);function Hn(t){return function(e){return e.lift(new zn(t))}}var zn=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Bn(t,this.total))},t}(),Bn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(p.a);function Kn(t){return function(e){return e.lift(new Gn(t))}}var Gn=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new kt.a}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new p.a(t)):e.subscribe(new Yn(t,this._skipCount))},t}(),Yn=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(p.a);function Zn(t){return function(e){return e.lift(new Jn(t))}}var Jn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Xn(t,this.notifier))},t}(),Xn=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var o=new i.a(r);r.add(o),r.innerSubscription=o;var s=Object(i.c)(n,o);return s!==o&&(r.add(s),r.innerSubscription=s),r}return r.a(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.b);function Qn(t){return function(e){return e.lift(new tr(t))}}var tr=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new er(t,this.predicate))},t}(),er=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(p.a);function nr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(v.a)(n)?(t.pop(),function(e){return Object(H.a)(t,e,n)}):function(e){return Object(H.a)(t,e)}}var rr=n(44),ir=n(33),or=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=rr.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(ir.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=rr.a),i}return r.a(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=rr.a),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(_t.a);function sr(t,e){return void 0===e&&(e=0),function(n){return n.lift(new ur(t,e))}}var ur=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new or(e,this.delay,this.scheduler).subscribe(t)},t}();function cr(t,e){return"function"==typeof e?function(n){return n.pipe(cr(function(n,r){return Object(V.a)(t(n,r)).pipe(Object(Jt.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new ar(t))}}var ar=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new lr(t,this.project))},t}(),lr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new i.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(i.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(i.b);function fr(){return cr(fe.a)}function hr(t,e){return e?cr(function(){return t},e):cr(function(){return t})}function dr(t){return function(e){return e.lift(new pr(t))}}var pr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new _r(t),r=Object(i.c)(this.notifier,new i.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),_r=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.a(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.b);function mr(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new gr(t,e))}}var gr=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new yr(t,this.predicate,this.inclusive))},t}(),yr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(p.a),vr=n(20),br=n(26);function wr(t,e,n){return function(r){return r.lift(new xr(t,e,n))}}var xr=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Er(t,this.nextOrObserver,this.error,this.complete))},t}(),Er=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=vr.a,o._tapError=vr.a,o._tapComplete=vr.a,o._tapError=r||vr.a,o._tapComplete=i||vr.a,Object(br.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||vr.a,o._tapError=n.error||vr.a,o._tapComplete=n.complete||vr.a),o}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(p.a),Sr={leading:!0,trailing:!1};function Cr(t,e){return void 0===e&&(e=Sr),function(n){return n.lift(new Tr(t,!!e.leading,!!e.trailing))}}var Tr=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new Rr(t,this.durationSelector,this.leading,this.trailing))},t}(),Rr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(i.c)(e,new i.a(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.b);function Or(t,e,n){return void 0===e&&(e=c.a),void 0===n&&(n=Sr),function(r){return r.lift(new Nr(t,e,n.leading,n.trailing))}}var Nr=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new Pr(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Pr=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.a(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(kr,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(p.a);function kr(t){t.subscriber.clearThrottle()}var jr=n(53);function Ir(t){return void 0===t&&(t=c.a),function(e){return Object(jr.a)(function(){return e.pipe(Pe(function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}},{current:t.now(),value:void 0,last:void 0}),Object(Jt.a)(function(t){var e=t.current,n=t.last,r=t.value;return new Dr(r,e-n)}))})}}var Dr=function(){return function(t,e){this.value=t,this.interval=e}}(),Mr=n(73);function Ar(t,e,n){return void 0===n&&(n=c.a),function(r){var i=at(t),o=i?+t-n.now():Math.abs(t);return r.lift(new qr(o,i,e,n))}}var qr=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Fr(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Fr=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.scheduleTimeout(),s}return r.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(i.c)(e,new i.a(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(i.b),Lr=n(50);function $r(t,e){return void 0===e&&(e=c.a),Ar(t,Object(Lr.a)(new Mr.a),e)}function Wr(t){return void 0===t&&(t=c.a),Object(Jt.a)(function(e){return new Vr(e,t.now())})}var Vr=function(){return function(t,e){this.value=t,this.timestamp=e}}();function Ur(t,e,n){return 0===n?[e]:(t.push(e),t)}function Hr(){return De(Ur,[])}function zr(t){return function(e){return e.lift(new Br(t))}}var Br=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new Kr(t),r=e.subscribe(n);return r.closed||n.add(Object(i.c)(this.windowBoundaries,new i.a(n))),r},t}(),Kr=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new rn.a,e.next(n.window),n}return r.a(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new rn.a;e.next(n)},e}(i.b);function Gr(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Yr(t,e))}}var Yr=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Zr(t,this.windowSize,this.startWindowEvery))},t}(),Zr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new rn.a],i.count=0,e.next(i.windows[0]),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var u=this.count-r+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var c=new rn.a;i.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(p.a);function Jr(t){var e=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(v.a)(arguments[3])&&(e=arguments[3]),Object(v.a)(arguments[2])?e=arguments[2]:Object(ir.a)(arguments[2])&&(r=Number(arguments[2])),Object(v.a)(arguments[1])?e=arguments[1]:Object(ir.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Xr(t,n,r,e))}}var Xr=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ti(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Qr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(rn.a),ti=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==r&&r>=0){var c={subscriber:s,window:u,context:null},a={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(ri,n,c)),s.add(o.schedule(ni,r,a))}else{var l={subscriber:s,window:u,windowTimeSpan:n};s.add(o.schedule(ei,n,l))}return s}return r.a(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new Qr;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(p.a);function ei(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function ni(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},u={subscriber:n,window:o,context:s};s.subscription=r.schedule(ri,e,u),this.add(s.subscription),this.schedule(t,i)}function ri(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function ii(t,e){return function(n){return n.lift(new oi(t,e))}}var oi=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new si(t,this.openings,this.closingSelector))},t}(),si=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(O.a)(i,n,n)),i}return r.a(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var o=void 0;try{o=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var s=new rn.a,u=new R.a,c={window:s,subscription:u};this.contexts.push(c);var a=Object(O.a)(this,o,c);a.closed?this.closeWindow(this.contexts.length-1):(a.context=c,u.add(a)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(N.a);function ui(t){return function(e){return e.lift(new ci(t))}}var ci=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ai(t,this.closingSelector))},t}(),ai=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new rn.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Object(O.a)(this,n))},e}(N.a);function li(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new fi(r,n))}}var fi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new hi(t,this.observables,this.project))},t}(),hi=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var u=n[s];i.add(Object(O.a)(i,u,void 0,s))}return i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(N.a),di=n(54);function pi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(di.b.apply(void 0,[e].concat(t)))}}function _i(t){return function(e){return e.lift(new di.a(t))}}n.d(e,"audit",function(){return o}),n.d(e,"auditTime",function(){return l}),n.d(e,"buffer",function(){return f}),n.d(e,"bufferCount",function(){return _}),n.d(e,"bufferTime",function(){return b}),n.d(e,"bufferToggle",function(){return P}),n.d(e,"bufferWhen",function(){return I}),n.d(e,"catchError",function(){return A}),n.d(e,"combineAll",function(){return $}),n.d(e,"combineLatest",function(){return U}),n.d(e,"concat",function(){return z}),n.d(e,"concatAll",function(){return B.a}),n.d(e,"concatMap",function(){return G}),n.d(e,"concatMapTo",function(){return Y}),n.d(e,"count",function(){return Z}),n.d(e,"debounce",function(){return Q}),n.d(e,"debounceTime",function(){return nt}),n.d(e,"defaultIfEmpty",function(){return st}),n.d(e,"delay",function(){return ft}),n.d(e,"delayWhen",function(){return mt}),n.d(e,"dematerialize",function(){return wt}),n.d(e,"distinct",function(){return St}),n.d(e,"distinctUntilChanged",function(){return Rt}),n.d(e,"distinctUntilKeyChanged",function(){return Pt}),n.d(e,"elementAt",function(){return Vt}),n.d(e,"endWith",function(){return Ht}),n.d(e,"every",function(){return zt}),n.d(e,"exhaust",function(){return Gt}),n.d(e,"exhaustMap",function(){return Xt}),n.d(e,"expand",function(){return ee}),n.d(e,"filter",function(){return jt.a}),n.d(e,"finalize",function(){return ie}),n.d(e,"find",function(){return ue}),n.d(e,"findIndex",function(){return le}),n.d(e,"first",function(){return he}),n.d(e,"groupBy",function(){return de.b}),n.d(e,"ignoreElements",function(){return pe}),n.d(e,"isEmpty",function(){return ge}),n.d(e,"last",function(){return Ee}),n.d(e,"map",function(){return Jt.a}),n.d(e,"mapTo",function(){return Se}),n.d(e,"materialize",function(){return Re}),n.d(e,"max",function(){return Me}),n.d(e,"merge",function(){return qe}),n.d(e,"mergeAll",function(){return Fe.a}),n.d(e,"mergeMap",function(){return K.b}),n.d(e,"flatMap",function(){return K.a}),n.d(e,"mergeMapTo",function(){return Le}),n.d(e,"mergeScan",function(){return $e}),n.d(e,"min",function(){return Ue}),n.d(e,"multicast",function(){return ze}),n.d(e,"observeOn",function(){return Ke.b}),n.d(e,"onErrorResumeNext",function(){return Ge}),n.d(e,"pairwise",function(){return Je}),n.d(e,"partition",function(){return en}),n.d(e,"pluck",function(){return nn}),n.d(e,"publish",function(){return on}),n.d(e,"publishBehavior",function(){return un}),n.d(e,"publishLast",function(){return an}),n.d(e,"publishReplay",function(){return fn}),n.d(e,"race",function(){return dn}),n.d(e,"reduce",function(){return De}),n.d(e,"repeat",function(){return pn}),n.d(e,"repeatWhen",function(){return gn}),n.d(e,"retry",function(){return bn}),n.d(e,"retryWhen",function(){return En}),n.d(e,"refCount",function(){return Tn.a}),n.d(e,"sample",function(){return Rn}),n.d(e,"sampleTime",function(){return Pn}),n.d(e,"scan",function(){return Pe}),n.d(e,"sequenceEqual",function(){return Dn}),n.d(e,"share",function(){return Ln}),n.d(e,"shareReplay",function(){return $n}),n.d(e,"single",function(){return Wn}),n.d(e,"skip",function(){return Hn}),n.d(e,"skipLast",function(){return Kn}),n.d(e,"skipUntil",function(){return Zn}),n.d(e,"skipWhile",function(){return Qn}),n.d(e,"startWith",function(){return nr}),n.d(e,"subscribeOn",function(){return sr}),n.d(e,"switchAll",function(){return fr}),n.d(e,"switchMap",function(){return cr}),n.d(e,"switchMapTo",function(){return hr}),n.d(e,"take",function(){return Lt}),n.d(e,"takeLast",function(){return be}),n.d(e,"takeUntil",function(){return dr}),n.d(e,"takeWhile",function(){return mr}),n.d(e,"tap",function(){return wr}),n.d(e,"throttle",function(){return Cr}),n.d(e,"throttleTime",function(){return Or}),n.d(e,"throwIfEmpty",function(){return Dt}),n.d(e,"timeInterval",function(){return Ir}),n.d(e,"timeout",function(){return $r}),n.d(e,"timeoutWith",function(){return Ar}),n.d(e,"timestamp",function(){return Wr}),n.d(e,"toArray",function(){return Hr}),n.d(e,"window",function(){return zr}),n.d(e,"windowCount",function(){return Gr}),n.d(e,"windowTime",function(){return Jr}),n.d(e,"windowToggle",function(){return ii}),n.d(e,"windowWhen",function(){return ui}),n.d(e,"withLatestFrom",function(){return li}),n.d(e,"zip",function(){return pi}),n.d(e,"zipAll",function(){return _i})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n(14);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}},function(t,e,n){"use strict";var r=n(0),i=1,o=function(){return Promise.resolve()}(),s={};function u(t){return t in s&&(delete s[t],!0)}var c=function(t){var e=i++;return s[e]=!0,o.then(function(){return u(e)&&t()}),e},a=function(t){u(t)},l=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=c(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(a(n),e.scheduled=void 0)},e}(n(32).a),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(30).a);n.d(e,"b",function(){return h}),n.d(e,"a",function(){return d});var h=new f(l),d=h},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.connection=t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(0),i=n(1);function o(){return function(t){return t.lift(new s(t))}}var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),i=n(5),o=n(61),s=n(4),u=n(72),c=n(23),a=n(79),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new a.a(this,t)),i&&t.add(t=new u.a(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),f=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(3);function i(t,e){return e?new r.a(function(n){return e.schedule(o,0,{error:t,subscriber:n})}):new r.a(function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(0),i=n(9),o=n(7),s=n(16),u=n(12),c=n(29),a={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=void 0,r=void 0;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(c.a)(t,r).lift(new f(n))}var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(a),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(u.a)(this,r,void 0,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n){var r=this.values,i=r[n],o=this.toRespond?i===a?--this.toRespond:this.toRespond:0;r[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(28),i=n(14);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.b)(i.a,t)}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(3),i=n(11),o=n(10);function s(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)})}},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n(0),i=n(29),o=n(7),s=n(1),u=n(19),c=n(2);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(i.a)(t,void 0).lift(new l(n))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.resultSelector))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.resultSelector=n,i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:void 0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new d(t)):"function"==typeof t[u.a]?e.push(new h(t[u.a]())):e.push(new p(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe());else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.a),h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[u.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),p=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(e,t),e.prototype[u.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return Object(c.c)(this.observable,new c.a(this))},e}(c.b)},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(1);function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(4);function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(13),i=n(40),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";function r(t){return"string"==typeof t||t instanceof String}function i(t){return Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.boolean=function(t){return!0===t||!1===t},e.string=r,e.number=function(t){return"number"==typeof t||t instanceof Number},e.error=function(t){return t instanceof Error},e.func=function(t){return"function"==typeof t},e.array=i,e.stringArray=function(t){return i(t)&&t.every(t=>r(t))}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=n(133);class s{constructor(){this.cache=new Map}set(t,e){const n="string"==typeof t?t:t.uri;this.cache.set(n,e)}setAll(t){for(const e of Object.keys(t))this.set(e,t[e])}delete(t){return this.cache.delete(t.uri)}deleteAll(t){for(const e of t)this.delete(e)}get(t){return r(this,void 0,void 0,function*(){if(!t)return;const e="string"==typeof t?t:t.uri;let n=this.cache.get(e);if(!n){const t=yield this.fetcher([e]);(n=t.length>0?t[0]:void 0)&&this.set(e,n)}return n})}getAll(t){return r(this,void 0,void 0,function*(){const e={};for(const n of t)e[n.uri]=yield this.get(n);return e})}flush(){this.cache.clear()}toString(){return this.cache.toString()}}e.documentConfigurationCache=new s,e.workspaceRubyEnvironmentCache=new s,e.workspaceRubyEnvironmentCache.fetcher=t=>r(void 0,void 0,void 0,function*(){return Promise.all(t.map(t=>r(void 0,void 0,void 0,function*(){return o.loadEnv(i.URI.parse(t).fsPath)})))})},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(32).a),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(n(30).a);n.d(e,"b",function(){return s}),n.d(e,"a",function(){return u});var s=new o(i),u=s},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});const i=n(34);e.ErrorCodes=i.ErrorCodes,e.ResponseError=i.ResponseError,e.CancellationToken=i.CancellationToken,e.CancellationTokenSource=i.CancellationTokenSource,e.Disposable=i.Disposable,e.Event=i.Event,e.Emitter=i.Emitter,e.Trace=i.Trace,e.TraceFormat=i.TraceFormat,e.SetTraceNotification=i.SetTraceNotification,e.LogTraceNotification=i.LogTraceNotification,e.RequestType=i.RequestType,e.RequestType0=i.RequestType0,e.NotificationType=i.NotificationType,e.NotificationType0=i.NotificationType0,e.MessageReader=i.MessageReader,e.MessageWriter=i.MessageWriter,e.ConnectionStrategy=i.ConnectionStrategy,e.StreamMessageReader=i.StreamMessageReader,e.StreamMessageWriter=i.StreamMessageWriter,e.IPCMessageReader=i.IPCMessageReader,e.IPCMessageWriter=i.IPCMessageWriter,e.createClientPipeTransport=i.createClientPipeTransport,e.createServerPipeTransport=i.createServerPipeTransport,e.generateRandomPipeName=i.generateRandomPipeName,e.createClientSocketTransport=i.createClientSocketTransport,e.createServerSocketTransport=i.createServerSocketTransport,r(n(107)),r(n(108)),e.createProtocolConnection=function(t,e,n,r){return i.createMessageConnection(t,e,n,r)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.create=function(t){return{dispose:t}}}(e.Disposable||(e.Disposable={})),function(t){const e={dispose(){}};t.None=function(){return e}}(e.Event||(e.Event={}));class r{add(t,e=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(e),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,e)})}remove(t,e=null){if(this._callbacks){for(var n=!1,r=0,i=this._callbacks.length;r<i;r++)if(this._callbacks[r]===t){if(this._contexts[r]===e)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...t){if(!this._callbacks)return[];for(var e=[],n=this._callbacks.slice(0),r=this._contexts.slice(0),i=0,o=n.length;i<o;i++)try{e.push(n[i].apply(r[i],t))}catch(t){console.error(t)}return e}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,e,n)=>{let o;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,e),o={dispose:()=>{this._callbacks.remove(t,e),o.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(o),o}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},e.Emitter=i},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(24);class i{constructor(t,e){this.row=t,this.col=e}static fromVSPosition(t){return new i(t.line,t.character)}static fromTSPosition(t){return new i(t.row,t.column)}static tsPositionIsEqual(t,e){return t.row===e.row&&t.column===e.column}toVSPosition(){return r.Position.create(this.row,this.col)}toTSPosition(){return{row:this.row,column:this.col}}isEqual(t){return this.row===t.row&&this.col===t.col}}e.default=i},function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return h});var r=n(0),i=n(1),o=n(4),s=n(3),u=n(5);function c(t,e,n,r){return function(i){return i.lift(new a(t,e,n,r))}}var a=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new u.a,n.set(e,i);var o=new h(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.a),f=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.a),h=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new d(n)),e.add(r.subscribe(t)),e},e}(s.a),d=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(24),i=n(37);var o;!function(t){t[t.OPEN=0]="OPEN",t[t.CHANGE_CONTENT=1]="CHANGE_CONTENT",t[t.CLOSE=2]="CLOSE"}(o=e.DocumentEventKind||(e.DocumentEventKind={}));class s{constructor(){this.documents=new r.TextDocuments,this.subject=new i.Subject,this.documents.onDidOpen(this.emitDocumentEvent(o.OPEN)),this.documents.onDidChangeContent(this.emitDocumentEvent(o.CHANGE_CONTENT)),this.documents.onDidClose(this.emitDocumentEvent(o.CLOSE))}get(t){const e="string"==typeof t?t:t.uri;return this.documents.get(e)}listen(t){this.documents.listen(t)}emitDocumentEvent(t){return({document:e})=>{this.subject.next({kind:t,document:e})}}}e.default=s,e.documents=new s},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(21)),o=n(37),s=n(42),u=n(170),c=n(97);e.default=class{constructor(t,e){this.document=t,this.originalText=t.getText(),this.config=e,this.differ=new u.diff_match_patch,this.range&&this.modifyRange()}get cmd(){return"echo"}get args(){return[this.document.uri]}get useBundler(){return this.config.config.useBundler}get range(){return this.config.range}format(){let{cmd:t,args:e}=this;this.useBundler&&(e.unshift("exec",t),t="bundle");const n=`${t} ${e.join(" ")}`;return i.default.info(`Format: executing ${n}...`),c.spawn(t,e,{env:this.config.env,cwd:this.config.executionRoot,stdin:o.of(this.originalText)}).pipe(s.catchError(t=>{const e=this.processError(t,n);return e?o.throwError(e):o.of("")}),s.reduce((t,e)=>"stdout"===e.source?`${t}${e.text}`:(i.default.error(e.text),t),""),s.map(t=>this.processResults(t)))}processResults(t){const e=this.differ.diff_main(this.originalText,t),n=[];let r=0;for(const t of e){const[e,i]=t,o=this.document.positionAt(r);switch(e){case u.DIFF_DELETE:n.push({range:{start:o,end:this.document.positionAt(r+i.length)},newText:""}),r+=i.length;break;case u.DIFF_INSERT:n.push({range:{start:o,end:o},newText:i});break;case u.DIFF_EQUAL:r+=i.length}this.range&&e!==u.DIFF_EQUAL&&!this.checkPositionInRange(o)&&n.pop()}return n}isWindows(){return"win32"===process.platform}processError(t,e){const n=t.code||t.toString().match(/code: (\d+)/)[1]||null,r=`\n    unable to execute ${e}:\n    ${t.toString()} - ${this.messageForCode(n)}`;return new Error(r)}messageForCode(t){switch(t){case"127":return"missing gem executables";case"ENOENT":return"command not found";default:return"unknown error"}}checkPositionInRange(t){const{start:e,end:n}=this.range;return!(t.line<e.line||t.line>n.line)&&(!(t.line===e.line&&t.character<e.character)&&!(t.line===n.line&&t.character>n.character))}modifyRange(){const{start:t}=this.range,e=this.document.offsetAt(t),n=this.originalText.substring(e-t.character,e);/^\s+$/.test(n)&&(this.range.start.character=0)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return l});var r=n(0),i=n(5),o=n(3),s=n(1),u=n(4),c=n(48),a=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new u.a).add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=u.a.EMPTY)),t},e.prototype.refCount=function(){return Object(c.a)()(this)},e}(o.a),l=function(){var t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);s.a},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),i=n(5),o=n(23),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return c});var r=n(0),i=n(1),o=n(18);function s(t,e){return void 0===e&&(e=0),function(n){return n.lift(new u(t,e))}}var u=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}(),c=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(i.a),a=function(){return function(t,e){this.notification=t,this.destination=e}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(52);function i(){return Object(r.a)(1)}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(3),i=n(9),o=n(52),s=n(29);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return Object(i.a)(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof c&&(n=t.pop()),null===u&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(s.a)(t,u))}},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),i=n(7),o=n(29),s=n(16),u=n(12);function c(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new a)}var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(u.a)(this,r,void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var i=this.subscriptions[r];i.unsubscribe(),this.remove(i)}this.subscriptions=null}this.destination.next(e)},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(3),i=n(6),o=n(33),s=n(9);function u(t,e,n){void 0===t&&(t=0);var u=-1;return Object(o.a)(e)?u=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=i.a),new r.a(function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(c,r,{index:0,period:u,subscriber:e})})}function c(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";var r=n(3),i=n(4),o=n(22);var s=n(57),u=n(19);var c=n(82),a=n(81);function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new i.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(a.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,o=new i.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[u.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return l})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(4).a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(64),i=n(59);let o=8192,s=Buffer.from("\r","ascii")[0],u=Buffer.from("\n","ascii")[0],c="\r\n";class a{constructor(t="utf8"){this.encoding=t,this.index=0,this.buffer=Buffer.allocUnsafe(o)}append(t){var e=t;if("string"==typeof t){var n=t,r=Buffer.byteLength(n,this.encoding);(e=Buffer.allocUnsafe(r)).write(n,0,r,this.encoding)}if(this.buffer.length-this.index>=e.length)e.copy(this.buffer,this.index,0,e.length);else{var i=(Math.ceil((this.index+e.length)/o)+1)*o;0===this.index?(this.buffer=Buffer.allocUnsafe(i),e.copy(this.buffer,0,0,e.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),e],i)}this.index+=e.length}tryReadHeaders(){let t=void 0,e=0;for(;e+3<this.index&&(this.buffer[e]!==s||this.buffer[e+1]!==u||this.buffer[e+2]!==s||this.buffer[e+3]!==u);)e++;if(e+3>=this.index)return t;t=Object.create(null),this.buffer.toString("ascii",0,e).split(c).forEach(e=>{let n=e.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");let r=e.substr(0,n),i=e.substr(n+1).trim();t[r]=i});let n=e+4;return this.buffer=this.buffer.slice(n),this.index=this.index-n,t}tryReadContent(t){if(this.index<t)return null;let e=this.buffer.toString(this.encoding,0,t),n=t;return this.buffer.copy(this.buffer,0,n),this.index=this.index-n,e}get numberOfBytes(){return this.index}}!function(t){t.is=function(t){let e=t;return e&&i.func(e.listen)&&i.func(e.dispose)&&i.func(e.onError)&&i.func(e.onClose)&&i.func(e.onPartialMessage)}}(e.MessageReader||(e.MessageReader={}));class l{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader recevied error. Reason: ${i.string(t.message)?t.message:"unknown"}`)}}e.AbstractMessageReader=l;class f extends l{constructor(t,e="utf8"){super(),this.readable=t,this.buffer=new a(e),this._partialMessageTimeout=1e4}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t,this.readable.on("data",t=>{this.onData(t)}),this.readable.on("error",t=>this.fireError(t)),this.readable.on("close",()=>this.fireClose())}onData(t){for(this.buffer.append(t);;){if(-1===this.nextMessageLength){let t=this.buffer.tryReadHeaders();if(!t)return;let e=t["Content-Length"];if(!e)throw new Error("Header must provide a Content-Length property.");let n=parseInt(e);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}var e=this.buffer.tryReadContent(this.nextMessageLength);if(null===e)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var n=JSON.parse(e);this.callback(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout((t,e)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:e}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.StreamMessageReader=f;e.IPCMessageReader=class extends l{constructor(t){super(),this.process=t;let e=this.process;e.on("error",t=>this.fireError(t)),e.on("close",()=>this.fireClose())}listen(t){this.process.on("message",t)}};e.SocketMessageReader=class extends f{constructor(t,e="utf-8"){super(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(64),i=n(59);let o="Content-Length: ",s="\r\n";!function(t){t.is=function(t){let e=t;return e&&i.func(e.dispose)&&i.func(e.onClose)&&i.func(e.onError)&&i.func(e.write)}}(e.MessageWriter||(e.MessageWriter={}));class u{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,e,n){this.errorEmitter.fire([this.asError(t),e,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer recevied error. Reason: ${i.string(t.message)?t.message:"unknown"}`)}}e.AbstractMessageWriter=u;e.StreamMessageWriter=class extends u{constructor(t,e="utf8"){super(),this.writable=t,this.encoding=e,this.errorCount=0,this.writable.on("error",t=>this.fireError(t)),this.writable.on("close",()=>this.fireClose())}write(t){let e=JSON.stringify(t),n=Buffer.byteLength(e,this.encoding),r=[o,n.toString(),s,s];try{this.writable.write(r.join(""),"ascii"),this.writable.write(e,this.encoding),this.errorCount=0}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}}};e.IPCMessageWriter=class extends u{constructor(t){super(),this.process=t,this.errorCount=0,this.queue=[],this.sending=!1;let e=this.process;e.on("error",t=>this.fireError(t)),e.on("close",()=>this.fireClose)}write(t){this.sending||0!==this.queue.length?this.queue.push(t):this.doWriteMessage(t)}doWriteMessage(t){try{this.process.send&&(this.sending=!0,this.process.send(t,void 0,void 0,e=>{this.sending=!1,e?(this.errorCount++,this.fireError(e,t,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(e){this.errorCount++,this.fireError(e,t,this.errorCount)}}};e.SocketMessageWriter=class extends u{constructor(t,e="utf8"){super(),this.socket=t,this.queue=[],this.sending=!1,this.encoding=e,this.errorCount=0,this.socket.on("error",t=>this.fireError(t)),this.socket.on("close",()=>this.fireClose())}write(t){this.sending||0!==this.queue.length?this.queue.push(t):this.doWriteMessage(t)}doWriteMessage(t){let e=JSON.stringify(t),n=Buffer.byteLength(e,this.encoding),r=[o,n.toString(),s,s];try{this.sending=!0,this.socket.write(r.join(""),"ascii",n=>{n&&this.handleError(n,t);try{this.socket.write(e,this.encoding,e=>{this.sending=!1,e?this.handleError(e,t):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})}catch(n){this.handleError(n,t)}})}catch(e){this.handleError(e,t)}}handleError(t,e){this.errorCount++,this.fireError(t,e,this.errorCount)}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(37),o=n(42),s=n(68),u=r(n(90));var c;!function(t){t[t.OPEN=0]="OPEN",t[t.UPDATE=1]="UPDATE",t[t.DELETE=2]="DELETE"}(c=e.ForestEventKind||(e.ForestEventKind={}));e.forest=new class{constructor(){this.trees=new Map,this.parser=u.default.build()}getTree(t){return this.trees.get(t)}createTree(t,e){const n=this.parser.parse(e);return this.trees.set(t,n),n}updateTree(t,e){let n=this.getTree(t);return n?(n=this.parser.parse(e),this.trees.set(t,n)):n=this.createTree(t,e),n}deleteTree(t){const e=this.getTree(t);return e&&e.delete(),this.trees.delete(t)}release(){this.trees.forEach(t=>t.delete()),this.parser.delete()}},e.forestStream=s.documents.subject.pipe(o.switchMap(t=>{const{kind:n,document:r}=t,o=r.uri,u={document:r,kind:void 0};switch(n){case s.DocumentEventKind.OPEN:u.tree=e.forest.createTree(o,r.getText()),u.kind=c.OPEN;break;case s.DocumentEventKind.CHANGE_CONTENT:u.tree=e.forest.updateTree(o,r.getText()),u.kind=c.UPDATE;break;case s.DocumentEventKind.CLOSE:e.forest.deleteTree(o),u.kind=c.DELETE}return i.of(u)}))},function(t,e){t.exports=require("net")},function(t,e,n){"use strict";function r(t){return"string"==typeof t||t instanceof String}function i(t){return"function"==typeof t}function o(t){return Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.boolean=function(t){return!0===t||!1===t},e.string=r,e.number=function(t){return"number"==typeof t||t instanceof Number},e.error=function(t){return t instanceof Error},e.func=i,e.array=o,e.stringArray=function(t){return o(t)&&t.every(t=>r(t))},e.typedArray=function(t,e){return Array.isArray(t)&&t.every(e)},e.thenable=function(t){return t&&i(t.then)}},function(t,e){function n(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=89},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(15)),s=i(n(21)),u=i(n(122)),c=o.default.resolve(__dirname,"tree-sitter-ruby.wasm"),a={language:null,initalize(){return r(this,void 0,void 0,function*(){yield u.default.init(),s.default.debug(`Loading Ruby tree-sitter syntax from ${c}`),this.language=yield u.default.Language.load(c)})},build(){const t=new u.default;return t.setLanguage(this.language),t}};e.default=a},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(21)),o=n(42),s=r(n(128)),u=n(86),c=r(n(131));class a{constructor(t){this.uri=t,this.foldingRangeAnalyzer=new c.default,this.documentSymbolAnalyzer=new s.default}get analysis(){return{uri:this.uri,foldingRanges:this.foldingRangeAnalyzer.foldingRanges,documentSymbols:this.documentSymbolAnalyzer.symbols}}analyze(t){const e=t.walk(),n=t=>{if(this.analyzeNode(e.currentNode()),e.gotoFirstChild()){do{n(t+1)}while(e.gotoNextSibling());e.gotoParent()}};return n(0),e.delete(),this.analysis}analyzeNode(t){this.foldingRangeAnalyzer.analyze(t),this.documentSymbolAnalyzer.analyze(t)}}e.analyses=new class{constructor(){this.closed=!1,this.analyses=new Map}next(t){this.analyses.set(t.uri,t)}error(t){i.default.error(t)}complete(){this.closed=!0}getAnalysis(t){return this.analyses.get(t)}},u.forestStream.pipe(o.map(({kind:t,document:e,tree:n})=>{if(t===u.ForestEventKind.DELETE)return{uri:e.uri};return new a(e.uri).analyze(n)})).subscribe(e.analyses)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.diagnostics=[]}analyze(t){}flush(){this.diagnostics=[]}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(24),o=r(n(66)),s={singleton_method:i.SymbolKind.Method,method:i.SymbolKind.Method,class:i.SymbolKind.Class,module:i.SymbolKind.Module,assignment:i.SymbolKind.Constant,method_call:i.SymbolKind.Property},u={module:"constant",class:"constant",method:"identifier",singleton_method:"identifier",assignment:"constant",method_call:"identifier"};function c(t){return u.hasOwnProperty(t.type)}e.isWrapper=c;const a={build(t){const e=s[t.type];if(!e)return;const n=new i.DocumentSymbol;if(n.range=i.Range.create(o.default.fromTSPosition(t.startPosition).toVSPosition(),o.default.fromTSPosition(t.endPosition).toVSPosition()),n.kind=e,c(t)){if(!t.childCount)return;if("assignment"===t.type&&"identifier"===t.firstChild.type)return;const e=t.descendantsOfType(u[t.type])[0];if(!e)return;if(n.children=[],n.name=e.text,"singleton_method"===t.type&&(n.name=`self.${e.text}`),"initialize"===n.name&&(n.kind=i.SymbolKind.Constructor),0===n.name.indexOf("attr_")){const e=t.descendantsOfType("argument_list")[0],r=[];for(const t of e.namedChildren){const e=Object.assign({},n);e.name=":"===t.text[0]?t.text.substring(1):t.text,e.selectionRange=i.Range.create(o.default.fromTSPosition(t.startPosition).toVSPosition(),o.default.fromTSPosition(t.endPosition).toVSPosition()),r.push(e)}return r}if("method_call"===t.type)return;n.selectionRange=i.Range.create(o.default.fromTSPosition(e.startPosition).toVSPosition(),o.default.fromTSPosition(e.endPosition).toVSPosition())}else n.selectionRange=n.range,n.name=t.text;return n}};e.default=a},function(t,e,n){var r;n(35);function i(t,e,n){if("function"==typeof e&&(n=e,e={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(n,r){i(t,e||{},function(t,e){t?r(t):n(e)})})}r(t,e||{},function(t,r){t&&("EACCES"===t.code||e&&e.ignoreErrors)&&(t=null,r=!1),n(t,r)})}r="win32"===process.platform||global.TESTING_WINDOWS?n(139):n(140),t.exports=i,i.sync=function(t,e){try{return r.sync(t,e||{})}catch(t){if(e&&e.ignoreErrors||"EACCES"===t.code)return!1;throw t}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=n(24),s=r(n(21)),u=r(n(96));e.default=class extends u.default{constructor(){super(...arguments),this.code="RuboCop",this.DIAGNOSTIC_SEVERITIES={refactor:o.DiagnosticSeverity.Hint,convention:o.DiagnosticSeverity.Information,warning:o.DiagnosticSeverity.Warning,error:o.DiagnosticSeverity.Error,fatal:o.DiagnosticSeverity.Error}}get cmd(){if(this.lintConfig.command)return this.lintConfig.command;{const t="rubocop";return this.isWindows()?t+".bat":t}}get args(){let t=["-s",`'${i.URI.parse(this.document.uri).fsPath}'`,"-f","json"];return this.lintConfig.rails&&t.push("-R"),this.lintConfig.forceExclusion&&t.push("--force-exclusion"),this.lintConfig.lint&&t.push("-l"),this.lintConfig.only&&(t=t.concat("--only",this.lintConfig.only.join(","))),this.lintConfig.except&&(t=t.concat("--except",this.lintConfig.except.join(","))),this.lintConfig.require&&(t=t.concat("-r",this.lintConfig.require.join(","))),t}get lintConfig(){return this.config.config}processResults(t){let e=[];try{const n=JSON.parse(t);for(const t of n.files){const n=t.offenses.map(t=>this.rubocopOffenseToDiagnostic(t));e=e.concat(n)}}catch(e){s.default.error(`Lint: Received invalid JSON from rubocop:\n\n${t}`)}return e}rubocopOffenseToDiagnostic(t){return{range:this.mapRubocopOffenseToRange(t.location),severity:this.DIAGNOSTIC_SEVERITIES[t.severity],message:t.message,source:t.cop_name,code:this.code}}mapRubocopOffenseToRange(t){if(t.start_line)return{start:{line:t.start_line-1,character:t.start_column-1},end:{line:t.last_line-1,character:t.last_column}};{const e=t.line-1,n=t.column-1;return{start:{line:e,character:n},end:{line:e,character:n+t.length}}}}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(21)),o=n(97),s=n(37),u=n(42);e.default=class{constructor(t,e){this.code="BaseLinter",this.document=t,this.config=e}get cmd(){return this.lintConfig.command}get args(){return[this.document.uri]}get lintConfig(){return this.config.config}lint(){let{cmd:t,args:e}=this;return!this.lintConfig.command&&this.lintConfig.useBundler&&(e.unshift("exec",t),t="bundle"),i.default.info(`Lint: executing ${t} ${e.join(" ")}...`),i.default.debug(`Lint environment: ${JSON.stringify(this.config.env,null,2)}`),o.spawn(t,e,{env:this.config.env,cwd:this.config.executionRoot,stdin:s.of(this.document.getText())}).pipe(u.catchError(t=>(this.processError(t),s.EMPTY)),u.reduce((t,e)=>"stdout"===e.source?`${t}${e.text}`:(i.default.error(e.text),t),""),u.map(t=>t.length?this.processResults(t):[]))}processResults(t){return[]}isWindows(){return"win32"===process.platform}processError(t){switch(t.code){case"ENOENT":i.default.warn(`Lint: unable to execute ${t.path} ${t.spawnargs.join(" ")} as the command could not be found`)}}}},function(t,e,n){"use strict";var r=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(37),s=n(42),u=i(n(152)),c=i(n(21));e.spawn=function(t,e=[],n={}){return o.Observable.create(i=>{const{stdin:a}=n,l=r(n,["stdin"]);c.default.trace(`spawning process: ${t} ${e.join()}, ${JSON.stringify(l)}`);const f=u.default(t,e,l),h=e=>n=>{if(n.length<1)return;let r="<< String sent back was too long >>";try{r="string"==typeof n?n.toString():n.toString(l.encoding||"utf8")}catch(e){r=`<< Lost chunk of process output for ${t} - length was ${n.length}>>`}i.next({source:e,text:r})},d=new o.Subscription;a&&(f.stdin?d.add(a.subscribe(t=>{f.stdin.write(t)},i.error.bind(i),()=>{f.stdin.end()})):i.error(new Error("opts.stdio conflicts with provided spawn opts.stdin observable, 'pipe' is required")));let p=null,_=null,m=!1;return f.stdout?(_=new o.AsyncSubject,f.stdout.on("data",h("stdout")),f.stdout.on("close",()=>{_.next(!0),_.complete()})):_=o.of(!0),f.stderr?(p=new o.AsyncSubject,f.stderr.on("data",h("stderr")),f.stderr.on("close",()=>{p.next(!0),p.complete()})):p=o.of(!0),f.stdin&&f.stdin.on("error",t=>{i.error(t)}),f.on("error",t=>{m=!0,i.error(t)}),f.on("close",t=>{m=!0;const e=o.merge(_,p).pipe(s.reduce(t=>t,!0));0===t?e.subscribe(()=>i.complete()):e.subscribe(()=>i.error(new Error(`Failed with exit code: ${t}`)))}),d.add(new o.Subscription(()=>{m||(c.default.trace(`Killing process: ${t} ${e.join()}`),f.kill())})),d})}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=r(n(69));e.default=class extends o.default{constructor(){super(...arguments),this.FORMATTED_OUTPUT_DELIMITER="====================",this.FORMATTED_OUTPUT_REGEX=new RegExp(`^${this.FORMATTED_OUTPUT_DELIMITER}$`,"m")}get cmd(){return this.isWindows()?"rubocop.bat":"rubocop"}get args(){return["-s",`'${i.URI.parse(this.document.uri).fsPath}'`,"-a"]}processResults(t){let e=t.search(this.FORMATTED_OUTPUT_REGEX);if(e<=-1)throw new Error(t);e+=this.FORMATTED_OUTPUT_DELIMITER.length;const n=t.substring(e).trimLeft();return super.processResults(n)}processError(t,e){return"1"===(t.code||t.toString().match(/code: (\d+)/)[1]||null)?null:super.processError(t,e)}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const s=n(24),u=i(n(21)),c=i(n(90)),a=s.createConnection(s.ProposedFeatures.all);let l;a.onInitialize(t=>r(void 0,void 0,void 0,function*(){u.default.setDefaultLevel("info"),u.default.info("Initializing Ruby language server..."),yield c.default.initalize();const{Server:e}=yield Promise.resolve().then(()=>o(n(123)));return(l=new e(a,t)).initialize(),l.capabilities})),a.onInitialized(()=>{l.setup()}),a.onShutdown(()=>l.shutdown()),a.onExit(()=>l.shutdown()),a.listen(),process.on("unhandledRejection",(t,e)=>{u.default.error(`Unhandled Rejection at: Promise ${e} reason:, ${t}`)}),process.on("SIGPIPE",()=>{u.default.error("SIGPIPE received")})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(59);var i;!function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.serverErrorStart=-32099,t.serverErrorEnd=-32e3,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.RequestCancelled=-32800,t.MessageWriteError=1,t.MessageReadError=2}(i=e.ErrorCodes||(e.ErrorCodes={}));class o extends Error{constructor(t,e,n){super(e),this.code=r.number(t)?t:i.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}e.ResponseError=o;class s{constructor(t,e){this._method=t,this._numberOfParams=e}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}e.AbstractMessageType=s;e.RequestType0=class extends s{constructor(t){super(t,0),this._=void 0}};e.RequestType=class extends s{constructor(t){super(t,1),this._=void 0}};e.RequestType1=class extends s{constructor(t){super(t,1),this._=void 0}};e.RequestType2=class extends s{constructor(t){super(t,2),this._=void 0}};e.RequestType3=class extends s{constructor(t){super(t,3),this._=void 0}};e.RequestType4=class extends s{constructor(t){super(t,4),this._=void 0}};e.RequestType5=class extends s{constructor(t){super(t,5),this._=void 0}};e.RequestType6=class extends s{constructor(t){super(t,6),this._=void 0}};e.RequestType7=class extends s{constructor(t){super(t,7),this._=void 0}};e.RequestType8=class extends s{constructor(t){super(t,8),this._=void 0}};e.RequestType9=class extends s{constructor(t){super(t,9),this._=void 0}};e.NotificationType=class extends s{constructor(t){super(t,1),this._=void 0}};e.NotificationType0=class extends s{constructor(t){super(t,0),this._=void 0}};e.NotificationType1=class extends s{constructor(t){super(t,1),this._=void 0}};e.NotificationType2=class extends s{constructor(t){super(t,2),this._=void 0}};e.NotificationType3=class extends s{constructor(t){super(t,3),this._=void 0}};e.NotificationType4=class extends s{constructor(t){super(t,4),this._=void 0}};e.NotificationType5=class extends s{constructor(t){super(t,5),this._=void 0}};e.NotificationType6=class extends s{constructor(t){super(t,6),this._=void 0}};e.NotificationType7=class extends s{constructor(t){super(t,7),this._=void 0}};e.NotificationType8=class extends s{constructor(t){super(t,8),this._=void 0}};e.NotificationType9=class extends s{constructor(t){super(t,9),this._=void 0}},e.isRequestMessage=function(t){let e=t;return e&&r.string(e.method)&&(r.string(e.id)||r.number(e.id))},e.isNotificationMessage=function(t){let e=t;return e&&r.string(e.method)&&void 0===t.id},e.isResponseMessage=function(t){let e=t;return e&&(void 0!==e.result||!!e.error)&&(r.string(e.id)||r.number(e.id)||null===e.id)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(64),i=n(59);var o;!function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None}),t.is=function(e){let n=e;return n&&(n===t.None||n===t.Cancelled||i.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o=e.CancellationToken||(e.CancellationToken={}));const s=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}});class u{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?s:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}}e.CancellationTokenSource=class{get token(){return this._token||(this._token=new u),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this.cancel()}}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.None=0,t.First=1,t.Last=2}(r=e.Touch||(e.Touch={}));e.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(t){return this._map.has(t)}get(t){const e=this._map.get(t);if(e)return e.value}set(t,e,n=r.None){let i=this._map.get(t);if(i)i.value=e,n!==r.None&&this.touch(i,n);else{switch(i={key:t,value:e,next:void 0,previous:void 0},n){case r.None:this.addItemLast(i);break;case r.First:this.addItemFirst(i);break;case r.Last:default:this.addItemLast(i)}this._map.set(t,i),this._size++}}delete(t){const e=this._map.get(t);return!!e&&(this._map.delete(t),this.removeItem(e),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,e){let n=this._head;for(;n;)e?t.bind(e)(n.value,n.key,this):t(n.value,n.key,this),n=n.next}forEachReverse(t,e){let n=this._tail;for(;n;)e?t.bind(e)(n.value,n.key,this):t(n.value,n.key,this),n=n.previous}values(){let t=[],e=this._head;for(;e;)t.push(e.value),e=e.next;return t}keys(){let t=[],e=this._head;for(;e;)t.push(e.key),e=e.next;return t}addItemFirst(t){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");t.next=this._head,this._head.previous=t}else this._tail=t;this._head=t}addItemLast(t){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");t.previous=this._tail,this._tail.next=t}else this._head=t;this._tail=t}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head)this._head=t.next;else if(t===this._tail)this._tail=t.previous;else{const e=t.next,n=t.previous;if(!e||!n)throw new Error("Invalid list");e.previous=n,n.next=e}}touch(t,e){if(!this._head||!this._tail)throw new Error("Invalid list");if(e===r.First||e===r.Last)if(e===r.First){if(t===this._head)return;const e=t.next,n=t.previous;t===this._tail?(n.next=void 0,this._tail=n):(e.previous=n,n.next=e),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t}else if(e===r.Last){if(t===this._tail)return;const e=t.next,n=t.previous;t===this._head?(e.previous=void 0,this._head=e):(e.previous=n,n.next=e),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(15),i=n(104),o=n(105),s=n(87),u=n(84),c=n(85);e.generateRandomPipeName=function(){const t=o.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`:r.join(i.tmpdir(),`vscode-${t}.sock`)},e.createClientPipeTransport=function(t,e="utf-8"){let n,r=new Promise((t,e)=>{n=t});return new Promise((i,o)=>{let a=s.createServer(t=>{a.close(),n([new u.SocketMessageReader(t,e),new c.SocketMessageWriter(t,e)])});a.on("error",o),a.listen(t,()=>{a.removeListener("error",o),i({onConnected:()=>r})})})},e.createServerPipeTransport=function(t,e="utf-8"){const n=s.createConnection(t);return[new u.SocketMessageReader(n,e),new c.SocketMessageWriter(n,e)]}},function(t,e){t.exports=require("os")},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(87),i=n(84),o=n(85);e.createClientSocketTransport=function(t,e="utf-8"){let n,s=new Promise((t,e)=>{n=t});return new Promise((u,c)=>{let a=r.createServer(t=>{a.close(),n([new i.SocketMessageReader(t,e),new o.SocketMessageWriter(t,e)])});a.on("error",c),a.listen(t,"127.0.0.1",()=>{a.removeListener("error",c),u({onConnected:()=>s})})})},e.createServerSocketTransport=function(t,e="utf-8"){const n=r.createConnection(t,"127.0.0.1");return[new i.SocketMessageReader(n,e),new o.SocketMessageWriter(n,e)]}},function(t,e,n){"use strict";var r,i,o,s,u,c,a,l,f,h,d,p,_,m,g,y,v,b,w;n.r(e),n.d(e,"Position",function(){return r}),n.d(e,"Range",function(){return i}),n.d(e,"Location",function(){return o}),n.d(e,"LocationLink",function(){return s}),n.d(e,"Color",function(){return u}),n.d(e,"ColorInformation",function(){return c}),n.d(e,"ColorPresentation",function(){return a}),n.d(e,"FoldingRangeKind",function(){return l}),n.d(e,"FoldingRange",function(){return f}),n.d(e,"DiagnosticRelatedInformation",function(){return h}),n.d(e,"DiagnosticSeverity",function(){return d}),n.d(e,"Diagnostic",function(){return p}),n.d(e,"Command",function(){return _}),n.d(e,"TextEdit",function(){return m}),n.d(e,"TextDocumentEdit",function(){return g}),n.d(e,"CreateFile",function(){return y}),n.d(e,"RenameFile",function(){return v}),n.d(e,"DeleteFile",function(){return b}),n.d(e,"WorkspaceEdit",function(){return w}),n.d(e,"WorkspaceChange",function(){return $}),n.d(e,"TextDocumentIdentifier",function(){return x}),n.d(e,"VersionedTextDocumentIdentifier",function(){return E}),n.d(e,"TextDocumentItem",function(){return S}),n.d(e,"MarkupKind",function(){return C}),n.d(e,"MarkupContent",function(){return T}),n.d(e,"CompletionItemKind",function(){return R}),n.d(e,"InsertTextFormat",function(){return O}),n.d(e,"CompletionItem",function(){return N}),n.d(e,"CompletionList",function(){return P}),n.d(e,"MarkedString",function(){return k}),n.d(e,"Hover",function(){return j}),n.d(e,"ParameterInformation",function(){return I}),n.d(e,"SignatureInformation",function(){return D}),n.d(e,"DocumentHighlightKind",function(){return M}),n.d(e,"DocumentHighlight",function(){return A}),n.d(e,"SymbolKind",function(){return q}),n.d(e,"SymbolInformation",function(){return F}),n.d(e,"DocumentSymbol",function(){return B}),n.d(e,"CodeActionKind",function(){return W}),n.d(e,"CodeActionContext",function(){return V}),n.d(e,"CodeAction",function(){return U}),n.d(e,"CodeLens",function(){return H}),n.d(e,"FormattingOptions",function(){return z}),n.d(e,"DocumentLink",function(){return K}),n.d(e,"EOL",function(){return Z}),n.d(e,"TextDocument",function(){return G}),n.d(e,"TextDocumentSaveReason",function(){return Y}),function(t){t.create=function(t,e){return{line:t,character:e}},t.is=function(t){var e=t;return J.objectLiteral(e)&&J.number(e.line)&&J.number(e.character)}}(r||(r={})),function(t){t.create=function(t,e,n,i){if(J.number(t)&&J.number(e)&&J.number(n)&&J.number(i))return{start:r.create(t,e),end:r.create(n,i)};if(r.is(t)&&r.is(e))return{start:t,end:e};throw new Error("Range#create called with invalid arguments["+t+", "+e+", "+n+", "+i+"]")},t.is=function(t){var e=t;return J.objectLiteral(e)&&r.is(e.start)&&r.is(e.end)}}(i||(i={})),function(t){t.create=function(t,e){return{uri:t,range:e}},t.is=function(t){var e=t;return J.defined(e)&&i.is(e.range)&&(J.string(e.uri)||J.undefined(e.uri))}}(o||(o={})),function(t){t.create=function(t,e,n,r){return{targetUri:t,targetRange:e,targetSelectionRange:n,originSelectionRange:r}},t.is=function(t){var e=t;return J.defined(e)&&i.is(e.targetRange)&&J.string(e.targetUri)&&(i.is(e.targetSelectionRange)||J.undefined(e.targetSelectionRange))&&(i.is(e.originSelectionRange)||J.undefined(e.originSelectionRange))}}(s||(s={})),function(t){t.create=function(t,e,n,r){return{red:t,green:e,blue:n,alpha:r}},t.is=function(t){var e=t;return J.number(e.red)&&J.number(e.green)&&J.number(e.blue)&&J.number(e.alpha)}}(u||(u={})),function(t){t.create=function(t,e){return{range:t,color:e}},t.is=function(t){var e=t;return i.is(e.range)&&u.is(e.color)}}(c||(c={})),function(t){t.create=function(t,e,n){return{label:t,textEdit:e,additionalTextEdits:n}},t.is=function(t){var e=t;return J.string(e.label)&&(J.undefined(e.textEdit)||m.is(e))&&(J.undefined(e.additionalTextEdits)||J.typedArray(e.additionalTextEdits,m.is))}}(a||(a={})),function(t){t.Comment="comment",t.Imports="imports",t.Region="region"}(l||(l={})),function(t){t.create=function(t,e,n,r,i){var o={startLine:t,endLine:e};return J.defined(n)&&(o.startCharacter=n),J.defined(r)&&(o.endCharacter=r),J.defined(i)&&(o.kind=i),o},t.is=function(t){var e=t;return J.number(e.startLine)&&J.number(e.startLine)&&(J.undefined(e.startCharacter)||J.number(e.startCharacter))&&(J.undefined(e.endCharacter)||J.number(e.endCharacter))&&(J.undefined(e.kind)||J.string(e.kind))}}(f||(f={})),function(t){t.create=function(t,e){return{location:t,message:e}},t.is=function(t){var e=t;return J.defined(e)&&o.is(e.location)&&J.string(e.message)}}(h||(h={})),function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4}(d||(d={})),function(t){t.create=function(t,e,n,r,i,o){var s={range:t,message:e};return J.defined(n)&&(s.severity=n),J.defined(r)&&(s.code=r),J.defined(i)&&(s.source=i),J.defined(o)&&(s.relatedInformation=o),s},t.is=function(t){var e=t;return J.defined(e)&&i.is(e.range)&&J.string(e.message)&&(J.number(e.severity)||J.undefined(e.severity))&&(J.number(e.code)||J.string(e.code)||J.undefined(e.code))&&(J.string(e.source)||J.undefined(e.source))&&(J.undefined(e.relatedInformation)||J.typedArray(e.relatedInformation,h.is))}}(p||(p={})),function(t){t.create=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={title:t,command:e};return J.defined(n)&&n.length>0&&(i.arguments=n),i},t.is=function(t){var e=t;return J.defined(e)&&J.string(e.title)&&J.string(e.command)}}(_||(_={})),function(t){t.replace=function(t,e){return{range:t,newText:e}},t.insert=function(t,e){return{range:{start:t,end:t},newText:e}},t.del=function(t){return{range:t,newText:""}},t.is=function(t){var e=t;return J.objectLiteral(e)&&J.string(e.newText)&&i.is(e.range)}}(m||(m={})),function(t){t.create=function(t,e){return{textDocument:t,edits:e}},t.is=function(t){var e=t;return J.defined(e)&&E.is(e.textDocument)&&Array.isArray(e.edits)}}(g||(g={})),function(t){t.create=function(t,e){var n={kind:"create",uri:t};return void 0===e||void 0===e.overwrite&&void 0===e.ignoreIfExists||(n.options=e),n},t.is=function(t){var e=t;return e&&"create"===e.kind&&J.string(e.uri)&&(void 0===e.options||(void 0===e.options.overwrite||J.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||J.boolean(e.options.ignoreIfExists)))}}(y||(y={})),function(t){t.create=function(t,e,n){var r={kind:"rename",oldUri:t,newUri:e};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),r},t.is=function(t){var e=t;return e&&"rename"===e.kind&&J.string(e.oldUri)&&J.string(e.newUri)&&(void 0===e.options||(void 0===e.options.overwrite||J.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||J.boolean(e.options.ignoreIfExists)))}}(v||(v={})),function(t){t.create=function(t,e){var n={kind:"delete",uri:t};return void 0===e||void 0===e.recursive&&void 0===e.ignoreIfNotExists||(n.options=e),n},t.is=function(t){var e=t;return e&&"delete"===e.kind&&J.string(e.uri)&&(void 0===e.options||(void 0===e.options.recursive||J.boolean(e.options.recursive))&&(void 0===e.options.ignoreIfNotExists||J.boolean(e.options.ignoreIfNotExists)))}}(b||(b={})),function(t){t.is=function(t){var e=t;return e&&(void 0!==e.changes||void 0!==e.documentChanges)&&(void 0===e.documentChanges||e.documentChanges.every(function(t){return J.string(t.kind)?y.is(t)||v.is(t)||b.is(t):g.is(t)}))}}(w||(w={}));var x,E,S,C,T,R,O,N,P,k,j,I,D,M,A,q,F,L=function(){function t(t){this.edits=t}return t.prototype.insert=function(t,e){this.edits.push(m.insert(t,e))},t.prototype.replace=function(t,e){this.edits.push(m.replace(t,e))},t.prototype.delete=function(t){this.edits.push(m.del(t))},t.prototype.add=function(t){this.edits.push(t)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t}(),$=function(){function t(t){var e=this;this._textEditChanges=Object.create(null),t&&(this._workspaceEdit=t,t.documentChanges?t.documentChanges.forEach(function(t){if(g.is(t)){var n=new L(t.edits);e._textEditChanges[t.textDocument.uri]=n}}):t.changes&&Object.keys(t.changes).forEach(function(n){var r=new L(t.changes[n]);e._textEditChanges[n]=r}))}return Object.defineProperty(t.prototype,"edit",{get:function(){return this._workspaceEdit},enumerable:!0,configurable:!0}),t.prototype.getTextEditChange=function(t){if(E.is(t)){if(this._workspaceEdit||(this._workspaceEdit={documentChanges:[]}),!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var e=t;if(!(r=this._textEditChanges[e.uri])){var n={textDocument:e,edits:i=[]};this._workspaceEdit.documentChanges.push(n),r=new L(i),this._textEditChanges[e.uri]=r}return r}if(this._workspaceEdit||(this._workspaceEdit={changes:Object.create(null)}),!this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[t])){var i=[];this._workspaceEdit.changes[t]=i,r=new L(i),this._textEditChanges[t]=r}return r},t.prototype.createFile=function(t,e){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(y.create(t,e))},t.prototype.renameFile=function(t,e,n){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(v.create(t,e,n))},t.prototype.deleteFile=function(t,e){this.checkDocumentChanges(),this._workspaceEdit.documentChanges.push(b.create(t,e))},t.prototype.checkDocumentChanges=function(){if(!this._workspaceEdit||!this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.")},t}();!function(t){t.create=function(t){return{uri:t}},t.is=function(t){var e=t;return J.defined(e)&&J.string(e.uri)}}(x||(x={})),function(t){t.create=function(t,e){return{uri:t,version:e}},t.is=function(t){var e=t;return J.defined(e)&&J.string(e.uri)&&(null===e.version||J.number(e.version))}}(E||(E={})),function(t){t.create=function(t,e,n,r){return{uri:t,languageId:e,version:n,text:r}},t.is=function(t){var e=t;return J.defined(e)&&J.string(e.uri)&&J.string(e.languageId)&&J.number(e.version)&&J.string(e.text)}}(S||(S={})),function(t){t.PlainText="plaintext",t.Markdown="markdown"}(C||(C={})),function(t){t.is=function(e){var n=e;return n===t.PlainText||n===t.Markdown}}(C||(C={})),function(t){t.is=function(t){var e=t;return J.objectLiteral(t)&&C.is(e.kind)&&J.string(e.value)}}(T||(T={})),function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25}(R||(R={})),function(t){t.PlainText=1,t.Snippet=2}(O||(O={})),function(t){t.create=function(t){return{label:t}}}(N||(N={})),function(t){t.create=function(t,e){return{items:t||[],isIncomplete:!!e}}}(P||(P={})),function(t){t.fromPlainText=function(t){return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},t.is=function(t){var e=t;return J.string(e)||J.objectLiteral(e)&&J.string(e.language)&&J.string(e.value)}}(k||(k={})),function(t){t.is=function(t){var e=t;return!!e&&J.objectLiteral(e)&&(T.is(e.contents)||k.is(e.contents)||J.typedArray(e.contents,k.is))&&(void 0===t.range||i.is(t.range))}}(j||(j={})),function(t){t.create=function(t,e){return e?{label:t,documentation:e}:{label:t}}}(I||(I={})),function(t){t.create=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={label:t};return J.defined(e)&&(i.documentation=e),J.defined(n)?i.parameters=n:i.parameters=[],i}}(D||(D={})),function(t){t.Text=1,t.Read=2,t.Write=3}(M||(M={})),function(t){t.create=function(t,e){var n={range:t};return J.number(e)&&(n.kind=e),n}}(A||(A={})),function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26}(q||(q={})),function(t){t.create=function(t,e,n,r,i){var o={name:t,kind:e,location:{uri:r,range:n}};return i&&(o.containerName=i),o}}(F||(F={}));var W,V,U,H,z,B=function(){};!function(t){t.create=function(t,e,n,r,i,o){var s={name:t,detail:e,kind:n,range:r,selectionRange:i};return void 0!==o&&(s.children=o),s},t.is=function(t){var e=t;return e&&J.string(e.name)&&J.number(e.kind)&&i.is(e.range)&&i.is(e.selectionRange)&&(void 0===e.detail||J.string(e.detail))&&(void 0===e.deprecated||J.boolean(e.deprecated))&&(void 0===e.children||Array.isArray(e.children))}}(B||(B={})),function(t){t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports"}(W||(W={})),function(t){t.create=function(t,e){var n={diagnostics:t};return null!=e&&(n.only=e),n},t.is=function(t){var e=t;return J.defined(e)&&J.typedArray(e.diagnostics,p.is)&&(void 0===e.only||J.typedArray(e.only,J.string))}}(V||(V={})),function(t){t.create=function(t,e,n){var r={title:t};return _.is(e)?r.command=e:r.edit=e,void 0!==n&&(r.kind=n),r},t.is=function(t){var e=t;return e&&J.string(e.title)&&(void 0===e.diagnostics||J.typedArray(e.diagnostics,p.is))&&(void 0===e.kind||J.string(e.kind))&&(void 0!==e.edit||void 0!==e.command)&&(void 0===e.command||_.is(e.command))&&(void 0===e.edit||w.is(e.edit))}}(U||(U={})),function(t){t.create=function(t,e){var n={range:t};return J.defined(e)&&(n.data=e),n},t.is=function(t){var e=t;return J.defined(e)&&i.is(e.range)&&(J.undefined(e.command)||_.is(e.command))}}(H||(H={})),function(t){t.create=function(t,e){return{tabSize:t,insertSpaces:e}},t.is=function(t){var e=t;return J.defined(e)&&J.number(e.tabSize)&&J.boolean(e.insertSpaces)}}(z||(z={}));var K=function(){};!function(t){t.create=function(t,e,n){return{range:t,target:e,data:n}},t.is=function(t){var e=t;return J.defined(e)&&i.is(e.range)&&(J.undefined(e.target)||J.string(e.target))}}(K||(K={}));var G,Y,Z=["\n","\r\n","\r"];!function(t){t.create=function(t,e,n,r){return new X(t,e,n,r)},t.is=function(t){var e=t;return!!(J.defined(e)&&J.string(e.uri)&&(J.undefined(e.languageId)||J.string(e.languageId))&&J.number(e.lineCount)&&J.func(e.getText)&&J.func(e.positionAt)&&J.func(e.offsetAt))},t.applyEdits=function(t,e){for(var n=t.getText(),r=function t(e,n){if(e.length<=1)return e;var r=e.length/2|0;var i=e.slice(0,r);var o=e.slice(r);t(i,n);t(o,n);var s=0;var u=0;var c=0;for(;s<i.length&&u<o.length;){var a=n(i[s],o[u]);e[c++]=a<=0?i[s++]:o[u++]}for(;s<i.length;)e[c++]=i[s++];for(;u<o.length;)e[c++]=o[u++];return e}(e,function(t,e){var n=t.range.start.line-e.range.start.line;return 0===n?t.range.start.character-e.range.start.character:n}),i=n.length,o=r.length-1;o>=0;o--){var s=r[o],u=t.offsetAt(s.range.start),c=t.offsetAt(s.range.end);if(!(c<=i))throw new Error("Overlapping edit");n=n.substring(0,u)+s.newText+n.substring(c,n.length),i=u}return n}}(G||(G={})),function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3}(Y||(Y={}));var J,X=function(){function t(t,e,n,r){this._uri=t,this._languageId=e,this._version=n,this._content=r,this._lineOffsets=null}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.prototype.getText=function(t){if(t){var e=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(e,n)}return this._content},t.prototype.update=function(t,e){this._content=t.text,this._version=e,this._lineOffsets=null},t.prototype.getLineOffsets=function(){if(null===this._lineOffsets){for(var t=[],e=this._content,n=!0,r=0;r<e.length;r++){n&&(t.push(r),n=!1);var i=e.charAt(r);n="\r"===i||"\n"===i,"\r"===i&&r+1<e.length&&"\n"===e.charAt(r+1)&&r++}n&&e.length>0&&t.push(e.length),this._lineOffsets=t}return this._lineOffsets},t.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var e=this.getLineOffsets(),n=0,i=e.length;if(0===i)return r.create(0,t);for(;n<i;){var o=Math.floor((n+i)/2);e[o]>t?i=o:n=o+1}var s=n-1;return r.create(s,t-e[s])},t.prototype.offsetAt=function(t){var e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;var n=e[t.line],r=t.line+1<e.length?e[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,r),n)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!0,configurable:!0}),t}();!function(t){var e=Object.prototype.toString;t.defined=function(t){return void 0!==t},t.undefined=function(t){return void 0===t},t.boolean=function(t){return!0===t||!1===t},t.string=function(t){return"[object String]"===e.call(t)},t.number=function(t){return"[object Number]"===e.call(t)},t.func=function(t){return"[object Function]"===e.call(t)},t.objectLiteral=function(t){return null!==t&&"object"==typeof t},t.typedArray=function(t,e){return Array.isArray(t)&&t.every(e)}}(J||(J={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(109),i=n(34),o=n(110);e.ImplementationRequest=o.ImplementationRequest;const s=n(111);e.TypeDefinitionRequest=s.TypeDefinitionRequest;const u=n(112);e.WorkspaceFoldersRequest=u.WorkspaceFoldersRequest,e.DidChangeWorkspaceFoldersNotification=u.DidChangeWorkspaceFoldersNotification;const c=n(113);e.ConfigurationRequest=c.ConfigurationRequest;const a=n(114);e.DocumentColorRequest=a.DocumentColorRequest,e.ColorPresentationRequest=a.ColorPresentationRequest;const l=n(115);e.FoldingRangeRequest=l.FoldingRangeRequest;const f=n(116);e.DeclarationRequest=f.DeclarationRequest,function(t){t.is=function(t){let e=t;return r.string(e.language)||r.string(e.scheme)||r.string(e.pattern)}}(e.DocumentFilter||(e.DocumentFilter={})),function(t){t.type=new i.RequestType("client/registerCapability")}(e.RegistrationRequest||(e.RegistrationRequest={})),function(t){t.type=new i.RequestType("client/unregisterCapability")}(e.UnregistrationRequest||(e.UnregistrationRequest={})),function(t){t.Create="create",t.Rename="rename",t.Delete="delete"}(e.ResourceOperationKind||(e.ResourceOperationKind={})),function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"}(e.FailureHandlingKind||(e.FailureHandlingKind={})),function(t){t.None=0,t.Full=1,t.Incremental=2}(e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})),function(t){t.type=new i.RequestType("initialize")}(e.InitializeRequest||(e.InitializeRequest={})),function(t){t.unknownProtocolVersion=1}(e.InitializeError||(e.InitializeError={})),function(t){t.type=new i.NotificationType("initialized")}(e.InitializedNotification||(e.InitializedNotification={})),function(t){t.type=new i.RequestType0("shutdown")}(e.ShutdownRequest||(e.ShutdownRequest={})),function(t){t.type=new i.NotificationType0("exit")}(e.ExitNotification||(e.ExitNotification={})),function(t){t.type=new i.NotificationType("workspace/didChangeConfiguration")}(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})),function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4}(e.MessageType||(e.MessageType={})),function(t){t.type=new i.NotificationType("window/showMessage")}(e.ShowMessageNotification||(e.ShowMessageNotification={})),function(t){t.type=new i.RequestType("window/showMessageRequest")}(e.ShowMessageRequest||(e.ShowMessageRequest={})),function(t){t.type=new i.NotificationType("window/logMessage")}(e.LogMessageNotification||(e.LogMessageNotification={})),function(t){t.type=new i.NotificationType("telemetry/event")}(e.TelemetryEventNotification||(e.TelemetryEventNotification={})),function(t){t.type=new i.NotificationType("textDocument/didOpen")}(e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})),function(t){t.type=new i.NotificationType("textDocument/didChange")}(e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})),function(t){t.type=new i.NotificationType("textDocument/didClose")}(e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})),function(t){t.type=new i.NotificationType("textDocument/didSave")}(e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})),function(t){t.type=new i.NotificationType("textDocument/willSave")}(e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})),function(t){t.type=new i.RequestType("textDocument/willSaveWaitUntil")}(e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})),function(t){t.type=new i.NotificationType("workspace/didChangeWatchedFiles")}(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})),function(t){t.Created=1,t.Changed=2,t.Deleted=3}(e.FileChangeType||(e.FileChangeType={})),function(t){t.Create=1,t.Change=2,t.Delete=4}(e.WatchKind||(e.WatchKind={})),function(t){t.type=new i.NotificationType("textDocument/publishDiagnostics")}(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})),function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3}(e.CompletionTriggerKind||(e.CompletionTriggerKind={})),function(t){t.type=new i.RequestType("textDocument/completion")}(e.CompletionRequest||(e.CompletionRequest={})),function(t){t.type=new i.RequestType("completionItem/resolve")}(e.CompletionResolveRequest||(e.CompletionResolveRequest={})),function(t){t.type=new i.RequestType("textDocument/hover")}(e.HoverRequest||(e.HoverRequest={})),function(t){t.type=new i.RequestType("textDocument/signatureHelp")}(e.SignatureHelpRequest||(e.SignatureHelpRequest={})),function(t){t.type=new i.RequestType("textDocument/definition")}(e.DefinitionRequest||(e.DefinitionRequest={})),function(t){t.type=new i.RequestType("textDocument/references")}(e.ReferencesRequest||(e.ReferencesRequest={})),function(t){t.type=new i.RequestType("textDocument/documentHighlight")}(e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})),function(t){t.type=new i.RequestType("textDocument/documentSymbol")}(e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})),function(t){t.type=new i.RequestType("workspace/symbol")}(e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})),function(t){t.type=new i.RequestType("textDocument/codeAction")}(e.CodeActionRequest||(e.CodeActionRequest={})),function(t){t.type=new i.RequestType("textDocument/codeLens")}(e.CodeLensRequest||(e.CodeLensRequest={})),function(t){t.type=new i.RequestType("codeLens/resolve")}(e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})),function(t){t.type=new i.RequestType("textDocument/formatting")}(e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})),function(t){t.type=new i.RequestType("textDocument/rangeFormatting")}(e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})),function(t){t.type=new i.RequestType("textDocument/onTypeFormatting")}(e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})),function(t){t.type=new i.RequestType("textDocument/rename")}(e.RenameRequest||(e.RenameRequest={})),function(t){t.type=new i.RequestType("textDocument/prepareRename")}(e.PrepareRenameRequest||(e.PrepareRenameRequest={})),function(t){t.type=new i.RequestType("textDocument/documentLink")}(e.DocumentLinkRequest||(e.DocumentLinkRequest={})),function(t){t.type=new i.RequestType("documentLink/resolve")}(e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})),function(t){t.type=new i.RequestType("workspace/executeCommand")}(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})),function(t){t.type=new i.RequestType("workspace/applyEdit")}(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))},function(t,e,n){"use strict";function r(t){return"string"==typeof t||t instanceof String}function i(t){return"function"==typeof t}function o(t){return Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.boolean=function(t){return!0===t||!1===t},e.string=r,e.number=function(t){return"number"==typeof t||t instanceof Number},e.error=function(t){return t instanceof Error},e.func=i,e.array=o,e.stringArray=function(t){return o(t)&&t.every(t=>r(t))},e.typedArray=function(t,e){return Array.isArray(t)&&t.every(e)},e.thenable=function(t){return t&&i(t.then)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType("textDocument/implementation")}(e.ImplementationRequest||(e.ImplementationRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType("textDocument/typeDefinition")}(e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType0("workspace/workspaceFolders")}(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})),function(t){t.type=new r.NotificationType("workspace/didChangeWorkspaceFolders")}(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType("workspace/configuration")}(e.ConfigurationRequest||(e.ConfigurationRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType("textDocument/documentColor")}(e.DocumentColorRequest||(e.DocumentColorRequest={})),function(t){t.type=new r.RequestType("textDocument/colorPresentation")}(e.ColorPresentationRequest||(e.ColorPresentationRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.Comment="comment",t.Imports="imports",t.Region="region"}(e.FoldingRangeKind||(e.FoldingRangeKind={})),function(t){t.type=new r.RequestType("textDocument/foldingRange")}(e.FoldingRangeRequest||(e.FoldingRangeRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(34);!function(t){t.type=new r.RequestType("textDocument/declaration")}(e.DeclarationRequest||(e.DeclarationRequest={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(63),i=n(88);e.ConfigurationFeature=t=>(class extends t{getConfiguration(t){return t?i.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let e={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(r.ConfigurationRequest.type,e).then(e=>Array.isArray(t)?e:e[0])}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(63);e.WorkspaceFoldersFeature=t=>(class extends t{initialize(t){let e=t.workspace;e&&e.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new r.Emitter,this.connection.onNotification(r.DidChangeWorkspaceFoldersNotification.type,t=>{this._onDidChangeWorkspaceFolders.fire(t.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(r.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(r.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class i extends r{constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}}function o(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],e.empty=new r("00000000-0000-0000-0000-000000000000"),e.v4=o;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function u(t){return s.test(t)}e.isUUID=u,e.parse=function(t){if(!u(t))throw new Error("invalid uuid");return new r(t)},e.generateUuid=function(){return o().asHex()}},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const r=n(121),i=n(15),o=n(35),s=n(65);function u(){return"win32"===process.platform}function c(t,e,n,r){const o=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((u,c)=>{let a=process.env,l=Object.create(null);Object.keys(a).forEach(t=>l[t]=a[t]),e&&(l.NODE_PATH?l.NODE_PATH=e+i.delimiter+l.NODE_PATH:l.NODE_PATH=e,r&&r(`NODE_PATH value is: ${l.NODE_PATH}`)),l.ELECTRON_RUN_AS_NODE="1";try{let e=s.fork("",[],{cwd:n,env:l,execArgv:["-e",o]});if(void 0===e.pid)return void c(new Error(`Starting process to resolve node module  ${t} failed`));e.on("error",t=>{c(t)}),e.on("message",n=>{"r"===n.c&&(e.send({c:"e"}),n.s?u(n.r):c(new Error(`Failed to resolve module: ${t}`)))});let r={c:"rs",a:t};e.send(r)}catch(t){c(t)}})}function a(t){let e="npm",n={encoding:"utf8"};u()&&(e="npm.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=s.spawnSync(e,["config","get","prefix"],n).stdout;if(!o)return void(t&&t("'npm config get prefix' didn't return a value."));let c=o.trim();return t&&t(`'npm config get prefix' value is: ${c}`),c.length>0?u()?i.join(c,"node_modules"):i.join(c,"lib","node_modules"):void 0}catch(t){return}finally{process.removeListener("SIGPIPE",r)}}var l;function f(t,e,n,r){return n?(i.isAbsolute(n)||(n=i.join(t,n)),c(e,n,n,r).then(t=>l.isParent(n,t)?t:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,n=>c(e,a(r),t,r))):c(e,a(r),t,r)}e.uriToFilePath=function(t){let e=r.parse(t);if("file:"!==e.protocol||!e.path)return;let n=e.path.split("/");for(var o=0,s=n.length;o<s;o++)n[o]=decodeURIComponent(n[o]);if("win32"===process.platform&&n.length>1){let t=n[0],e=n[1];0===t.length&&e.length>1&&":"===e[1]&&n.shift()}return i.normalize(n.join("/"))},e.resolveModule=function(t,e){return new Promise((r,o)=>{let c=[];t&&c.push(i.join(t,"node_modules")),s.exec("npm config get prefix",(t,a,l)=>{if(!t){let t=a.replace(/[\s\r\n]+$/,"");t.length>0&&(u()?c.push(i.join(t,"node_modules")):c.push(i.join(t,"lib","node_modules")))}let f=u()?";":":",h=process.env,d=Object.create(null);Object.keys(h).forEach(t=>d[t]=h[t]),d.NODE_PATH?d.NODE_PATH=c.join(f)+f+d.NODE_PATH:d.NODE_PATH=c.join(f),d.ELECTRON_RUN_AS_NODE="1";try{let u=s.fork(i.join(__dirname,"resolve.js"),[],{env:d,execArgv:[]});if(void 0===u.pid)return void o(new Error(`Starting process to resolve node module  ${e} failed`));u.on("message",t=>{if("resolve"===t.command){let i=e;t.success&&(i=t.result),u.send({command:"exit"});try{r(n(89)(i))}catch(t){o(t)}}});let c={command:"resolve",args:e};u.send(c)}catch(t){o(t)}})})},e.resolve=c,e.resolveGlobalNodePath=a,e.resolveGlobalYarnPath=function(t){let e="yarn",n={encoding:"utf8"};u()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let o=s.spawnSync(e,["global","dir","--json"],n),u=o.stdout;if(!u)return void(t&&(t("'yarn global dir' didn't return a value."),o.stderr&&t(o.stderr)));let c=u.trim().split(/\r?\n/);for(let t of c)try{let e=JSON.parse(t);if("log"===e.type)return i.join(e.data,"node_modules")}catch(t){}return}catch(t){return}finally{process.removeListener("SIGPIPE",r)}},function(e){let n=void 0;function r(){return void 0!==n?n:n="win32"!==process.platform&&(!o.existsSync(t.toUpperCase())||!o.existsSync(t.toLowerCase()))}e.isCaseSensitive=r,e.isParent=function(t,e){return r()?0===i.normalize(e).indexOf(i.normalize(t)):0==i.normalize(e).toLowerCase().indexOf(i.normalize(t).toLowerCase())}}(l=e.FileSystem||(e.FileSystem={})),e.resolveModulePath=f,e.resolveModule2=function(t,e,r,i){return f(t,e,r,i).then(t=>(i&&i(`Module ${e} got resolved to ${t}`),n(89)(t)))}}).call(this,"/index.js")},function(t,e){t.exports=require("url")},function(t,e,n){var r,i,o,s=void 0!==s?s:{};i=[],void 0===(o="function"==typeof(r=function(){var e,r={};for(e in s)s.hasOwnProperty(e)&&(r[e]=s[e]);var i,o,u=[],c=function(t,e){throw e},a=!1,l=!1;a="object"==typeof window,l="function"==typeof importScripts,i="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,o=!a&&!i&&!l;var f,h,d,p,_="";i?(_=l?n(15).dirname(_)+"/":__dirname+"/",f=function(t,e){return d||(d=n(35)),p||(p=n(15)),t=p.normalize(t),d.readFileSync(t,e?null:"utf8")},h=function(t){var e=f(t,!0);return e.buffer||(e=new Uint8Array(e)),L(e.buffer),e},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),u=process.argv.slice(2),t.exports=s,process.on("uncaughtException",function(t){if(!(t instanceof zt))throw t}),process.on("unhandledRejection",gt),c=function(t){process.exit(t)},s.inspect=function(){return"[Emscripten Module object]"}):o?("undefined"!=typeof read&&(f=function(t){return read(t)}),h=function(t){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(L("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof scriptArgs?u=scriptArgs:void 0!==arguments&&(u=arguments),"function"==typeof quit&&(c=function(t){quit(t)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(a||l)&&(l?_=self.location.href:document.currentScript&&(_=document.currentScript.src),_=0!==_.indexOf("blob:")?_.substr(0,_.lastIndexOf("/")+1):"",f=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.send(null),e.responseText},l&&(h=function(t){var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)})),s.print||console.log.bind(console);var m=s.printErr||console.warn.bind(console);for(e in r)r.hasOwnProperty(e)&&(s[e]=r[e]);r=null,s.arguments&&(u=s.arguments),s.thisProgram&&s.thisProgram,s.quit&&(c=s.quit);var g=16;function y(t){var e=B[Q>>2],n=e+t+15&-16;return B[Q>>2]=n,e}function v(t,e){return e||(e=g),Math.ceil(t/e)*e}function b(t){switch(t){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===t[t.length-1])return 4;if("i"===t[0]){var e=Number(t.substr(1));return L(e%8==0,"getNativeTypeSize invalid bits "+e+", type "+t),e/8}return 0}}var w={nextHandle:1,loadedLibs:{"-1":{refcount:1/0,name:"__self__",module:s,global:!0}},loadedLibNames:{__self__:-1}};function x(t){return 0==t.indexOf("dynCall_")||-1!=["setTempRet0","getTempRet0","stackAlloc","stackSave","stackRestore","__growWasmMemory","__heap_base","__data_end"].indexOf(t)?t:"_"+t}function E(t,e){e=e||{global:!0,nodelete:!0};var n,r=w.loadedLibNames[t];if(r)return n=w.loadedLibs[r],e.global&&!n.global&&(n.global=!0,"loading"!==n.module&&c(n.module)),e.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,e.loadAsync?Promise.resolve(r):r;function i(t){if(e.fs){var n=e.fs.readFile(t,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(lib_data)),e.loadAsync?Promise.resolve(n):n}return e.loadAsync?(r=t,fetch(r,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load binary file at '"+r+"'";return t.arrayBuffer()}).then(function(t){return new Uint8Array(t)})):h(t);var r}function o(t){return C(t,e)}function u(){if(void 0!==s.preloadedWasm&&void 0!==s.preloadedWasm[t]){var n=s.preloadedWasm[t];return e.loadAsync?Promise.resolve(n):n}return e.loadAsync?i(t).then(function(t){return o(t)}):o(i(t))}function c(t){for(var e in t)if(t.hasOwnProperty(e)){var n=x(e);s.hasOwnProperty(n)||(s[n]=t[e])}}function a(t){n.global&&c(t),n.module=t}return r=w.nextHandle++,n={refcount:e.nodelete?1/0:1,name:t,module:"loading",global:e.global},w.loadedLibNames[t]=r,w.loadedLibs[r]=n,e.loadAsync?u().then(function(t){return a(t),r}):(a(u()),r)}function S(t,e,n,r){var i={};for(var o in t){var s=t[o];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=e),i[o]=s,r&&(r["_"+o]=s)}return i}function C(t,e){L(1836278016==new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer)[0],"need to see wasm magic number"),L(0===t[8],"need the dylink section to be first");var n=9;function r(){for(var e=0,r=1;;){var i=t[n++];if(e+=(127&i)*r,r*=128,!(128&i))break}return e}r(),L(6===t[n]),L(t[++n]==="d".charCodeAt(0)),L(t[++n]==="y".charCodeAt(0)),L(t[++n]==="l".charCodeAt(0)),L(t[++n]==="i".charCodeAt(0)),L(t[++n]==="n".charCodeAt(0)),L(t[++n]==="k".charCodeAt(0)),n++;for(var i=r(),o=r(),u=r(),c=r(),a=r(),l=[],f=0;f<a;++f){var h=r(),d=t.subarray(n,n+h);n+=h;var p=Z(d,0);l.push(p)}function _(){o=Math.pow(2,o),c=Math.pow(2,c),o=Math.max(o,g);var n=v(W(i+o),o),r=Mt,a=q,l=a.length,f=a;a.grow(u),L(a===f);for(var h=n;h<n+i;h++)U[h]=0;for(h=l;h<l+u;h++)a.set(h,null);var d={},p=function(t,e,n){n&&(t="orig$"+t);var r,i=s.asm[t];if(!i){var o=x(t);(i=s[o])||(i=d[o]),!i&&t.startsWith("invoke_")&&(r=t.split("_")[1],i=function(){var t=Lt();try{return s["dynCall_"+r].apply(null,arguments)}catch(e){if($t(t),e!==e+0&&"longjmp"!==e)throw e;_setThrew(1,0)}})}return i};for(var _ in s)_ in r||(r[_]=s[_]);var m=new Proxy(r,{get:function(t,e){switch(e){case"__memory_base":case"gb":return n;case"__table_base":case"fb":return l}if(e in t)return t[e];if(e.startsWith("g$")){var r=e.substr(2);return t[e]=function(){return p(r)}}if(e.startsWith("fp$")){var i=e.split("$");L(3==i.length),r=i[1];var o=i[2],s=o.indexOf("j")>=0,u=0;return t[e]=function(){if(!u){var t=p(r,0,s);u=N(t,o)}return u}}return t[e]=function(){return p(e).apply(null,arguments)}}}),y={global:{NaN:NaN,Infinity:1/0},"global.Math":Math,env:m,wasi_snapshot_preview1:m};function b(t,e){var r=S(t.exports,n,0,e),i=r.__post_instantiate;return i&&(st?i():rt.push(i)),r}return e.loadAsync?WebAssembly.instantiate(t,y).then(function(t){return b(t.instance,d)}):b(new WebAssembly.Instance(new WebAssembly.Module(t),y),d)}return e.loadAsync?Promise.all(l.map(function(t){return E(t,e)})).then(function(){return _()}):(l.forEach(function(t){E(t,e)}),_())}s.loadWebAssemblyModule=C;var T,R=[];function O(t,e){var n,r=q;if(!T){T=new WeakMap;for(var i=0;i<r.length;i++){var o=r.get(i);o&&T.set(o,i)}}if(T.has(t))return T.get(t);if(R.length)n=R.pop();else{n=r.length;try{r.grow(1)}catch(t){if(!(t instanceof RangeError))throw t;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}}try{r.set(n,t)}catch(i){if(!(i instanceof TypeError))throw i;var s=function(t,e){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==e[0]?[]:[n[e[0]]]},i=1;i<e.length;++i)r.parameters.push(n[e[i]]);return new WebAssembly.Function(r,t)}var o=[1,0,1,96],s=e.slice(0,1),u=e.slice(1),c={i:127,j:126,f:125,d:124};for(o.push(u.length),i=0;i<u.length;++i)o.push(c[u[i]]);"v"==s?o.push(0):o=o.concat([1,c[s]]),o[1]=o.length-2;var a=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(a);return new WebAssembly.Instance(l,{e:{f:t}}).exports.f}(t,e);r.set(n,s)}return T.set(t,n),n}function N(t,e){return O(t,e)}var P,k,j,I=function(t){},D=1024;function M(t,e,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":U[t>>0]=e;break;case"i16":z[t>>1]=e;break;case"i32":B[t>>2]=e;break;case"i64":Ct=[e>>>0,(St=e,+ct(St)>=1?St>0?(0|ft(+lt(St/4294967296),4294967295))>>>0:~~+at((St-+(~~St>>>0))/4294967296)>>>0:0)],B[t>>2]=Ct[0],B[t+4>>2]=Ct[1];break;case"float":K[t>>2]=e;break;case"double":G[t>>3]=e;break;default:gt("invalid type for setValue: "+n)}}function A(t,e,n){switch("*"===(e=e||"i8").charAt(e.length-1)&&(e="i32"),e){case"i1":case"i8":return U[t>>0];case"i16":return z[t>>1];case"i32":case"i64":return B[t>>2];case"float":return K[t>>2];case"double":return G[t>>3];default:gt("invalid type for getValue: "+e)}return null}D=v(D,1),s.wasmBinary&&(P=s.wasmBinary),s.noExitRuntime&&(k=s.noExitRuntime),"object"!=typeof WebAssembly&&gt("no native wasm support detected");var q=new WebAssembly.Table({initial:12,element:"anyfunc"}),F=!1;function L(t,e){t||gt("Assertion failed: "+e)}var $=3;function W(t){return st?qt(t):y(t)}var V,U,H,z,B,K,G,Y="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Z(t,e,n){for(var r=e+n,i=e;t[i]&&!(i>=r);)++i;if(i-e>16&&t.subarray&&Y)return Y.decode(t.subarray(e,i));for(var o="";e<i;){var s=t[e++];if(128&s){var u=63&t[e++];if(192!=(224&s)){var c=63&t[e++];if((s=224==(240&s)?(15&s)<<12|u<<6|c:(7&s)<<18|u<<12|c<<6|63&t[e++])<65536)o+=String.fromCharCode(s);else{var a=s-65536;o+=String.fromCharCode(55296|a>>10,56320|1023&a)}}else o+=String.fromCharCode((31&s)<<6|u)}else o+=String.fromCharCode(s)}return o}function J(t,e){return t?Z(H,t,e):""}function X(t){V=t,s.HEAP8=U=new Int8Array(t),s.HEAP16=z=new Int16Array(t),s.HEAP32=B=new Int32Array(t),s.HEAPU8=H=new Uint8Array(t),s.HEAPU16=new Uint16Array(t),s.HEAPU32=new Uint32Array(t),s.HEAPF32=K=new Float32Array(t),s.HEAPF64=G=new Float64Array(t)}var Q=8016,tt=s.INITIAL_MEMORY||33554432;function et(t){for(;t.length>0;){var e=t.shift();if("function"!=typeof e){var n=e.func;"number"==typeof n?void 0===e.arg?s.dynCall_v(n):s.dynCall_vi(n,e.arg):n(void 0===e.arg?null:e.arg)}else e(s)}}(j=s.wasmMemory?s.wasmMemory:new WebAssembly.Memory({initial:tt/65536,maximum:32768}))&&(V=j.buffer),tt=V.byteLength,X(V),B[Q>>2]=5251056;var nt=[],rt=[],it=[],ot=[],st=!1;function ut(t){nt.unshift(t)}var ct=Math.abs,at=Math.ceil,lt=Math.floor,ft=Math.min,ht=0,dt=null,pt=null;function _t(t){ht++,s.monitorRunDependencies&&s.monitorRunDependencies(ht)}function mt(t){if(ht--,s.monitorRunDependencies&&s.monitorRunDependencies(ht),0==ht&&(null!==dt&&(clearInterval(dt),dt=null),pt)){var e=pt;pt=null,e()}}function gt(t){throw s.onAbort&&s.onAbort(t),m(t+=""),F=!0,t="abort("+t+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(t)}function yt(t,e){return String.prototype.startsWith?t.startsWith(e):0===t.indexOf(e)}s.preloadedImages={},s.preloadedAudios={},s.preloadedWasm={},ut(function(){if(s.dynamicLibraries&&s.dynamicLibraries.length>0&&!h)return _t(),void Promise.all(s.dynamicLibraries.map(function(t){return E(t,{loadAsync:!0,global:!0,nodelete:!0})})).then(function(){mt()});var t;(t=s.dynamicLibraries)&&t.forEach(function(t){E(t,{global:!0,nodelete:!0})})});var vt="data:application/octet-stream;base64,";function bt(t){return yt(t,vt)}var wt="file://";function xt(t){return yt(t,wt)}var Et,St,Ct,Tt,Rt="tree-sitter.wasm";function Ot(){try{if(P)return new Uint8Array(P);if(h)return h(Rt);throw"both async and sync fetching of the wasm failed"}catch(t){gt(t)}}function Nt(){gt()}bt(Rt)||(Et=Rt,Rt=s.locateFile?s.locateFile(Et,_):_+Et),rt.push({func:function(){Vt()}},{func:function(){At()}}),s._abort=Nt,Tt=i?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var Pt=!0;function kt(t){try{return j.grow(t-V.byteLength+65535>>>16),X(j.buffer),1}catch(t){}}function jt(t,e,n){if(le){const t=J(n);le(t,0!==e)}}var It,Dt=D,Mt={__memory_base:1024,__stack_pointer:5251056,__table_base:1,abort:Nt,clock_gettime:function(t,e){var n;if(0===t)n=Date.now();else{if(1!==t&&4!==t||!Pt)return B[Ft()>>2]=28,-1;n=Tt()}return B[e>>2]=n/1e3|0,B[e+4>>2]=n%1e3*1e3*1e3|0,0},emscripten_memcpy_big:function(t,e,n){H.copyWithin(t,e,e+n)},emscripten_resize_heap:function(t){t>>>=0;var e=H.length;if(t>2147483648)return!1;for(var n,r=1;r<=4;r*=2){var i=e*(1+.2/r);if(i=Math.min(i,t+100663296),kt(Math.min(2147483648,((n=Math.max(16777216,t,i))%65536>0&&(n+=65536-n%65536),n))))return!0}return!1},exit:function(t){Kt(t)},fp$tree_sitter_log_callback$viii:function(){return s._fp$tree_sitter_log_callback$viii.apply(null,arguments)},memory:j,setTempRet0:function(t){I(0|t)},table:q,tree_sitter_parse_callback:function(t,e,n,r,i){var o=ae(e,{row:n,column:r});"string"==typeof o?(M(i,o.length,"i32"),function(t,e,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=(n-=2)<2*t.length?n/2:t.length,i=0;i<r;++i){var o=t.charCodeAt(i);z[e>>1]=o,e+=2}z[e>>1]=0}(o,t,10240)):M(i,0,"i32")}},At=(function(){var t={env:Mt,wasi_snapshot_preview1:Mt};function e(t,e){var n=t.exports;n=S(n,D),s.asm=n,mt()}function n(t){e(t.instance)}function r(e){return(P||!a&&!l||"function"!=typeof fetch||xt(Rt)?new Promise(function(t,e){t(Ot())}):fetch(Rt,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Rt+"'";return t.arrayBuffer()}).catch(function(){return Ot()})).then(function(e){return WebAssembly.instantiate(e,t)}).then(e,function(t){m("failed to asynchronously prepare wasm: "+t),gt(t)})}if(_t(),s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(t){return m("Module.instantiateWasm callback failed with error: "+t),!1}!function(){if(P||"function"!=typeof WebAssembly.instantiateStreaming||bt(Rt)||xt(Rt)||"function"!=typeof fetch)return r(n);fetch(Rt,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,t).then(n,function(t){return m("wasm streaming compile failed: "+t),m("falling back to ArrayBuffer instantiation"),r(n)})})}()}(),s.___wasm_call_ctors=function(){return(At=s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)}),qt=(s._calloc=function(){return(s._calloc=s.asm.calloc).apply(null,arguments)},s._ts_language_symbol_count=function(){return(s._ts_language_symbol_count=s.asm.ts_language_symbol_count).apply(null,arguments)},s._ts_language_version=function(){return(s._ts_language_version=s.asm.ts_language_version).apply(null,arguments)},s._ts_language_field_count=function(){return(s._ts_language_field_count=s.asm.ts_language_field_count).apply(null,arguments)},s._ts_language_symbol_name=function(){return(s._ts_language_symbol_name=s.asm.ts_language_symbol_name).apply(null,arguments)},s._ts_language_symbol_type=function(){return(s._ts_language_symbol_type=s.asm.ts_language_symbol_type).apply(null,arguments)},s._ts_language_field_name_for_id=function(){return(s._ts_language_field_name_for_id=s.asm.ts_language_field_name_for_id).apply(null,arguments)},s._memcpy=function(){return(s._memcpy=s.asm.memcpy).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s._malloc=function(){return(qt=s._malloc=s.asm.malloc).apply(null,arguments)}),Ft=(s._ts_parser_delete=function(){return(s._ts_parser_delete=s.asm.ts_parser_delete).apply(null,arguments)},s._ts_parser_set_language=function(){return(s._ts_parser_set_language=s.asm.ts_parser_set_language).apply(null,arguments)},s._ts_parser_timeout_micros=function(){return(s._ts_parser_timeout_micros=s.asm.ts_parser_timeout_micros).apply(null,arguments)},s._ts_parser_set_timeout_micros=function(){return(s._ts_parser_set_timeout_micros=s.asm.ts_parser_set_timeout_micros).apply(null,arguments)},s._memcmp=function(){return(s._memcmp=s.asm.memcmp).apply(null,arguments)},s._ts_query_new=function(){return(s._ts_query_new=s.asm.ts_query_new).apply(null,arguments)},s._iswspace=function(){return(s._iswspace=s.asm.iswspace).apply(null,arguments)},s._ts_query_delete=function(){return(s._ts_query_delete=s.asm.ts_query_delete).apply(null,arguments)},s._iswalnum=function(){return(s._iswalnum=s.asm.iswalnum).apply(null,arguments)},s._ts_query_pattern_count=function(){return(s._ts_query_pattern_count=s.asm.ts_query_pattern_count).apply(null,arguments)},s._ts_query_capture_count=function(){return(s._ts_query_capture_count=s.asm.ts_query_capture_count).apply(null,arguments)},s._ts_query_string_count=function(){return(s._ts_query_string_count=s.asm.ts_query_string_count).apply(null,arguments)},s._ts_query_capture_name_for_id=function(){return(s._ts_query_capture_name_for_id=s.asm.ts_query_capture_name_for_id).apply(null,arguments)},s._ts_query_string_value_for_id=function(){return(s._ts_query_string_value_for_id=s.asm.ts_query_string_value_for_id).apply(null,arguments)},s._ts_query_predicates_for_pattern=function(){return(s._ts_query_predicates_for_pattern=s.asm.ts_query_predicates_for_pattern).apply(null,arguments)},s._ts_tree_delete=function(){return(s._ts_tree_delete=s.asm.ts_tree_delete).apply(null,arguments)},s._ts_init=function(){return(s._ts_init=s.asm.ts_init).apply(null,arguments)},s._ts_parser_new_wasm=function(){return(s._ts_parser_new_wasm=s.asm.ts_parser_new_wasm).apply(null,arguments)},s._ts_parser_enable_logger_wasm=function(){return(s._ts_parser_enable_logger_wasm=s.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},s._ts_parser_parse_wasm=function(){return(s._ts_parser_parse_wasm=s.asm.ts_parser_parse_wasm).apply(null,arguments)},s._ts_tree_root_node_wasm=function(){return(s._ts_tree_root_node_wasm=s.asm.ts_tree_root_node_wasm).apply(null,arguments)},s._ts_tree_edit_wasm=function(){return(s._ts_tree_edit_wasm=s.asm.ts_tree_edit_wasm).apply(null,arguments)},s._ts_tree_get_changed_ranges_wasm=function(){return(s._ts_tree_get_changed_ranges_wasm=s.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},s._ts_tree_cursor_new_wasm=function(){return(s._ts_tree_cursor_new_wasm=s.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},s._ts_tree_cursor_delete_wasm=function(){return(s._ts_tree_cursor_delete_wasm=s.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},s._ts_tree_cursor_reset_wasm=function(){return(s._ts_tree_cursor_reset_wasm=s.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_first_child_wasm=function(){return(s._ts_tree_cursor_goto_first_child_wasm=s.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_next_sibling_wasm=function(){return(s._ts_tree_cursor_goto_next_sibling_wasm=s.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},s._ts_tree_cursor_goto_parent_wasm=function(){return(s._ts_tree_cursor_goto_parent_wasm=s.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_type_id_wasm=function(){return(s._ts_tree_cursor_current_node_type_id_wasm=s.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_is_named_wasm=function(){return(s._ts_tree_cursor_current_node_is_named_wasm=s.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_is_missing_wasm=function(){return(s._ts_tree_cursor_current_node_is_missing_wasm=s.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_id_wasm=function(){return(s._ts_tree_cursor_current_node_id_wasm=s.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},s._ts_tree_cursor_start_position_wasm=function(){return(s._ts_tree_cursor_start_position_wasm=s.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},s._ts_tree_cursor_end_position_wasm=function(){return(s._ts_tree_cursor_end_position_wasm=s.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},s._ts_tree_cursor_start_index_wasm=function(){return(s._ts_tree_cursor_start_index_wasm=s.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},s._ts_tree_cursor_end_index_wasm=function(){return(s._ts_tree_cursor_end_index_wasm=s.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},s._ts_tree_cursor_current_field_id_wasm=function(){return(s._ts_tree_cursor_current_field_id_wasm=s.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},s._ts_tree_cursor_current_node_wasm=function(){return(s._ts_tree_cursor_current_node_wasm=s.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},s._ts_node_symbol_wasm=function(){return(s._ts_node_symbol_wasm=s.asm.ts_node_symbol_wasm).apply(null,arguments)},s._ts_node_child_count_wasm=function(){return(s._ts_node_child_count_wasm=s.asm.ts_node_child_count_wasm).apply(null,arguments)},s._ts_node_named_child_count_wasm=function(){return(s._ts_node_named_child_count_wasm=s.asm.ts_node_named_child_count_wasm).apply(null,arguments)},s._ts_node_child_wasm=function(){return(s._ts_node_child_wasm=s.asm.ts_node_child_wasm).apply(null,arguments)},s._ts_node_named_child_wasm=function(){return(s._ts_node_named_child_wasm=s.asm.ts_node_named_child_wasm).apply(null,arguments)},s._ts_node_child_by_field_id_wasm=function(){return(s._ts_node_child_by_field_id_wasm=s.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},s._ts_node_next_sibling_wasm=function(){return(s._ts_node_next_sibling_wasm=s.asm.ts_node_next_sibling_wasm).apply(null,arguments)},s._ts_node_prev_sibling_wasm=function(){return(s._ts_node_prev_sibling_wasm=s.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},s._ts_node_next_named_sibling_wasm=function(){return(s._ts_node_next_named_sibling_wasm=s.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},s._ts_node_prev_named_sibling_wasm=function(){return(s._ts_node_prev_named_sibling_wasm=s.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},s._ts_node_parent_wasm=function(){return(s._ts_node_parent_wasm=s.asm.ts_node_parent_wasm).apply(null,arguments)},s._ts_node_descendant_for_index_wasm=function(){return(s._ts_node_descendant_for_index_wasm=s.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},s._ts_node_named_descendant_for_index_wasm=function(){return(s._ts_node_named_descendant_for_index_wasm=s.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},s._ts_node_descendant_for_position_wasm=function(){return(s._ts_node_descendant_for_position_wasm=s.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},s._ts_node_named_descendant_for_position_wasm=function(){return(s._ts_node_named_descendant_for_position_wasm=s.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},s._ts_node_start_point_wasm=function(){return(s._ts_node_start_point_wasm=s.asm.ts_node_start_point_wasm).apply(null,arguments)},s._ts_node_end_point_wasm=function(){return(s._ts_node_end_point_wasm=s.asm.ts_node_end_point_wasm).apply(null,arguments)},s._ts_node_start_index_wasm=function(){return(s._ts_node_start_index_wasm=s.asm.ts_node_start_index_wasm).apply(null,arguments)},s._ts_node_end_index_wasm=function(){return(s._ts_node_end_index_wasm=s.asm.ts_node_end_index_wasm).apply(null,arguments)},s._ts_node_to_string_wasm=function(){return(s._ts_node_to_string_wasm=s.asm.ts_node_to_string_wasm).apply(null,arguments)},s._ts_node_children_wasm=function(){return(s._ts_node_children_wasm=s.asm.ts_node_children_wasm).apply(null,arguments)},s._ts_node_named_children_wasm=function(){return(s._ts_node_named_children_wasm=s.asm.ts_node_named_children_wasm).apply(null,arguments)},s._ts_node_descendants_of_type_wasm=function(){return(s._ts_node_descendants_of_type_wasm=s.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},s._ts_node_is_named_wasm=function(){return(s._ts_node_is_named_wasm=s.asm.ts_node_is_named_wasm).apply(null,arguments)},s._ts_node_has_changes_wasm=function(){return(s._ts_node_has_changes_wasm=s.asm.ts_node_has_changes_wasm).apply(null,arguments)},s._ts_node_has_error_wasm=function(){return(s._ts_node_has_error_wasm=s.asm.ts_node_has_error_wasm).apply(null,arguments)},s._ts_node_is_missing_wasm=function(){return(s._ts_node_is_missing_wasm=s.asm.ts_node_is_missing_wasm).apply(null,arguments)},s._ts_query_matches_wasm=function(){return(s._ts_query_matches_wasm=s.asm.ts_query_matches_wasm).apply(null,arguments)},s._ts_query_captures_wasm=function(){return(s._ts_query_captures_wasm=s.asm.ts_query_captures_wasm).apply(null,arguments)},s._iswdigit=function(){return(s._iswdigit=s.asm.iswdigit).apply(null,arguments)},s._iswalpha=function(){return(s._iswalpha=s.asm.iswalpha).apply(null,arguments)},s._iswlower=function(){return(s._iswlower=s.asm.iswlower).apply(null,arguments)},s._towupper=function(){return(s._towupper=s.asm.towupper).apply(null,arguments)},s.___errno_location=function(){return(Ft=s.___errno_location=s.asm.__errno_location).apply(null,arguments)}),Lt=(s._memchr=function(){return(s._memchr=s.asm.memchr).apply(null,arguments)},s._strlen=function(){return(s._strlen=s.asm.strlen).apply(null,arguments)},s.stackSave=function(){return(Lt=s.stackSave=s.asm.stackSave).apply(null,arguments)}),$t=s.stackRestore=function(){return($t=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},Wt=s.stackAlloc=function(){return(Wt=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)},Vt=(s.__Znwm=function(){return(s.__Znwm=s.asm._Znwm).apply(null,arguments)},s.__ZdlPv=function(){return(s.__ZdlPv=s.asm._ZdlPv).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},s.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(s.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=s.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=s.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(s.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=s.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=function(){return(s.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=s.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_).apply(null,arguments)},s.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(s.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=s.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},s.dynCall_iiii=function(){return(s.dynCall_iiii=s.asm.dynCall_iiii).apply(null,arguments)},s.dynCall_ii=function(){return(s.dynCall_ii=s.asm.dynCall_ii).apply(null,arguments)},s.dynCall_vi=function(){return(s.dynCall_vi=s.asm.dynCall_vi).apply(null,arguments)},s.dynCall_vii=function(){return(s.dynCall_vii=s.asm.dynCall_vii).apply(null,arguments)},s.dynCall_iiiii=function(){return(s.dynCall_iiiii=s.asm.dynCall_iiiii).apply(null,arguments)},s.dynCall_iidiiii=function(){return(s.dynCall_iidiiii=s.asm.dynCall_iidiiii).apply(null,arguments)},s._orig$ts_parser_timeout_micros=function(){return(s._orig$ts_parser_timeout_micros=s.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},s._orig$ts_parser_set_timeout_micros=function(){return(s._orig$ts_parser_set_timeout_micros=s.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},s.___assign_got_enties=function(){return(Vt=s.___assign_got_enties=s.asm.__assign_got_enties).apply(null,arguments)}),Ut={TRANSFER_BUFFER:1504,__cxa_new_handler:6144,__data_end:6984};for(var Ht in Ut)s["_"+Ht]=Dt+Ut[Ht];for(var Ht in s.NAMED_GLOBALS=Ut,Ut)!function(t){var e=s["_"+t];s["g$_"+t]=function(){return e}}(Ht);function zt(t){this.name="ExitStatus",this.message="Program terminated with exit("+t+")",this.status=t}function Bt(t){function e(){It||(It=!0,s.calledRun=!0,F||(st=!0,et(rt),et(it),s.onRuntimeInitialized&&s.onRuntimeInitialized(),Gt&&function(t){var e=s._main;if(e)try{Kt(e(0,0),!0)}catch(t){if(t instanceof zt)return;if("unwind"==t)return void(k=!0);var n=t;t&&"object"==typeof t&&t.stack&&(n=[t,t.stack]),m("exception thrown: "+n),c(1,t)}}(),function(){if(s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;)t=s.postRun.shift(),ot.unshift(t);var t;et(ot)}()))}t=t||u,ht>0||(function(){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)ut(s.preRun.shift());et(nt)}(),ht>0||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),e()},1)):e()))}function Kt(t,e){e&&k&&0===t||(k||(F=!0,s.onExit&&s.onExit(t)),c(t,new zt(t)))}if(s._fp$tree_sitter_log_callback$viii=function(){L(s._tree_sitter_log_callback||!0,"external function `tree_sitter_log_callback` is missing.perhaps a side module was not linked in? if this symbol was expected to arrive from a system library, try to build the MAIN_MODULE with EMCC_FORCE_STDLIBS=XX in the environment");var t=s.asm.tree_sitter_log_callback;t||(t=s._tree_sitter_log_callback),t||(t=s._tree_sitter_log_callback),t||(t=jt);var e=N(t,"viii");return s._fp$tree_sitter_log_callback$viii=function(){return e},e},s.allocate=function(t,e,n,r){var i,o;"number"==typeof t?(i=!0,o=t):(i=!1,o=t.length);var s,u="string"==typeof e?e:null;if(s=n==$?r:[qt,Wt,y][n](Math.max(o,u?1:e.length)),i){var c;for(r=s,L(0==(3&s)),c=s+(-4&o);r<c;r+=4)B[r>>2]=0;for(c=s+o;r<c;)U[r++>>0]=0;return s}if("i8"===u)return t.subarray||t.slice?H.set(t,s):H.set(new Uint8Array(t),s),s;for(var a,l,f,h=0;h<o;){var d=t[h];0!==(a=u||e[h])?("i64"==a&&(a="i32"),M(s+h,d,a),f!==a&&(l=b(a),f=a),h+=l):h++}return s},s.getMemory=W,pt=function t(){It||Bt(),It||(pt=t)},s.run=Bt,s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();var Gt=!0;s.noInitialRun&&(Gt=!1),k=!0,Bt();const Yt=s,Zt={},Jt=4,Xt=5*Jt,Qt=2*Jt,te=2*Jt+2*Qt,ee={row:0,column:0},ne=/[\w-.]*/g,re=1,ie=2,oe=/^_?tree_sitter_\w+/;var se,ue,ce,ae,le,fe=new Promise(t=>{s.onRuntimeInitialized=t}).then(()=>{ce=Yt._ts_init(),se=A(ce,"i32"),ue=A(ce+Jt,"i32")});class he{static init(){return fe}constructor(){if(null==ce)throw new Error("You must first call Parser.init() and wait for it to resolve.");Yt._ts_parser_new_wasm(),this[0]=A(ce,"i32"),this[1]=A(ce+Jt,"i32")}delete(){Yt._ts_parser_delete(this[0]),Yt._free(this[1]),this[0]=0,this[1]=0}setLanguage(t){let e;if(t){if(t.constructor!==me)throw new Error("Argument must be a Language");{e=t[0];const n=Yt._ts_language_version(e);if(n<ue||se<n)throw new Error(`Incompatible language version ${n}. `+`Compatibility range ${ue} through ${se}.`)}}else e=0,t=null;return this.language=t,Yt._ts_parser_set_language(this[0],e),this}getLanguage(){return this.language}parse(t,e,n){if("string"==typeof t)ae=(e,n,r)=>t.slice(e,r);else{if("function"!=typeof t)throw new Error("Argument must be a string or a function");ae=t}this.logCallback?(le=this.logCallback,Yt._ts_parser_enable_logger_wasm(this[0],1)):(le=null,Yt._ts_parser_enable_logger_wasm(this[0],0));let r=0,i=0;if(n&&n.includedRanges){r=n.includedRanges.length;let t=i=Yt._calloc(r,te);for(let e=0;e<r;e++)Oe(t,n.includedRanges[e]),t+=te}const o=Yt._ts_parser_parse_wasm(this[0],this[1],e?e[0]:0,i,r);if(!o)throw ae=null,le=null,new Error("Parsing failed");const s=new de(Zt,o,this.language,ae);return ae=null,le=null,s}reset(){Yt._ts_parser_parse_wasm(this[0])}setTimeoutMicros(t){Yt._ts_parser_set_timeout_micros(this[0],t)}getTimeoutMicros(){return Yt._ts_parser_timeout_micros(this[0])}setLogger(t){if(t){if("function"!=typeof t)throw new Error("Logger callback must be a function")}else t=null;return this.logCallback=t,this}getLogger(){return this.logCallback}}class de{constructor(t,e,n,r){be(t),this[0]=e,this.language=n,this.textCallback=r}copy(){const t=Yt._ts_tree_copy(this[0]);return new de(Zt,t,this.language,this.textCallback)}delete(){Yt._ts_tree_delete(this[0]),this[0]=0}edit(t){!function(t){let e=ce;Te(e,t.startPosition),Te(e+=Qt,t.oldEndPosition),Te(e+=Qt,t.newEndPosition),M(e+=Qt,t.startIndex,"i32"),M(e+=Jt,t.oldEndIndex,"i32"),M(e+=Jt,t.newEndIndex,"i32"),e+=Jt}(t),Yt._ts_tree_edit_wasm(this[0])}get rootNode(){return Yt._ts_tree_root_node_wasm(this[0]),Ee(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(t){if(t.constructor!==de)throw new TypeError("Argument must be a Tree");Yt._ts_tree_get_changed_ranges_wasm(this[0],t[0]);const e=A(ce,"i32"),n=A(ce+Jt,"i32"),r=new Array(e);if(e>0){let t=n;for(let n=0;n<e;n++)r[n]=Ne(t),t+=te;Yt._free(n)}return r}}class pe{constructor(t,e){be(t),this.tree=e}get typeId(){return xe(this),Yt._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return xe(this),Yt._ts_node_end_point_wasm(this.tree[0]),Re(ce)}get endIndex(){return xe(this),Yt._ts_node_end_index_wasm(this.tree[0])}get text(){return ye(this.tree,this.startIndex,this.endIndex)}isNamed(){return xe(this),1===Yt._ts_node_is_named_wasm(this.tree[0])}hasError(){return xe(this),1===Yt._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return xe(this),1===Yt._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return xe(this),1===Yt._ts_node_is_missing_wasm(this.tree[0])}equals(t){if(this===t)return!0;for(let e=0;e<5;e++)if(this[e]!==t[e])return!1;return!0}child(t){return xe(this),Yt._ts_node_child_wasm(this.tree[0],t),Ee(this.tree)}namedChild(t){return xe(this),Yt._ts_node_named_child_wasm(this.tree[0],t),Ee(this.tree)}childForFieldId(t){return xe(this),Yt._ts_node_child_by_field_id_wasm(this.tree[0],t),Ee(this.tree)}childForFieldName(t){const e=this.tree.language.fields.indexOf(t);if(-1!==e)return this.childForFieldId(e)}get childCount(){return xe(this),Yt._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return xe(this),Yt._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){xe(this),Yt._ts_node_children_wasm(this.tree[0]);const t=A(ce,"i32"),e=A(ce+Jt,"i32");if(this._children=new Array(t),t>0){let n=e;for(let e=0;e<t;e++)this._children[e]=Ee(this.tree,n),n+=Xt;Yt._free(e)}}return this._children}get namedChildren(){if(!this._namedChildren){xe(this),Yt._ts_node_named_children_wasm(this.tree[0]);const t=A(ce,"i32"),e=A(ce+Jt,"i32");if(this._namedChildren=new Array(t),t>0){let n=e;for(let e=0;e<t;e++)this._namedChildren[e]=Ee(this.tree,n),n+=Xt;Yt._free(e)}}return this._namedChildren}descendantsOfType(t,e,n){Array.isArray(t)||(t=[t]),e||(e=ee),n||(n=ee);const r=[],i=this.tree.language.types;for(let e=0,n=i.length;e<n;e++)t.includes(i[e])&&r.push(e);const o=Yt._malloc(Jt*r.count);for(let t=0,e=r.length;t<e;t++)M(o+t*Jt,r[t],"i32");xe(this),Yt._ts_node_descendants_of_type_wasm(this.tree[0],o,r.length,e.row,e.column,n.row,n.column);const s=A(ce,"i32"),u=A(ce+Jt,"i32"),c=new Array(s);if(s>0){let t=u;for(let e=0;e<s;e++)c[e]=Ee(this.tree,t),t+=Xt}return Yt._free(u),Yt._free(o),c}get nextSibling(){return xe(this),Yt._ts_node_next_sibling_wasm(this.tree[0]),Ee(this.tree)}get previousSibling(){return xe(this),Yt._ts_node_prev_sibling_wasm(this.tree[0]),Ee(this.tree)}get nextNamedSibling(){return xe(this),Yt._ts_node_next_named_sibling_wasm(this.tree[0]),Ee(this.tree)}get previousNamedSibling(){return xe(this),Yt._ts_node_prev_named_sibling_wasm(this.tree[0]),Ee(this.tree)}get parent(){return xe(this),Yt._ts_node_parent_wasm(this.tree[0]),Ee(this.tree)}descendantForIndex(t,e=t){if("number"!=typeof t||"number"!=typeof e)throw new Error("Arguments must be numbers");xe(this);let n=ce+Xt;return M(n,t,"i32"),M(n+Jt,e,"i32"),Yt._ts_node_descendant_for_index_wasm(this.tree[0]),Ee(this.tree)}namedDescendantForIndex(t,e=t){if("number"!=typeof t||"number"!=typeof e)throw new Error("Arguments must be numbers");xe(this);let n=ce+Xt;return M(n,t,"i32"),M(n+Jt,e,"i32"),Yt._ts_node_named_descendant_for_index_wasm(this.tree[0]),Ee(this.tree)}descendantForPosition(t,e=t){if(!we(t)||!we(e))throw new Error("Arguments must be {row, column} objects");xe(this);let n=ce+Xt;return Te(n,t),Te(n+Qt,e),Yt._ts_node_descendant_for_position_wasm(this.tree[0]),Ee(this.tree)}namedDescendantForPosition(t,e=t){if(!we(t)||!we(e))throw new Error("Arguments must be {row, column} objects");xe(this);let n=ce+Xt;return Te(n,t),Te(n+Qt,e),Yt._ts_node_named_descendant_for_position_wasm(this.tree[0]),Ee(this.tree)}walk(){return xe(this),Yt._ts_tree_cursor_new_wasm(this.tree[0]),new _e(Zt,this.tree)}toString(){xe(this);const t=Yt._ts_node_to_string_wasm(this.tree[0]),e=function(t){for(var e="";;){var n=H[t++>>0];if(!n)return e;e+=String.fromCharCode(n)}}(t);return Yt._free(t),e}}class _e{constructor(t,e){be(t),this.tree=e,Ce(this)}delete(){Se(this),Yt._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(t){xe(t),Se(this,ce+Xt),Yt._ts_tree_cursor_reset_wasm(this.tree[0]),Ce(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return Se(this),Yt._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return Se(this),Yt._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return Se(this),1===Yt._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return Se(this),1===Yt._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){Se(this);const t=Yt._ts_tree_cursor_start_index_wasm(this.tree[0]),e=Yt._ts_tree_cursor_end_index_wasm(this.tree[0]);return ye(this.tree,t,e)}get startPosition(){return Se(this),Yt._ts_tree_cursor_start_position_wasm(this.tree[0]),Re(ce)}get endPosition(){return Se(this),Yt._ts_tree_cursor_end_position_wasm(this.tree[0]),Re(ce)}get startIndex(){return Se(this),Yt._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return Se(this),Yt._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return Se(this),Yt._ts_tree_cursor_current_node_wasm(this.tree[0]),Ee(this.tree)}currentFieldId(){return Se(this),Yt._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){Se(this);const t=Yt._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return Ce(this),1===t}gotoNextSibling(){Se(this);const t=Yt._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return Ce(this),1===t}gotoParent(){Se(this);const t=Yt._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return Ce(this),1===t}}class me{constructor(t,e){be(t),this[0]=e,this.types=new Array(Yt._ts_language_symbol_count(this[0]));for(let t=0,e=this.types.length;t<e;t++)Yt._ts_language_symbol_type(this[0],t)<2&&(this.types[t]=J(Yt._ts_language_symbol_name(this[0],t)));this.fields=new Array(Yt._ts_language_field_count(this[0])+1);for(let t=0,e=this.fields.length;t<e;t++){const e=Yt._ts_language_field_name_for_id(this[0],t);this.fields[t]=0!==e?J(e):null}}get version(){return Yt._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(t){const e=this.fields.indexOf(t);return-1!==e?e:null}fieldNameForId(t){return this.fields[t]||null}query(t){const e=function(t){for(var e=0,n=0;n<t.length;++n){var r=t.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&t.charCodeAt(++n)),r<=127?++e:e+=r<=2047?2:r<=65535?3:4}return e}(t),n=Yt._malloc(e+1);!function(t,e,n,r){if(!(r>0))return 0;for(var i=n+r-1,o=0;o<t.length;++o){var s=t.charCodeAt(o);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&t.charCodeAt(++o)),s<=127){if(n>=i)break;e[n++]=s}else if(s<=2047){if(n+1>=i)break;e[n++]=192|s>>6,e[n++]=128|63&s}else if(s<=65535){if(n+2>=i)break;e[n++]=224|s>>12,e[n++]=128|s>>6&63,e[n++]=128|63&s}else{if(n+3>=i)break;e[n++]=240|s>>18,e[n++]=128|s>>12&63,e[n++]=128|s>>6&63,e[n++]=128|63&s}}e[n]=0}(t,H,n,e+1);const r=Yt._ts_query_new(this[0],n,e,ce,ce+Jt);if(!r){const e=A(ce+Jt,"i32"),r=J(n,A(ce,"i32")).length,i=t.substr(r,100).split("\n")[0];let o,s=i.match(ne)[0];switch(e){case 2:o=new RangeError(`Bad node name '${s}'`);break;case 3:o=new RangeError(`Bad field name '${s}'`);break;case 4:o=new RangeError(`Bad capture name @${s}`);break;case 5:o=new TypeError(`Bad pattern structure at offset ${r}: '${i}'...`),s="";break;default:o=new SyntaxError(`Bad syntax at offset ${r}: '${i}'...`),s=""}throw o.index=r,o.length=s.length,Yt._free(n),o}const i=Yt._ts_query_string_count(r),o=Yt._ts_query_capture_count(r),s=Yt._ts_query_pattern_count(r),u=new Array(o),c=new Array(i);for(let t=0;t<o;t++){const e=Yt._ts_query_capture_name_for_id(r,t,ce),n=A(ce,"i32");u[t]=J(e,n)}for(let t=0;t<i;t++){const e=Yt._ts_query_string_value_for_id(r,t,ce),n=A(ce,"i32");c[t]=J(e,n)}const a=new Array(s),l=new Array(s),f=new Array(s),h=new Array(s),d=new Array(s);for(let t=0;t<s;t++){const e=Yt._ts_query_predicates_for_pattern(r,t,ce),n=A(ce,"i32");h[t]=[],d[t]=[];const i=[];let o=e;for(let e=0;e<n;e++){const e=A(o,"i32"),n=A(o+=Jt,"i32");if(o+=Jt,e===re)i.push({type:"capture",name:u[n]});else if(e===ie)i.push({type:"string",value:c[n]});else if(i.length>0){if("string"!==i[0].type)throw new Error("Predicates must begin with a literal value");const e=i[0].value;let n=!0;switch(e){case"not-eq?":n=!1;case"eq?":if(3!==i.length)throw new Error(`Wrong number of arguments to \`#eq?\` predicate. Expected 2, got ${i.length-1}`);if("capture"!==i[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${i[1].value}"`);if("capture"===i[2].type){const e=i[1].name,r=i[2].name;d[t].push(function(t){let i,o;for(const n of t)n.name===e&&(i=n.node),n.name===r&&(o=n.node);return i.text===o.text===n})}else{const e=i[1].name,r=i[2].value;d[t].push(function(t){for(const i of t)if(i.name===e)return i.node.text===r===n;return!1})}break;case"not-match?":n=!1;case"match?":if(3!==i.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${i.length-1}.`);if("capture"!==i[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${i[1].value}".`);if("string"!==i[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${i[2].value}.`);const r=i[1].name,o=new RegExp(i[2].value);d[t].push(function(t){for(const e of t)if(e.name===r)return o.test(e.node.text)===n;return!1});break;case"set!":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some(t=>"string"!==t.type))throw new Error('Arguments to `#set!` predicate must be a strings.".');a[t]||(a[t]={}),a[t][i[1].value]=i[2]?i[2].value:null;break;case"is?":case"is-not?":if(i.length<2||i.length>3)throw new Error(`Wrong number of arguments to \`#${e}\` predicate. Expected 1 or 2. Got ${i.length-1}.`);if(i.some(t=>"string"!==t.type))throw new Error(`Arguments to \`#${e}\` predicate must be a strings.".`);const s="is?"===e?l:f;s[t]||(s[t]={}),s[t][i[1].value]=i[2]?i[2].value:null;break;default:h[t].push({operator:e,operands:i.slice(1)})}i.length=0}}Object.freeze(a[t]),Object.freeze(l[t]),Object.freeze(f[t])}return Yt._free(n),new ge(Zt,r,u,d,h,Object.freeze(a),Object.freeze(l),Object.freeze(f))}static load(t){let e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const r=n(35);e=Promise.resolve(r.readFileSync(t))}else e=fetch(t).then(t=>t.arrayBuffer().then(e=>{if(t.ok)return new Uint8Array(e);{const n=new TextDecoder("utf-8").decode(e);throw new Error(`Language.load failed with status ${t.status}.\n\n${n}`)}}));return e.then(t=>C(t,{loadAsync:!0})).then(t=>{const e=Object.keys(t),n=e.find(t=>oe.test(t)&&!t.includes("external_scanner_"));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(e,null,2)}`);const r=t[n]();return new me(Zt,r)})}}class ge{constructor(t,e,n,r,i,o,s,u){be(t),this[0]=e,this.captureNames=n,this.textPredicates=r,this.predicates=i,this.setProperties=o,this.assertedProperties=s,this.refutedProperties=u}delete(){Yt._ts_query_delete(this[0]),this[0]=0}matches(t,e,n){e||(e=ee),n||(n=ee),xe(t),Yt._ts_query_matches_wasm(this[0],t.tree[0],e.row,e.column,n.row,n.column);const r=A(ce,"i32"),i=A(ce+Jt,"i32"),o=new Array(r);let s=i;for(let e=0;e<r;e++){const n=A(s,"i32"),r=A(s+=Jt,"i32");s+=Jt;const i=new Array(r);if(s=ve(this,t.tree,s,i),this.textPredicates[n].every(t=>t(i))){o[e]={pattern:n,captures:i};const t=this.setProperties[n];t&&(o[e].setProperties=t);const r=this.assertedProperties[n];r&&(o[e].assertedProperties=r);const s=this.refutedProperties[n];s&&(o[e].refutedProperties=s)}}return Yt._free(i),o}captures(t,e,n){e||(e=ee),n||(n=ee),xe(t),Yt._ts_query_captures_wasm(this[0],t.tree[0],e.row,e.column,n.row,n.column);const r=A(ce,"i32"),i=A(ce+Jt,"i32"),o=[],s=[];let u=i;for(let e=0;e<r;e++){const e=A(u,"i32"),n=A(u+=Jt,"i32"),r=A(u+=Jt,"i32");if(u+=Jt,s.length=n,u=ve(this,t.tree,u,s),this.textPredicates[e].every(t=>t(s))){const t=s[r],n=this.setProperties[e];n&&(t.setProperties=n);const i=this.assertedProperties[e];i&&(t.assertedProperties=i);const u=this.refutedProperties[e];u&&(t.refutedProperties=u),o.push(t)}}return Yt._free(i),o}predicatesForPattern(t){return this.predicates[t]}}function ye(t,e,n){const r=n-e;let i=t.textCallback(e,null,n);for(e+=i.length;e<n;){const r=t.textCallback(e,null,n);if(!(r&&r.length>0))break;e+=r.length,i+=r}return e>n&&(i=i.slice(0,r)),i}function ve(t,e,n,r){for(let i=0,o=r.length;i<o;i++){const o=A(n,"i32"),s=Ee(e,n+=Jt);n+=Xt,r[i]={name:t.captureNames[o],node:s}}return n}function be(t){if(t!==Zt)throw new Error("Illegal constructor")}function we(t){return t&&"number"==typeof t.row&&"number"==typeof t.column}function xe(t){let e=ce;M(e,t.id,"i32"),M(e+=Jt,t.startIndex,"i32"),M(e+=Jt,t.startPosition.row,"i32"),M(e+=Jt,t.startPosition.column,"i32"),M(e+=Jt,t[0],"i32")}function Ee(t,e=ce){const n=A(e,"i32");if(0===n)return null;const r=A(e+=Jt,"i32"),i=A(e+=Jt,"i32"),o=A(e+=Jt,"i32"),s=A(e+=Jt,"i32"),u=new pe(Zt,t);return u.id=n,u.startIndex=r,u.startPosition={row:i,column:o},u[0]=s,u}function Se(t,e=ce){M(e+0*Jt,t[0],"i32"),M(e+1*Jt,t[1],"i32"),M(e+2*Jt,t[2],"i32")}function Ce(t){t[0]=A(ce+0*Jt,"i32"),t[1]=A(ce+1*Jt,"i32"),t[2]=A(ce+2*Jt,"i32")}function Te(t,e){M(t,e.row,"i32"),M(t+Jt,e.column,"i32")}function Re(t){return{row:A(t,"i32"),column:A(t+Jt,"i32")}}function Oe(t,e){Te(t,e.startPosition),Te(t+=Qt,e.endPosition),M(t+=Qt,e.startIndex,"i32"),M(t+=Jt,e.endIndex,"i32"),t+=Jt}function Ne(t){const e={};return e.startPosition=Re(t),t+=Qt,e.endPosition=Re(t),t+=Qt,e.startIndex=A(t,"i32"),t+=Jt,e.endIndex=A(t,"i32"),e}return he.Language=me,he})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(21)),s=n(124),u=i(n(125)),c=i(n(127)),a=i(n(132)),l=i(n(147)),f=i(n(148)),h=n(68),d=n(149),p=n(60),_=i(n(166)),m=n(86);e.Server=class{constructor(t,e){this.connection=t,this.calculator=new s.CapabilityCalculator(e.capabilities),h.documents.listen(t),d.linter.subscribe({next:e=>{t.sendDiagnostics({uri:e.document.uri,diagnostics:e.diagnostics})}}),p.documentConfigurationCache.fetcher=t=>r(this,void 0,void 0,function*(){const e=t.map(t=>({scopeUri:t,section:"ruby"}));return this.connection.workspace.getConfiguration(e)})}get capabilities(){return{capabilities:this.calculator.capabilities}}initialize(){this.registerInitializeProviders()}setup(){this.registerInitializedProviders(),this.loadGlobalConfig()}shutdown(){m.forest.release()}registerInitializeProviders(){u.default.register(this.connection),c.default.register(this.connection),f.default.register(this.connection),_.default.register(this.connection)}registerInitializedProviders(){l.default.register(this.connection),this.calculator.supportsWorkspaceConfiguration&&a.default.register(this.connection,()=>{this.loadGlobalConfig()})}loadGlobalConfig(){return r(this,void 0,void 0,function*(){const t=yield this.connection.workspace.getConfiguration("ruby");try{const{logLevel:e="info"}=t.languageServer;o.default.setLevel(e)}catch(t){o.default.error(t)}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(24);e.CapabilityCalculator=class{constructor(t){this.clientCapabilities=t,this.calculateCapabilities()}get supportsWorkspaceFolders(){return this.clientCapabilities.workspace&&!!this.clientCapabilities.workspace.workspaceFolders}get supportsWorkspaceConfiguration(){return this.clientCapabilities.workspace&&!!this.clientCapabilities.workspace.configuration}calculateCapabilities(){this.capabilities={textDocumentSync:r.TextDocumentSyncKind.Full,documentFormattingProvider:!0,documentRangeFormattingProvider:!0,documentHighlightProvider:!0,documentSymbolProvider:!0,foldingRangeProvider:!0},this.clientCapabilities.workspace&&this.clientCapabilities.workspace.workspaceFolders&&(this.capabilities.workspace={workspaceFolders:{supported:!0,changeNotifications:!0}})}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(66)),s=i(n(47)),u=i(n(126));class c extends s.default{constructor(t){super(t),this.handleDocumentHighlight=t=>r(this,void 0,void 0,function*(){const e=o.default.fromVSPosition(t.position),{textDocument:{uri:n}}=t;return u.default.analyze(n,e)}),this.connection.onDocumentHighlight(this.handleDocumentHighlight)}static register(t){return new c(t)}}e.default=c},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(24),s=i(n(66)),u=n(86);class c{static analyze(t,e){return r(this,void 0,void 0,function*(){const n=u.forest.getTree(t);return this.computeHighlights(n,e)})}static computeHighlights(t,e){const n=t.rootNode.descendantForPosition(e.toTSPosition());let r=[];return"end"===n.type&&(r=r.concat(this.computeEndHighlight(n))),!n.isNamed&&this.BEGIN_TYPES.has(n.type)&&(r=r.concat(this.computeBeginHighlight(n))),r}static computeBeginHighlight(t){const e=t.parent.lastChild;return[o.DocumentHighlight.create(o.Range.create(s.default.fromTSPosition(t.startPosition).toVSPosition(),s.default.fromTSPosition(t.endPosition).toVSPosition()),o.DocumentHighlightKind.Text),o.DocumentHighlight.create(o.Range.create(s.default.fromTSPosition(e.startPosition).toVSPosition(),s.default.fromTSPosition(e.endPosition).toVSPosition()),o.DocumentHighlightKind.Text)]}static computeEndHighlight(t){const e=t.parent.firstChild;return[o.DocumentHighlight.create(o.Range.create(s.default.fromTSPosition(e.startPosition).toVSPosition(),s.default.fromTSPosition(e.endPosition).toVSPosition()),o.DocumentHighlightKind.Text),o.DocumentHighlight.create(o.Range.create(s.default.fromTSPosition(t.startPosition).toVSPosition(),s.default.fromTSPosition(t.endPosition).toVSPosition()),o.DocumentHighlightKind.Text)]}}e.default=c,c.BEGIN_TYPES=new Set(["begin","def","if","case","unless","do","class","module"])},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(24),s=i(n(47)),u=n(91);class c extends s.default{constructor(t){super(t),this.handleFoldingRange=t=>r(this,void 0,void 0,function*(){const{textDocument:{uri:e}}=t;return u.analyses.getAnalysis(e).foldingRanges}),this.connection.onRequest(o.FoldingRangeRequest.type,this.handleFoldingRange)}static register(t){return new c(t)}}e.default=c},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});const o=r(n(92)),s=n(129),u=i(n(93));e.default=class extends o.default{constructor(){super(),this.symbolStack=new s.Stack,this.nodeStack=new s.Stack}get symbols(){return this.diagnostics}analyze(t){const e=u.default.build(t);if(e)if(this.nodeStack.empty())this.diagnostics=this.diagnostics.concat(e);else{const t=this.symbolStack.peek();t.children=t.children.concat(e)}u.isWrapper(t)&&e&&!Array.isArray(e)?(this.symbolStack.push(e),this.nodeStack.push(t)):!this.nodeStack.empty()&&s.Position.tsPositionIsEqual(this.nodeStack.peek().endPosition,t.endPosition)&&(this.nodeStack.pop(),this.symbolStack.pop())}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(66);e.Position=r.default;var i=n(93);e.RubyDocumentSymbol=i.default;var o=n(130);e.Stack=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.stack=[]}get size(){return this.stack.length}push(t){this.stack.push(t)}pop(){return this.stack.pop()}peek(){return this.stack[this.size-1]}empty(){return 0===this.size}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(24),o=r(n(92));class s{constructor(t={}){this.defaultHeuristic={row:0,column:0},this.heuristic=t}get start(){return Object.assign(Object.assign({},this.defaultHeuristic),this.heuristic.start)}get end(){return Object.assign(Object.assign({},this.defaultHeuristic),this.heuristic.end)}}e.default=class extends o.default{constructor(){super(...arguments),this.FOLD_NODES=new Map([["array",new s({end:{row:-1}})],["block",new s],["case",new s({end:{row:-1}})],["class",new s({end:{row:-1}})],["comment",new s],["begin",new s({end:{row:-1}})],["do_block",new s],["hash",new s({end:{row:-1}})],["heredoc_body",new s({start:{row:-1},end:{row:-1}})],["then",new s],["else",new s],["method",new s({end:{row:-1}})],["module",new s({end:{row:-1}})],["singleton_method",new s({end:{row:-1}})]])}get foldingRanges(){return this.diagnostics}analyze(t){if(this.FOLD_NODES.has(t.type)){const e=this.FOLD_NODES.get(t.type);if(this.determineImplicitBlock(t,this.lastNodeAnalyzed)&&this.diagnostics.length>0){const e=this.diagnostics[this.diagnostics.length-1];e.endLine=t.endPosition.row,e.endCharacter=t.endPosition.column}else this.diagnostics.push({startLine:t.startPosition.row+e.start.row,startCharacter:t.startPosition.column+e.start.column,endLine:t.endPosition.row+e.end.row,endCharacter:t.endPosition.column+e.end.column,kind:this.getFoldKind(t.type)});this.lastNodeAnalyzed=t}}getFoldKind(t){switch(t){case"comment":return i.FoldingRangeKind.Comment;case"require":return i.FoldingRangeKind.Imports;default:return i.FoldingRangeKind.Region}}determineImplicitBlock(t,e){return"comment"===t.type&&"#"===t.text[0]&&e&&"comment"===e.type&&"#"===e.text[0]}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(24),s=i(n(47)),u=n(60);class c extends s.default{constructor(t,e){super(t),this.handleDidChangeConfiguration=t=>r(this,void 0,void 0,function*(){u.documentConfigurationCache.flush(),this.configChangeCallback()}),this.configChangeCallback=e||(()=>{}),this.connection.client.register(o.DidChangeConfigurationNotification.type,void 0),this.connection.onDidChangeConfiguration(this.handleDidChangeConfiguration)}static register(t,e){return new c(t,e)}}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(134);e.loadEnv=r.loadEnv},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(135)),o=r(n(35)),s=r(n(15)),u=s.default.resolve(__dirname,"shims");function c(){return"win32"===process.platform}function a(){return c()?process.env.COMSPEC||"cmd.exe":process.env.SHELL?process.env.SHELL:"darwin"===process.platform?"/bin/bash":"/bin/sh"}function l(t,e){const n=function(t){let e;return e=c()?"SET":t.indexOf("fish")>=0?`#!${t}\nfor name in (set -nx)\n\tif string match --quiet '*PATH' $name\n\t\techo $name=(string join : -- $$name)\n\telse\n\t\techo $name="$$name"\n\tend\nend`:`#!${t} -i\nexport`}(t);let r=!1;try{o.default.writeFileSync(e,n),o.default.chmodSync(e,484),r=!0}catch(t){console.error(t)}return r}function f(t,e){let n=function(t){return(c()?s.default.basename(t):t).replace(/[\/\\]/g,".")}(t);"."===n[0]&&(n=n.slice(1));const r=s.default.join(e,`env.${n}.${function(t){let e="sh";return t.indexOf("fish")>=0?e="fish":c()&&(e="cmd"),e}(n)}`);return o.default.existsSync(e)||o.default.mkdirSync(e),o.default.existsSync(r)||l(t,r),r}function h(t){const e=[],n=t.match(/^(?:[\w-]*\s+)*([\w.-]+)\s*=\s*(.*)?\s*$/);if(null!=n){const t=n[1];let r=n[2]||"";const i=r?r.length:0;i>0&&'"'===r.charAt(0)&&'"'===r.charAt(i-1)&&(r=r.replace(/\\n/gm,"\n")),r=r.replace(/(^['"]|['"]$)/g,"").trim(),e.push(t,r)}return e}const d=["PATH","Path","PATHEXT","RUBY_VERSION","RUBY_ROOT","RUBY_ENGINE","RUBYOPT","GEM_HOME","GEM_PATH","GEM_ROOT","HOME","RUBOCOP_OPTS","LANG","BUNDLE_PATH","RBENV_ROOT","ASDF_DATA_DIR","ASDF_CONFIG_FILE","ASDF_DEFAULT_TOOL_VERSIONS_FILENAME"];e.loadEnv=function(t,e={}){const{shell:n=a(),shimDir:r=u}=e,o=f(n,r),{stdout:s,stderr:c,status:l}=i.default.sync(o,[],{cwd:t});return 0!==l&&console.error(c.toString()),function(t){const e={};for(const n of t.split("\n")){const t=h(n),r=t[0];d.indexOf(r)>=0&&(e[r]=t[1])}return e}(s.toString())}},function(t,e,n){"use strict";const r=n(65),i=n(136),o=n(146);function s(t,e,n){const s=i(t,e,n),u=r.spawn(s.command,s.args,s.options);return o.hookChildProcess(u,s),u}t.exports=s,t.exports.spawn=s,t.exports.sync=function(t,e,n){const s=i(t,e,n),u=r.spawnSync(s.command,s.args,s.options);return u.error=u.error||o.verifyENOENTSync(u.status,s),u},t.exports._parse=i,t.exports._enoent=o},function(t,e,n){"use strict";const r=n(15),i=n(137),o=n(142),s=n(143),u="win32"===process.platform,c=/\.(?:com|exe)$/i,a=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function l(t){if(!u)return t;const e=function(t){t.file=i(t);const e=t.file&&s(t.file);return e?(t.args.unshift(t.file),t.command=e,i(t)):t.file}(t),n=!c.test(e);if(t.options.forceShell||n){const n=a.test(e);t.command=r.normalize(t.command),t.command=o.command(t.command),t.args=t.args.map(t=>o.argument(t,n));const i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}t.exports=function(t,e,n){e&&!Array.isArray(e)&&(n=e,e=null);const r={command:t,args:e=e?e.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:t,args:e}};return n.shell?r:l(r)}},function(t,e,n){"use strict";const r=n(15),i=n(138),o=n(141)();function s(t,e){const n=process.cwd(),s=null!=t.options.cwd,u=s&&void 0!==process.chdir;if(u)try{process.chdir(t.options.cwd)}catch(t){}let c;try{c=i.sync(t.command,{path:(t.options.env||process.env)[o],pathExt:e?r.delimiter:void 0})}catch(t){}finally{u&&process.chdir(n)}return c&&(c=r.resolve(s?t.options.cwd:"",c)),c}t.exports=function(t){return s(t)||s(t,!0)}},function(t,e,n){const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(15),o=r?";":":",s=n(94),u=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),c=(t,e)=>{const n=e.colon||o,i=t.match(/\//)||r&&t.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(n)],s=r?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=r?s.split(n):[""];return r&&-1!==t.indexOf(".")&&""!==u[0]&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},a=(t,e,n)=>{"function"==typeof e&&(n=e,e={}),e||(e={});const{pathEnv:r,pathExt:o,pathExtExe:a}=c(t,e),l=[],f=n=>new Promise((o,s)=>{if(n===r.length)return e.all&&l.length?o(l):s(u(t));const c=r[n],a=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(a,t),d=!a&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;o(h(d,n,0))}),h=(t,n,r)=>new Promise((i,u)=>{if(r===o.length)return i(f(n+1));const c=o[r];s(t+c,{pathExt:a},(o,s)=>{if(!o&&s){if(!e.all)return i(t+c);l.push(t+c)}return i(h(t,n,r+1))})});return n?f(0).then(t=>n(null,t),n):f(0)};t.exports=a,a.sync=(t,e)=>{e=e||{};const{pathEnv:n,pathExt:r,pathExtExe:o}=c(t,e),a=[];for(let u=0;u<n.length;u++){const c=n[u],l=/^".*"$/.test(c)?c.slice(1,-1):c,f=i.join(l,t),h=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;for(let t=0;t<r.length;t++){const n=h+r[t];try{if(s.sync(n,{pathExt:o})){if(!e.all)return n;a.push(n)}}catch(t){}}}if(e.all&&a.length)return a;if(e.nothrow)return null;throw u(t)}},function(t,e,n){t.exports=o,o.sync=function(t,e){return i(r.statSync(t),t,e)};var r=n(35);function i(t,e,n){return!(!t.isSymbolicLink()&&!t.isFile())&&function(t,e){var n=void 0!==e.pathExt?e.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}(e,n)}function o(t,e,n){r.stat(t,function(r,o){n(r,!r&&i(o,t,e))})}},function(t,e,n){t.exports=i,i.sync=function(t,e){return o(r.statSync(t),e)};var r=n(35);function i(t,e,n){r.stat(t,function(t,r){n(t,!t&&o(r,e))})}function o(t,e){return t.isFile()&&function(t,e){var n=t.mode,r=t.uid,i=t.gid,o=void 0!==e.uid?e.uid:process.getuid&&process.getuid(),s=void 0!==e.gid?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),c=parseInt("010",8),a=parseInt("001",8),l=u|c;return n&a||n&c&&i===s||n&u&&r===o||n&l&&0===o}(t,e)}},function(t,e,n){"use strict";const r=(t={})=>{const e=t.env||process.env;return"win32"!==(t.platform||process.platform)?"PATH":Object.keys(e).reverse().find(t=>"PATH"===t.toUpperCase())||"Path"};t.exports=r,t.exports.default=r},function(t,e,n){"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;t.exports.command=function(t){return t=t.replace(r,"^$1")},t.exports.argument=function(t,e){return t=(t=`"${t=(t=(t=`${t}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(r,"^$1"),e&&(t=t.replace(r,"^$1")),t}},function(t,e,n){"use strict";const r=n(35),i=n(144);t.exports=function(t){const e=Buffer.alloc(150);let n;try{n=r.openSync(t,"r"),r.readSync(n,e,0,150,0),r.closeSync(n)}catch(t){}return i(e.toString())}},function(t,e,n){"use strict";const r=n(145);t.exports=(t="")=>{const e=t.match(r);if(!e)return null;const[n,i]=e[0].replace(/#! ?/,"").split(" "),o=n.split("/").pop();return"env"===o?i:i?`${o} ${i}`:o}},function(t,e,n){"use strict";t.exports=/^#!(.*)/},function(t,e,n){"use strict";const r="win32"===process.platform;function i(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function o(t,e){return r&&1===t&&!e.file?i(e.original,"spawn"):null}t.exports={hookChildProcess:function(t,e){if(!r)return;const n=t.emit;t.emit=function(r,i){if("exit"===r){const r=o(i,e);if(r)return n.call(t,"error",r)}return n.apply(t,arguments)}},verifyENOENT:o,verifyENOENTSync:function(t,e){return r&&1===t&&!e.file?i(e.original,"spawnSync"):null},notFoundError:i}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(47)),s=i(n(21)),u=n(60);class c extends o.default{constructor(t){super(t),this.handleWorkspaceFoldersChange=t=>r(this,void 0,void 0,function*(){const e=u.workspaceRubyEnvironmentCache.getAll(t.added),n=u.workspaceRubyEnvironmentCache.deleteAll(t.removed);yield Promise.all([e,n])}),this.handleDidChangeWatchedFiles=t=>r(this,void 0,void 0,function*(){s.default.info("Watched file change!"),s.default.info(t)}),this.connection.workspace.onDidChangeWorkspaceFolders(this.handleWorkspaceFoldersChange),this.connection.onDidChangeWatchedFiles(this.handleDidChangeWatchedFiles)}static register(t){return new c(t)}}e.default=c},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(47)),s=n(91);class u extends o.default{constructor(t){super(t),this.handleDocumentSymbol=t=>r(this,void 0,void 0,function*(){const{textDocument:{uri:e}}=t;return s.analyses.getAnalysis(e).documentSymbols}),this.connection.onDocumentSymbol(this.handleDocumentSymbol)}static register(t){return new u(t)}}e.default=u},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(15)),o=n(36),s=n(37),u=n(42),c=n(60),a=n(150),l=n(68),f={rubocop:a.RuboCop,reek:a.Reek,standard:a.Standard};function h(t){return s.from(c.documentConfigurationCache.get(t)).pipe(u.mergeMap(t=>s.from(c.workspaceRubyEnvironmentCache.get(t.workspaceFolderUri)).pipe(u.map(e=>({config:t,env:e})))),u.mergeMap(({config:e,env:n})=>{const r=Object.keys(e.lint).filter(t=>!1!==e.lint[t]).map(r=>(function(t,e,n,r){if(!r.workspaceFolderUri)return new a.NullLinter(`unable to lint ${e.uri} with ${t} as its workspace root folder could not be determined`);const s=f[t];if(!s)return new a.NullLinter(`attempted to lint with unsupported linter: ${t}`);const u="object"==typeof r.lint[t]?r.lint[t]:{};return new s(e,{env:n,executionRoot:i.default.dirname(o.URI.parse(e.uri).fsPath),config:u})})(r,t,n,e).lint());return s.forkJoin(r).pipe(u.map(e=>({document:t,diagnostics:[].concat(...e)})))}))}e.linter=l.documents.subject.pipe(u.switchMap(t=>s.iif(()=>t.kind===l.DocumentEventKind.OPEN||t.kind===l.DocumentEventKind.CHANGE_CONTENT,h(t.document),s.of({document:t.document,diagnostics:[]}))))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(151);e.NullLinter=r.default;var i=n(95);e.RuboCop=i.default;var o=n(164);e.Reek=o.default;var s=n(165);e.Standard=s.default},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(37),o=r(n(21));e.default=class{constructor(t){this.msg=t}lint(){return o.default.warn(`Lint: ${this.msg}`),i.of([])}}},function(t,e,n){"use strict";const r=n(65),i=n(153),o=n(163);function s(t,e,n){const s=i(t,e,n),u=r.spawn(s.command,s.args,s.options);return o.hookChildProcess(u,s),u}t.exports=s,t.exports.spawn=s,t.exports.sync=function(t,e,n){const s=i(t,e,n),u=r.spawnSync(s.command,s.args,s.options);return u.error=u.error||o.verifyENOENTSync(u.status,s),u},t.exports._parse=i,t.exports._enoent=o},function(t,e,n){"use strict";const r=n(15),i=n(154),o=n(155),s=n(158),u=n(159),c=n(162),a="win32"===process.platform,l=/\.(?:com|exe)$/i,f=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i,h=i(()=>c.satisfies(process.version,"^4.8.0 || ^5.7.0 || >= 6.0.0",!0))||!1;function d(t){if(!a)return t;const e=function(t){t.file=o(t);const e=t.file&&u(t.file);return e?(t.args.unshift(t.file),t.command=e,o(t)):t.file}(t),n=!l.test(e);if(t.options.forceShell||n){const n=f.test(e);t.command=r.normalize(t.command),t.command=s.command(t.command),t.args=t.args.map(t=>s.argument(t,n));const i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}t.exports=function(t,e,n){e&&!Array.isArray(e)&&(n=e,e=null);const r={command:t,args:e=e?e.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:t,args:e}};return n.shell?function(t){if(h)return t;const e=[t.command].concat(t.args).join(" ");return a?(t.command="string"==typeof t.options.shell?t.options.shell:process.env.comspec||"cmd.exe",t.args=["/d","/s","/c",`"${e}"`],t.options.windowsVerbatimArguments=!0):("string"==typeof t.options.shell?t.command=t.options.shell:"android"===process.platform?t.command="/system/bin/sh":t.command="/bin/sh",t.args=["-c",e]),t}(r):d(r)}},function(t,e,n){"use strict";t.exports=function(t){try{return t()}catch(t){}}},function(t,e,n){"use strict";const r=n(15),i=n(156),o=n(157)();function s(t,e){const n=process.cwd(),s=null!=t.options.cwd;if(s)try{process.chdir(t.options.cwd)}catch(t){}let u;try{u=i.sync(t.command,{path:(t.options.env||process.env)[o],pathExt:e?r.delimiter:void 0})}catch(t){}finally{process.chdir(n)}return u&&(u=r.resolve(s?t.options.cwd:"",u)),u}t.exports=function(t){return s(t)||s(t,!0)}},function(t,e,n){t.exports=a,a.sync=function(t,e){for(var n=c(t,e=e||{}),r=n.env,o=n.ext,a=n.extExe,l=[],f=0,h=r.length;f<h;f++){var d=r[f];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var p=i.join(d,t);!d&&/^\.[\\\/]/.test(t)&&(p=t.slice(0,2)+p);for(var _=0,m=o.length;_<m;_++){var g=p+o[_];try{if(s.sync(g,{pathExt:a})){if(!e.all)return g;l.push(g)}}catch(t){}}}if(e.all&&l.length)return l;if(e.nothrow)return null;throw u(t)};var r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,i=n(15),o=r?";":":",s=n(94);function u(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function c(t,e){var n=e.colon||o,i=e.path||process.env.PATH||"",s=[""];i=i.split(n);var u="";return r&&(i.unshift(process.cwd()),s=(u=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM").split(n),-1!==t.indexOf(".")&&""!==s[0]&&s.unshift("")),(t.match(/\//)||r&&t.match(/\\/))&&(i=[""]),{env:i,ext:s,extExe:u}}function a(t,e,n){"function"==typeof e&&(n=e,e={});var r=c(t,e),o=r.env,a=r.ext,l=r.extExe,f=[];!function r(c,h){if(c===h)return e.all&&f.length?n(null,f):n(u(t));var d=o[c];'"'===d.charAt(0)&&'"'===d.slice(-1)&&(d=d.slice(1,-1));var p=i.join(d,t);!d&&/^\.[\\\/]/.test(t)&&(p=t.slice(0,2)+p),function t(i,o){if(i===o)return r(c+1,h);var u=a[i];s(p+u,{pathExt:l},function(r,s){if(!r&&s){if(!e.all)return n(null,p+u);f.push(p+u)}return t(i+1,o)})}(0,a.length)}(0,o.length)}},function(t,e,n){"use strict";t.exports=t=>{const e=(t=t||{}).env||process.env;return"win32"!==(t.platform||process.platform)?"PATH":Object.keys(e).find(t=>"PATH"===t.toUpperCase())||"Path"}},function(t,e,n){"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;t.exports.command=function(t){return t=t.replace(r,"^$1")},t.exports.argument=function(t,e){return t=(t=`"${t=(t=(t=`${t}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(r,"^$1"),e&&(t=t.replace(r,"^$1")),t}},function(t,e,n){"use strict";const r=n(35),i=n(160);t.exports=function(t){let e,n;Buffer.alloc?e=Buffer.alloc(150):(e=new Buffer(150)).fill(0);try{n=r.openSync(t,"r"),r.readSync(n,e,0,150,0),r.closeSync(n)}catch(t){}return i(e.toString())}},function(t,e,n){"use strict";var r=n(161);t.exports=function(t){var e=t.match(r);if(!e)return null;var n=e[0].replace(/#! ?/,"").split(" "),i=n[0].split("/").pop(),o=n[1];return"env"===i?o:i+(o?" "+o:"")}},function(t,e,n){"use strict";t.exports=/^#!.*/},function(t,e){var n;e=t.exports=K,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=e.re=[],s=e.src=[],u=0,c=u++;s[c]="0|[1-9]\\d*";var a=u++;s[a]="[0-9]+";var l=u++;s[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=u++;s[f]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var h=u++;s[h]="("+s[a]+")\\.("+s[a]+")\\.("+s[a]+")";var d=u++;s[d]="(?:"+s[c]+"|"+s[l]+")";var p=u++;s[p]="(?:"+s[a]+"|"+s[l]+")";var _=u++;s[_]="(?:-("+s[d]+"(?:\\."+s[d]+")*))";var m=u++;s[m]="(?:-?("+s[p]+"(?:\\."+s[p]+")*))";var g=u++;s[g]="[0-9A-Za-z-]+";var y=u++;s[y]="(?:\\+("+s[g]+"(?:\\."+s[g]+")*))";var v=u++,b="v?"+s[f]+s[_]+"?"+s[y]+"?";s[v]="^"+b+"$";var w="[v=\\s]*"+s[h]+s[m]+"?"+s[y]+"?",x=u++;s[x]="^"+w+"$";var E=u++;s[E]="((?:<|>)?=?)";var S=u++;s[S]=s[a]+"|x|X|\\*";var C=u++;s[C]=s[c]+"|x|X|\\*";var T=u++;s[T]="[v=\\s]*("+s[C]+")(?:\\.("+s[C]+")(?:\\.("+s[C]+")(?:"+s[_]+")?"+s[y]+"?)?)?";var R=u++;s[R]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var O=u++;s[O]="^"+s[E]+"\\s*"+s[T]+"$";var N=u++;s[N]="^"+s[E]+"\\s*"+s[R]+"$";var P=u++;s[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var k=u++;s[k]="(?:~>?)";var j=u++;s[j]="(\\s*)"+s[k]+"\\s+",o[j]=new RegExp(s[j],"g");var I=u++;s[I]="^"+s[k]+s[T]+"$";var D=u++;s[D]="^"+s[k]+s[R]+"$";var M=u++;s[M]="(?:\\^)";var A=u++;s[A]="(\\s*)"+s[M]+"\\s+",o[A]=new RegExp(s[A],"g");var q=u++;s[q]="^"+s[M]+s[T]+"$";var F=u++;s[F]="^"+s[M]+s[R]+"$";var L=u++;s[L]="^"+s[E]+"\\s*("+w+")$|^$";var $=u++;s[$]="^"+s[E]+"\\s*("+b+")$|^$";var W=u++;s[W]="(\\s*)"+s[E]+"\\s*("+w+"|"+s[T]+")",o[W]=new RegExp(s[W],"g");var V=u++;s[V]="^\\s*("+s[T]+")\\s+-\\s+("+s[T]+")\\s*$";var U=u++;s[U]="^\\s*("+s[R]+")\\s+-\\s+("+s[R]+")\\s*$";var H=u++;s[H]="(<|>)?=?\\s*\\*";for(var z=0;z<35;z++)n(z,s[z]),o[z]||(o[z]=new RegExp(s[z]));function B(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof K)return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?o[x]:o[v]).test(t))return null;try{return new K(t,e)}catch(t){return null}}function K(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof K){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>r)throw new TypeError("version is longer than "+r+" characters");if(!(this instanceof K))return new K(t,e);n("SemVer",t,e),this.options=e,this.loose=!!e.loose;var s=t.trim().match(e.loose?o[x]:o[v]);if(!s)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i)return e}return t}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=B,e.valid=function(t,e){var n=B(t,e);return n?n.version:null},e.clean=function(t,e){var n=B(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(t){return n("SemVer.compare",this.version,this.options,t),t instanceof K||(t=new K(t,this.options)),this.compareMain(t)||this.comparePre(t)},K.prototype.compareMain=function(t){return t instanceof K||(t=new K(t,this.options)),Y(this.major,t.major)||Y(this.minor,t.minor)||Y(this.patch,t.patch)},K.prototype.comparePre=function(t){if(t instanceof K||(t=new K(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Y(r,i)}while(++e)},K.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new K(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(Q(t,e))return null;var n=B(t),r=B(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var G=/^[0-9]+$/;function Y(t,e){var n=G.test(t),r=G.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function Z(t,e,n){return new K(t,n).compare(new K(e,n))}function J(t,e,n){return Z(t,e,n)>0}function X(t,e,n){return Z(t,e,n)<0}function Q(t,e,n){return 0===Z(t,e,n)}function tt(t,e,n){return 0!==Z(t,e,n)}function et(t,e,n){return Z(t,e,n)>=0}function nt(t,e,n){return Z(t,e,n)<=0}function rt(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return Q(t,n,r);case"!=":return tt(t,n,r);case">":return J(t,n,r);case">=":return et(t,n,r);case"<":return X(t,n,r);case"<=":return nt(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function it(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof it){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof it))return new it(t,e);n("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===ot?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return Y(e,t)},e.major=function(t,e){return new K(t,e).major},e.minor=function(t,e){return new K(t,e).minor},e.patch=function(t,e){return new K(t,e).patch},e.compare=Z,e.compareLoose=function(t,e){return Z(t,e,!0)},e.rcompare=function(t,e,n){return Z(e,t,n)},e.sort=function(t,n){return t.sort(function(t,r){return e.compare(t,r,n)})},e.rsort=function(t,n){return t.sort(function(t,r){return e.rcompare(t,r,n)})},e.gt=J,e.lt=X,e.eq=Q,e.neq=tt,e.gte=et,e.lte=nt,e.cmp=rt,e.Comparator=it;var ot={};function st(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof st)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new st(t.raw,e);if(t instanceof it)return new st(t.value,e);if(!(this instanceof st))return new st(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function ut(t){return!t||"x"===t.toLowerCase()||"*"===t}function ct(t,e,n,r,i,o,s,u,c,a,l,f,h){return((e=ut(n)?"":ut(r)?">="+n+".0.0":ut(i)?">="+n+"."+r+".0":">="+e)+" "+(u=ut(c)?"":ut(a)?"<"+(+c+1)+".0.0":ut(l)?"<"+c+"."+(+a+1)+".0":f?"<="+c+"."+a+"."+l+"-"+f:"<="+u)).trim()}function at(t,e,r){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(i=0;i<t.length;i++)if(n(t[i].semver),t[i].semver!==ot&&t[i].semver.prerelease.length>0){var o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}function lt(t,e,n){try{e=new st(e,n)}catch(t){return!1}return e.test(t)}function ft(t,e,n,r){var i,o,s,u,c;switch(t=new K(t,r),e=new st(e,r),n){case">":i=J,o=nt,s=X,u=">",c=">=";break;case"<":i=X,o=et,s=J,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(lt(t,e,r))return!1;for(var a=0;a<e.set.length;++a){var l=e.set[a],f=null,h=null;if(l.forEach(function(t){t.semver===ot&&(t=new it(">=0.0.0")),f=f||t,h=h||t,i(t.semver,f.semver,r)?f=t:s(t.semver,h.semver,r)&&(h=t)}),f.operator===u||f.operator===c)return!1;if((!h.operator||h.operator===u)&&o(t,h.semver))return!1;if(h.operator===c&&s(t,h.semver))return!1}return!0}it.prototype.parse=function(t){var e=this.options.loose?o[L]:o[$],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new K(n[2],this.options.loose):this.semver=ot},it.prototype.toString=function(){return this.value},it.prototype.test=function(t){return n("Comparator.test",t,this.options.loose),this.semver===ot||("string"==typeof t&&(t=new K(t,this.options)),rt(t,this.operator,this.semver,this.options))},it.prototype.intersects=function(t,e){if(!(t instanceof it))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return n=new st(t.value,e),lt(this.value,n,e);if(""===t.operator)return n=new st(this.value,e),lt(t.semver,n,e);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),u=rt(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=rt(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&s||u||c},e.Range=st,st.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range},st.prototype.toString=function(){return this.range},st.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?o[U]:o[V];t=t.replace(r,ct),n("hyphen replace",t),t=t.replace(o[W],"$1$2$3"),n("comparator trim",t,o[W]),t=(t=(t=t.replace(o[j],"$1~")).replace(o[A],"$1^")).split(/\s+/).join(" ");var i=e?o[L]:o[$],s=t.split(" ").map(function(t){return function(t,e){return n("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){n("caret",t,e);var r=e.loose?o[F]:o[q];return t.replace(r,function(e,r,i,o,s){var u;return n("caret",t,e,r,i,o,s),ut(r)?u="":ut(i)?u=">="+r+".0.0 <"+(+r+1)+".0.0":ut(o)?u="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),u="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),u="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",u),u})}(t,e)}).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map(function(t){return function(t,e){var r=e.loose?o[D]:o[I];return t.replace(r,function(e,r,i,o,s){var u;return n("tilde",t,e,r,i,o,s),ut(r)?u="":ut(i)?u=">="+r+".0.0 <"+(+r+1)+".0.0":ut(o)?u=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),u=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):u=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",u),u})}(t,e)}).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map(function(t){return function(t,e){t=t.trim();var r=e.loose?o[N]:o[O];return t.replace(r,function(e,r,i,o,s,u){n("xRange",t,e,r,i,o,s,u);var c=ut(i),a=c||ut(o),l=a||ut(s);return"="===r&&l&&(r=""),c?e=">"===r||"<"===r?"<0.0.0":"*":r&&l?(a&&(o=0),s=0,">"===r?(r=">=",a?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",a?i=+i+1:o=+o+1),e=r+i+"."+o+"."+s):a?e=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(e=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",e),e})}(t,e)}).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(o[H],"")}(t,e),n("stars",t),t}(t,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(t){return!!t.match(i)})),s=s.map(function(t){return new it(t,this.options)},this)},st.prototype.intersects=function(t,e){if(!(t instanceof st))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return t.set.some(function(t){return t.every(function(t){return n.intersects(t,e)})})})})},e.toComparators=function(t,e){return new st(t,e).set.map(function(t){return t.map(function(t){return t.value}).join(" ").trim().split(" ")})},st.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new K(t,this.options));for(var e=0;e<this.set.length;e++)if(at(this.set[e],t,this.options))return!0;return!1},e.satisfies=lt,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var o=new st(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&-1!==i.compare(t)||(i=new K(r=t,n)))}),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var o=new st(e,n)}catch(t){return null}return t.forEach(function(t){o.test(t)&&(r&&1!==i.compare(t)||(i=new K(r=t,n)))}),r},e.minVersion=function(t,e){t=new st(t,e);var n=new K("0.0.0");if(t.test(n))return n;if(n=new K("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach(function(t){var e=new K(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!J(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}})}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new st(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return ft(t,e,"<",n)},e.gtr=function(t,e,n){return ft(t,e,">",n)},e.outside=ft,e.prerelease=function(t,e){var n=B(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new st(t,n),e=new st(e,n),t.intersects(e)},e.coerce=function(t){if(t instanceof K)return t;if("string"!=typeof t)return null;var e=t.match(o[P]);if(null==e)return null;return B(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}},function(t,e,n){"use strict";const r="win32"===process.platform;function i(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function o(t,e){return r&&1===t&&!e.file?i(e.original,"spawn"):null}t.exports={hookChildProcess:function(t,e){if(!r)return;const n=t.emit;t.emit=function(r,i){if("exit"===r){const r=o(i,e);if(r)return n.call(t,"error",r)}return n.apply(t,arguments)}},verifyENOENT:o,verifyENOENTSync:function(t,e){return r&&1===t&&!e.file?i(e.original,"spawnSync"):null},notFoundError:i}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=r(n(96)),s=n(24),u=r(n(21));e.default=class extends o.default{constructor(){super(...arguments),this.code="Reek"}get cmd(){if(this.lintConfig.command)return this.lintConfig.command;{const t="reek";return this.isWindows()?t+".bat":t}}get args(){return["-f","json","--stdin-filename",`'${i.URI.parse(this.document.uri).fsPath}'`]}processResults(t){let e=[];try{const n=JSON.parse(t);for(const t of n){const n=this.reekOffenseToDiagnostic(t);e=e.concat(n)}}catch(e){u.default.error(`Lint: Received invalid JSON from reek:\n\n${t}`)}return e}reekOffenseToDiagnostic(t){const e={severity:s.DiagnosticSeverity.Warning,message:t.message,source:t.smell_type,code:this.code};return t.lines.map(t=>Object.assign(Object.assign({},e),{range:{start:{line:t,character:1},end:{line:t,character:1}}}))}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(21)),o=r(n(95));e.default=class extends o.default{constructor(){super(...arguments),this.code="Standard"}get cmd(){if(this.lintConfig.command)return this.lintConfig.command;{const t="standardrb";return this.isWindows()?t+".bat":t}}get args(){const t=super.args;return t.push("--no-fix"),t}processResults(t){const e=t.lastIndexOf("}")+1;let n=[];try{const r=JSON.parse(t.substring(0,e));for(const t of r.files){const e=t.offenses.map(t=>this.rubocopOffenseToDiagnostic(t));n=n.concat(e)}}catch(e){i.default.error(`Lint: Received invalid JSON from standardrb:\n\n${t}`)}return n}}},function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function u(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(47)),s=i(n(167));class u extends o.default{constructor(t){super(t),this.handleDocumentFormattingRequest=t=>r(this,void 0,void 0,function*(){const{textDocument:e}=t;return s.default.format(e).toPromise()}),this.handleDocumentRangeFormattingRequest=t=>r(this,void 0,void 0,function*(){const{textDocument:e,range:n}=t;return s.default.format(e,n).toPromise()}),this.connection.onDocumentFormatting(this.handleDocumentFormattingRequest),this.connection.onDocumentRangeFormatting(this.handleDocumentRangeFormattingRequest)}static register(t){return new u(t)}}e.default=u},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(15)),o=n(60),s=n(68),u=n(36),c=n(37),a=n(42),l=n(168),f={rubocop:l.RuboCop,standard:l.Standard,rufo:l.Rufo,rubyfmt:l.RubyFMT,prettier:l.Prettier};const h={format(t,e){const n=s.documents.get(t.uri);return c.from(o.documentConfigurationCache.get(t.uri)).pipe(a.mergeMap(t=>c.from(o.workspaceRubyEnvironmentCache.get(t.workspaceFolderUri)).pipe(a.mergeMap(r=>(function(t,e,n,r){if("string"==typeof n.format&&n.workspaceFolderUri){const o={env:e,executionRoot:i.default.dirname(u.URI.parse(t.uri).fsPath),config:{command:n.format,useBundler:n.useBundler}};return r&&(o.range=r),new f[n.format](t,o)}return new l.NullFormatter})(n,r,t,e).format()))))}};e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(169);e.NullFormatter=r.default;var i=n(98);e.RuboCop=i.default;var o=n(171);e.Rufo=o.default;var s=n(172);e.Standard=s.default;var u=n(173);e.RubyFMT=u.default;var c=n(174);e.Prettier=c.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(37);e.default=class{format(){return r.of([])}}},function(t,e){function n(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}n.Diff,n.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,s=this.diff_commonPrefix(t,e),u=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var c=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var a=this.diff_compute_(t,e,o,i);return u&&a.unshift([0,u]),c&&a.push([0,c]),this.diff_cleanupMerge(a),a},n.prototype.diff_compute_=function(t,e,n,r){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,u=o.indexOf(s);if(-1!=u)return i=[[1,o.substring(0,u)],[0,s],[1,o.substring(u+s.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1==s.length)return[[-1,t],[1,e]];var c=this.diff_halfMatch_(t,e);if(c){var a=c[0],l=c[1],f=c[2],h=c[3],d=c[4],p=this.diff_main(a,f,n,r),_=this.diff_main(l,h,n,r);return p.concat([[0,d]],_)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},n.prototype.diff_lineMode_=function(t,e,n){t=(l=this.diff_linesToChars_(t,e)).chars1,e=l.chars2;var r=l.lineArray,i=this.diff_main(t,e,!1,n);this.diff_charsToLines_(i,r),this.diff_cleanupSemantic(i),i.push([0,""]);for(var o=0,s=0,u=0,c="",a="";o<i.length;){switch(i[o][0]){case 1:u++,a+=i[o][1];break;case-1:s++,c+=i[o][1];break;case 0:if(s>=1&&u>=1){i.splice(o-s-u,s+u),o=o-s-u;for(var l,f=(l=this.diff_main(c,a,!1,n)).length-1;f>=0;f--)i.splice(o,0,l[f]);o+=l.length}u=0,s=0,c="",a=""}o++}return i.pop(),i},n.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),s=o,u=2*o,c=new Array(u),a=new Array(u),l=0;l<u;l++)c[l]=-1,a[l]=-1;c[s+1]=0,a[s+1]=0;for(var f=r-i,h=f%2!=0,d=0,p=0,_=0,m=0,g=0;g<o&&!((new Date).getTime()>n);g++){for(var y=-g+d;y<=g-p;y+=2){for(var v=s+y,b=(C=y==-g||y!=g&&c[v-1]<c[v+1]?c[v+1]:c[v-1]+1)-y;C<r&&b<i&&t.charAt(C)==e.charAt(b);)C++,b++;if(c[v]=C,C>r)p+=2;else if(b>i)d+=2;else if(h){if((E=s+f-y)>=0&&E<u&&-1!=a[E])if(C>=(x=r-a[E]))return this.diff_bisectSplit_(t,e,C,b,n)}}for(var w=-g+_;w<=g-m;w+=2){for(var x,E=s+w,S=(x=w==-g||w!=g&&a[E-1]<a[E+1]?a[E+1]:a[E-1]+1)-w;x<r&&S<i&&t.charAt(r-x-1)==e.charAt(i-S-1);)x++,S++;if(a[E]=x,x>r)m+=2;else if(S>i)_+=2;else if(!h){if((v=s+f-w)>=0&&v<u&&-1!=c[v]){var C;b=s+(C=c[v])-v;if(C>=(x=r-x))return this.diff_bisectSplit_(t,e,C,b,n)}}}}return[[-1,t],[1,e]]},n.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),s=e.substring(0,r),u=t.substring(n),c=e.substring(r),a=this.diff_main(o,s,!1,i),l=this.diff_main(u,c,!1,i);return a.concat(l)},n.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,o=-1,s=n.length;o<t.length-1;){-1==(o=t.indexOf("\n",i))&&(o=t.length-1);var u=t.substring(i,o+1);i=o+1,(r.hasOwnProperty?r.hasOwnProperty(u):void 0!==r[u])?e+=String.fromCharCode(r[u]):(e+=String.fromCharCode(s),r[u]=s,n[s++]=u)}return e}return n[0]="",{chars1:i(t),chars2:i(e),lineArray:n}},n.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],o=0;o<r.length;o++)i[o]=e[r.charCodeAt(o)];t[n][1]=i.join("")}},n.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},n.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var o=0,s=1;;){var u=t.substring(i-s),c=e.indexOf(u);if(-1==c)return o;s+=c,0!=c&&t.substring(i-s)!=e.substring(0,s)||(o=s,s++)}},n.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function o(t,e,n){for(var r,o,s,u,c=t.substring(n,n+Math.floor(t.length/4)),a=-1,l="";-1!=(a=e.indexOf(c,a+1));){var f=i.diff_commonPrefix(t.substring(n),e.substring(a)),h=i.diff_commonSuffix(t.substring(0,n),e.substring(0,a));l.length<h+f&&(l=e.substring(a-h,a)+e.substring(a,a+f),r=t.substring(0,n-h),o=t.substring(n+f),s=e.substring(0,a-h),u=e.substring(a+f))}return 2*l.length>=t.length?[r,o,s,u,l]:null}var s,u,c,a,l,f=o(n,r,Math.ceil(n.length/4)),h=o(n,r,Math.ceil(n.length/2));return f||h?(s=h?f&&f[4].length>h[4].length?f:h:f,t.length>e.length?(u=s[0],c=s[1],a=s[2],l=s[3]):(a=s[0],l=s[1],u=s[2],c=s[3]),[u,c,a,l,s[4]]):null},n.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=0,u=0,c=0,a=0;o<t.length;)0==t[o][0]?(n[r++]=o,s=c,u=a,c=0,a=0,i=t[o][1]):(1==t[o][0]?c+=t[o][1].length:a+=t[o][1].length,i&&i.length<=Math.max(s,u)&&i.length<=Math.max(c,a)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,s=0,u=0,c=0,a=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(-1==t[o-1][0]&&1==t[o][0]){var l=t[o-1][1],f=t[o][1],h=this.diff_commonOverlap_(l,f),d=this.diff_commonOverlap_(f,l);h>=d?(h>=l.length/2||h>=f.length/2)&&(t.splice(o,0,[0,f.substring(0,h)]),t[o-1][1]=l.substring(0,l.length-h),t[o+1][1]=f.substring(h),o++):(d>=l.length/2||d>=f.length/2)&&(t.splice(o,0,[0,l.substring(0,d)]),t[o-1][0]=1,t[o-1][1]=f.substring(0,f.length-d),t[o+1][0]=-1,t[o+1][1]=l.substring(d),o++),o++}o++}},n.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var r=t.charAt(t.length-1),i=e.charAt(0),o=r.match(n.nonAlphaNumericRegex_),s=i.match(n.nonAlphaNumericRegex_),u=o&&r.match(n.whitespaceRegex_),c=s&&i.match(n.whitespaceRegex_),a=u&&r.match(n.linebreakRegex_),l=c&&i.match(n.linebreakRegex_),f=a&&t.match(n.blanklineEndRegex_),h=l&&e.match(n.blanklineStartRegex_);return f||h?5:a||l?4:o&&!u&&c?3:u||c?2:o||s?1:0}for(var r=1;r<t.length-1;){if(0==t[r-1][0]&&0==t[r+1][0]){var i=t[r-1][1],o=t[r][1],s=t[r+1][1],u=this.diff_commonSuffix(i,o);if(u){var c=o.substring(o.length-u);i=i.substring(0,i.length-u),o=c+o.substring(0,o.length-u),s=c+s}for(var a=i,l=o,f=s,h=e(i,o)+e(o,s);o.charAt(0)===s.charAt(0);){i+=o.charAt(0),o=o.substring(1)+s.charAt(0),s=s.substring(1);var d=e(i,o)+e(o,s);d>=h&&(h=d,a=i,l=o,f=s)}t[r-1][1]!=a&&(a?t[r-1][1]=a:(t.splice(r-1,1),r--),t[r][1]=l,f?t[r+1][1]=f:(t.splice(r+1,1),r--))}r++}},n.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,n.whitespaceRegex_=/\s/,n.linebreakRegex_=/[\r\n]/,n.blanklineEndRegex_=/\n\r?\n$/,n.blanklineStartRegex_=/^\r?\n\r?\n/,n.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=!1,u=!1,c=!1,a=!1;o<t.length;)0==t[o][0]?(t[o][1].length<this.Diff_EditCost&&(c||a)?(n[r++]=o,s=c,u=a,i=t[o][1]):(r=0,i=null),c=a=!1):(-1==t[o][0]?a=!0:c=!0,i&&(s&&u&&c&&a||i.length<this.Diff_EditCost/2&&s+u+c+a==3)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i=null,s&&u?(c=a=!0,r=0):(o=--r>0?n[r-1]:-1,c=a=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},n.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,o="",s="";n<t.length;)switch(t[n][0]){case 1:i++,s+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(s,o))&&(n-r-i>0&&0==t[n-r-i-1][0]?t[n-r-i-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(s,o))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),o=o.substring(0,o.length-e))),0===r?t.splice(n-i,r+i,[1,s]):0===i?t.splice(n-r,r+i,[-1,o]):t.splice(n-r-i,r+i,[-1,o],[1,s]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s=""}""===t[t.length-1][1]&&t.pop();var u=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),u=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),u=!0)),n++;u&&this.diff_cleanupMerge(t)},n.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,s=i;return t.length!=n&&-1===t[n][0]?s:s+(e-o)},n.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<t.length;s++){var u=t[s][0],c=t[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(u){case 1:e[s]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:e[s]="<span>"+c+"</span>"}}return e.join("")},n.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},n.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t[i][0],s=t[i][1];switch(o){case 1:n+=s.length;break;case-1:r+=s.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+=Math.max(n,r)},n.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},n.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,o=e.split(/\t/g),s=0;s<o.length;s++){var u=o[s].substring(1);switch(o[s].charAt(0)){case"+":try{n[r++]=[1,decodeURI(u)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+u)}break;case"-":case"=":var c=parseInt(u,10);if(isNaN(c)||c<0)throw new Error("Invalid number in diff_fromDelta: "+u);var a=t.substring(i,i+=c);"="==o[s].charAt(0)?n[r++]=[0,a]:n[r++]=[-1,a];break;default:if(o[s])throw new Error("Invalid diff operation in diff_fromDelta: "+o[s])}}if(i!=t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},n.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},n.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function o(t,r){var o=t/e.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,u=t.indexOf(e,n);-1!=u&&(s=Math.min(o(0,u),s),-1!=(u=t.lastIndexOf(e,n+e.length))&&(s=Math.min(o(0,u),s)));var c,a,l=1<<e.length-1;u=-1;for(var f,h=e.length+t.length,d=0;d<e.length;d++){for(c=0,a=h;c<a;)o(d,n+a)<=s?c=a:h=a,a=Math.floor((h-c)/2+c);h=a;var p=Math.max(1,n-a+1),_=Math.min(n+a,t.length)+e.length,m=Array(_+2);m[_+1]=(1<<d)-1;for(var g=_;g>=p;g--){var y=r[t.charAt(g-1)];if(m[g]=0===d?(m[g+1]<<1|1)&y:(m[g+1]<<1|1)&y|(f[g+1]|f[g])<<1|1|f[g+1],m[g]&l){var v=o(d,g-1);if(v<=s){if(s=v,!((u=g-1)>n))break;p=Math.max(1,2*n-u)}}}if(o(d+1,n)>s)break;f=m}return u},n.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},n.prototype.patch_addContext_=function(t,e){if(0!=e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=e.substring(t.start2-r,t.start2+t.length1+r);r+=this.Patch_Margin;var i=e.substring(t.start2-r,t.start2);i&&t.diffs.unshift([0,i]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+r);o&&t.diffs.push([0,o]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+o.length,t.length2+=i.length+o.length}},n.prototype.patch_make=function(t,e,r){var i,o;if("string"==typeof t&&"string"==typeof e&&void 0===r)i=t,(o=this.diff_main(i,e,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===e&&void 0===r)o=t,i=this.diff_text1(o);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===r)i=t,o=e;else{if("string"!=typeof t||"string"!=typeof e||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=t,o=r}if(0===o.length)return[];for(var s=[],u=new n.patch_obj,c=0,a=0,l=0,f=i,h=i,d=0;d<o.length;d++){var p=o[d][0],_=o[d][1];switch(c||0===p||(u.start1=a,u.start2=l),p){case 1:u.diffs[c++]=o[d],u.length2+=_.length,h=h.substring(0,l)+_+h.substring(l);break;case-1:u.length1+=_.length,u.diffs[c++]=o[d],h=h.substring(0,l)+h.substring(l+_.length);break;case 0:_.length<=2*this.Patch_Margin&&c&&o.length!=d+1?(u.diffs[c++]=o[d],u.length1+=_.length,u.length2+=_.length):_.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(u,f),s.push(u),u=new n.patch_obj,c=0,f=h,a=l)}1!==p&&(a+=_.length),-1!==p&&(l+=_.length)}return c&&(this.patch_addContext_(u,f),s.push(u)),s},n.prototype.patch_deepCopy=function(t){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=new n.patch_obj;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=i.diffs[s].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,e[r]=o}return e},n.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var s,u,c=t[o].start2+r,a=this.diff_text1(t[o].diffs),l=-1;if(a.length>this.Match_MaxBits?-1!=(s=this.match_main(e,a.substring(0,this.Match_MaxBits),c))&&(-1==(l=this.match_main(e,a.substring(a.length-this.Match_MaxBits),c+a.length-this.Match_MaxBits))||s>=l)&&(s=-1):s=this.match_main(e,a,c),-1==s)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=s-c,a==(u=-1==l?e.substring(s,s+a.length):e.substring(s,l+this.Match_MaxBits)))e=e.substring(0,s)+this.diff_text2(t[o].diffs)+e.substring(s+a.length);else{var f=this.diff_main(a,u,!1);if(a.length>this.Match_MaxBits&&this.diff_levenshtein(f)/a.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(f);for(var h,d=0,p=0;p<t[o].diffs.length;p++){var _=t[o].diffs[p];0!==_[0]&&(h=this.diff_xIndex(f,d)),1===_[0]?e=e.substring(0,s+h)+_[1]+e.substring(s+h):-1===_[0]&&(e=e.substring(0,s+h)+e.substring(s+this.diff_xIndex(f,d+_[1].length))),-1!==_[0]&&(d+=_[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},n.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(r=0;r<t.length;r++)t[r].start1+=e,t[r].start2+=e;var i=t[0],o=i.diffs;if(0==o.length||0!=o[0][0])o.unshift([0,n]),i.start1-=e,i.start2-=e,i.length1+=e,i.length2+=e;else if(e>o[0][1].length){var s=e-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=s,i.start2-=s,i.length1+=s,i.length2+=s}if(0==(o=(i=t[t.length-1]).diffs).length||0!=o[o.length-1][0])o.push([0,n]),i.length1+=e,i.length2+=e;else if(e>o[o.length-1][1].length){s=e-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,s),i.length1+=s,i.length2+=s}return n},n.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=e)){var i=t[r];t.splice(r--,1);for(var o=i.start1,s=i.start2,u="";0!==i.diffs.length;){var c=new n.patch_obj,a=!0;for(c.start1=o-u.length,c.start2=s-u.length,""!==u&&(c.length1=c.length2=u.length,c.diffs.push([0,u]));0!==i.diffs.length&&c.length1<e-this.Patch_Margin;){var l=i.diffs[0][0],f=i.diffs[0][1];1===l?(c.length2+=f.length,s+=f.length,c.diffs.push(i.diffs.shift()),a=!1):-1===l&&1==c.diffs.length&&0==c.diffs[0][0]&&f.length>2*e?(c.length1+=f.length,o+=f.length,a=!1,c.diffs.push([l,f]),i.diffs.shift()):(f=f.substring(0,e-c.length1-this.Patch_Margin),c.length1+=f.length,o+=f.length,0===l?(c.length2+=f.length,s+=f.length):a=!1,c.diffs.push([l,f]),f==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(f.length))}u=(u=this.diff_text2(c.diffs)).substring(u.length-this.Patch_Margin);var h=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==h&&(c.length1+=h.length,c.length2+=h.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=h:c.diffs.push([0,h])),a||t.splice(++r,0,c)}}},n.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},n.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var r=t.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(o);if(!s)throw new Error("Invalid patch string: "+r[i]);var u=new n.patch_obj;for(e.push(u),u.start1=parseInt(s[1],10),""===s[2]?(u.start1--,u.length1=1):"0"==s[2]?u.length1=0:(u.start1--,u.length1=parseInt(s[2],10)),u.start2=parseInt(s[3],10),""===s[4]?(u.start2--,u.length2=1):"0"==s[4]?u.length2=0:(u.start2--,u.length2=parseInt(s[4],10)),i++;i<r.length;){var c=r[i].charAt(0);try{var a=decodeURI(r[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+a)}if("-"==c)u.diffs.push([-1,a]);else if("+"==c)u.diffs.push([1,a]);else if(" "==c)u.diffs.push([0,a]);else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+a)}i++}}return e},n.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},n.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t.exports=n,t.exports.diff_match_patch=n,t.exports.DIFF_DELETE=-1,t.exports.DIFF_INSERT=1,t.exports.DIFF_EQUAL=0},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=r(n(69));e.default=class extends o.default{get cmd(){return this.isWindows()?"rufo.bat":"rufo"}get args(){return[`--filename='${i.URI.parse(this.document.uri).fsPath}'`,"-x"]}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=n(36),o=r(n(98));e.default=class extends o.default{get cmd(){return this.isWindows()?"standardrb.bat":"standardrb"}get args(){return["-s",`'${i.URI.parse(this.document.uri).fsPath}'`,"--fix"]}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(69));e.default=class extends i.default{get cmd(){return"rubyfmt"}get args(){return[]}get useBundler(){return!1}}},function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(65)),o=n(36),s=r(n(69));var u;!function(t){t.RbPrettier="rbprettier",t.Prettier="prettier"}(u||(u={}));e.default=class extends s.default{constructor(){super(...arguments),this._cmd=""}get cmd(){return""===this._cmd?this.buildCmd():this._cmd}get args(){return[`${o.URI.parse(this.document.uri).fsPath}`]}buildCmd(){let t=this.getPrettierExecutable();return t===u.RbPrettier?(this._cmd=t,t):(t=this.isWindows()?t+".bat":t,this._cmd=t,t)}getPrettierExecutable(){let t=[];this.useBundler&&(t=[...t,"bundle","exec"]);const e=(t=[...t,"rbprettier","--version"]).shift();return 0!==i.default.spawnSync(e,t).stderr.length?u.Prettier:u.RbPrettier}}}]);
//# sourceMappingURL=index.js.map